<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.3.3"/><meta name="description" content="이전 글까지는 라인 차트의 기본 기능을 구현하고, 옵션 기능을 구현하고, 레전드(범례) 기능까지 구현했다. 오늘은 터치를 통해 특정 아이템을 선택하는 기능을 구현하자.

요구사항이나 차트 라이브러리에 따라 다르긴 하지만, 보통 차트에서 특정 아이템을…" data-gatsby-head="true"/><meta name="author" content="ricale" data-gatsby-head="true"/><meta name="keywords" content="React Native, react-native-svg, D3.js, 차트, 라인차트" data-gatsby-head="true"/><meta property="og:type" content="article" data-gatsby-head="true"/><meta property="og:title" content="React Native 에서 차트 구현 - 4. 라인차트 아이템 선택 기능" data-gatsby-head="true"/><meta property="og:description" content="이전 글까지는 라인 차트의 기본 기능을 구현하고, 옵션 기능을 구현하고, 레전드(범례) 기능까지 구현했다. 오늘은 터치를 통해 특정 아이템을 선택하는 기능을 구현하자.

요구사항이나 차트 라이브러리에 따라 다르긴 하지만, 보통 차트에서 특정 아이템을…" data-gatsby-head="true"/><meta property="og:url" content="https://ricale.kr/blog/posts/230508-chart-in-react-native-with-d3-4" data-gatsby-head="true"/><meta property="og:image" content="https://ricale.kr/blog/blog/static/55237322c60f53a7fabbc1ac66ad470c/ea526/react-native-plus-d3.png" data-gatsby-head="true"/><meta property="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:title" content="React Native 에서 차트 구현 - 4. 라인차트 아이템 선택 기능" data-gatsby-head="true"/><meta property="twitter:description" content="이전 글까지는 라인 차트의 기본 기능을 구현하고, 옵션 기능을 구현하고, 레전드(범례) 기능까지 구현했다. 오늘은 터치를 통해 특정 아이템을 선택하는 기능을 구현하자.

요구사항이나 차트 라이브러리에 따라 다르긴 하지만, 보통 차트에서 특정 아이템을…" data-gatsby-head="true"/><meta property="twitter:url" content="https://ricale.kr/blog/posts/230508-chart-in-react-native-with-d3-4" data-gatsby-head="true"/><meta property="twitter:image" content="https://ricale.kr/blog/blog/static/55237322c60f53a7fabbc1ac66ad470c/ea526/react-native-plus-d3.png" data-gatsby-head="true"/><meta name="google-site-verification" content="Z24DuzLFxq0tVrtFhTxfPETtFXf9rOEG73-HpKk2Pgs" data-gatsby-head="true"/><meta name="msvalidate.01" content="06C6843D272653A5EF82A3F39E712F62" data-gatsby-head="true"/><meta name="theme-color" content="#87ceeb"/><style data-href="/blog/styles.50b9bbb0efe035f54b96.css" data-identity="gatsby-global-css">.codeblock-copy-toast{align-items:center;bottom:16px;display:flex;flex-direction:column;justify-content:flex-end;left:0;position:fixed;right:0}@keyframes fade-in-and-out{0%{opacity:0}5%{opacity:1}95%{opacity:1}to{opacity:0}}.codeblock-copy-toast-message{animation:fade-in-and-out 2s linear;background-color:#666;border-radius:2px;box-shadow:0 0 2px #fff;padding:4px 8px}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}</style><title data-gatsby-head="true">React Native 에서 차트 구현 - 4. 라인차트 아이템 선택 기능 | techblog</title><link rel="icon" href="/blog/favicon-32x32.png?v=e4b26f44c4d5cbdfa5de205fa43822e7" type="image/png"/><link rel="manifest" href="/blog/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/blog/icons/icon-48x48.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><link rel="apple-touch-icon" sizes="72x72" href="/blog/icons/icon-72x72.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><link rel="apple-touch-icon" sizes="96x96" href="/blog/icons/icon-96x96.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><link rel="apple-touch-icon" sizes="144x144" href="/blog/icons/icon-144x144.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><link rel="apple-touch-icon" sizes="192x192" href="/blog/icons/icon-192x192.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><link rel="apple-touch-icon" sizes="256x256" href="/blog/icons/icon-256x256.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><link rel="apple-touch-icon" sizes="384x384" href="/blog/icons/icon-384x384.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><link rel="apple-touch-icon" sizes="512x512" href="/blog/icons/icon-512x512.png?v=e4b26f44c4d5cbdfa5de205fa43822e7"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="alternate" type="application/rss+xml" title="techblog by ricale" href="/blog/rss.xml"/><style data-styled="" data-styled-version="5.3.6">html,body,#___gatsby{width:100%;margin:0;padding:0;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";background-color:#060606;color:#ffffff;}/*!sc*/
h1,h2,h3,h4,h5,h6,p{margin:0;}/*!sc*/
a{color:skyblue;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a:hover{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
input,button,select{margin:0;padding:0;font-size:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
data-styled.g1[id="sc-global-ivDGhe1"]{content:"sc-global-ivDGhe1,"}/*!sc*/
.NcSfy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin:0px 16px 8px;padding-top:8px;}/*!sc*/
data-styled.g2[id="sc-bcXHqe"]{content:"NcSfy,"}/*!sc*/
.kQcYu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-family:monospace;}/*!sc*/
.kQcYu > header{margin-right:8px;font-weight:600;font-size:1.25rem;}/*!sc*/
.kQcYu > header > a{color:white;}/*!sc*/
.kQcYu > address{font-size:0.875rem;font-style:normal;}/*!sc*/
.kQcYu > address > a{color:white;}/*!sc*/
@media (max-width:799px){.kQcYu{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}/*!sc*/
data-styled.g3[id="sc-gswNZR"]{content:"kQcYu,"}/*!sc*/
.bylFiQ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-flex:1;-ms-flex:1;flex:1;}/*!sc*/
.bylFiQ > ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:8px;margin:0;padding:0;list-style:none;}/*!sc*/
.bylFiQ > ul > li > a{display:inline-block;color:#dddddd;-webkit-text-decoration:underline;text-decoration:underline;font-size:0.875rem;}/*!sc*/
data-styled.g4[id="sc-dkrFOg"]{content:"bylFiQ,"}/*!sc*/
.fVhLzR{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:4px;margin-top:60px;margin-bottom:16px;font-size:0.8125rem;color:#aaaaaa;}/*!sc*/
.fVhLzR p{white-space:nowrap;}/*!sc*/
.fVhLzR a{color:#aaaaaa;}/*!sc*/
.fVhLzR strong,.fVhLzR strong > a{font-weight:normal;color:#ffffff;}/*!sc*/
data-styled.g5[id="sc-hLBbgP"]{content:"fVhLzR,"}/*!sc*/
.dacKWb{max-width:800px;margin:0 auto;}/*!sc*/
.dacKWb > main{padding-left:16px;padding-right:16px;padding-bottom:16px;}/*!sc*/
@media (max-width:799px){.dacKWb > main{padding-left:20px;padding-right:20px;}}/*!sc*/
data-styled.g6[id="sc-eDvSVe"]{content:"dacKWb,"}/*!sc*/
.iupBQs{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-size:16px;line-height:1.5;}/*!sc*/
.iupBQs h1,.iupBQs h2,.iupBQs h3,.iupBQs h4,.iupBQs h5,.iupBQs h6{margin-top:24px;margin-bottom:16px;line-height:1.25;font-weight:600;}/*!sc*/
.iupBQs h1 > a.anchor path,.iupBQs h2 > a.anchor path,.iupBQs h3 > a.anchor path,.iupBQs h4 > a.anchor path,.iupBQs h5 > a.anchor path,.iupBQs h6 > a.anchor path{fill:white;}/*!sc*/
.iupBQs h1{padding-bottom:0.3em;border-bottom:1px solid #222222;font-size:2.125em;}/*!sc*/
.iupBQs h2{padding-bottom:0.3em;border-bottom:1px solid #222222;font-size:1.75em;}/*!sc*/
.iupBQs h3{font-size:1.5em;}/*!sc*/
.iupBQs h4{font-size:1.25em;}/*!sc*/
.iupBQs h5{font-size:1em;}/*!sc*/
.iupBQs h6{font-size:0.9375em;}/*!sc*/
.iupBQs ul,.iupBQs ol{margin-bottom:16px;}/*!sc*/
.iupBQs li > ul,.iupBQs li > ol{margin-top:0;margin-bottom:0;}/*!sc*/
.iupBQs img{border:1px solid #333333;}/*!sc*/
.iupBQs img:not([class]){max-width:600px;margin-bottom:16px;}/*!sc*/
.iupBQs .gatsby-resp-image-figure{margin:0 0 16px;}/*!sc*/
.iupBQs .gatsby-resp-image-figure .gatsby-resp-image-wrapper{margin-bottom:0;}/*!sc*/
.iupBQs .gatsby-resp-image-figure .gatsby-resp-image-figcaption{margin-top:4px;text-align:center;font-size:0.875rem;color:#aaaaaa;}/*!sc*/
.iupBQs .gatsby-resp-image-wrapper{margin-bottom:16px;}/*!sc*/
.iupBQs > .md{-webkit-order:1;-ms-flex-order:1;order:1;}/*!sc*/
.iupBQs > .toc{font-size:0.875rem;}/*!sc*/
.iupBQs > .toc > ul{margin:0;padding:0;list-style:none;}/*!sc*/
.iupBQs > .toc > ul ul{list-style:none;}/*!sc*/
@media (max-width:1099px){.iupBQs > .toc{display:none;}}/*!sc*/
@media (min-width:1100px){.iupBQs > .toc{position:absolute;top:8px;left:calc(50% + 400px);height:100%;}.iupBQs > .toc > p{display:none;}.iupBQs > .toc > ul{position:-webkit-sticky;position:sticky;top:10px;padding-left:8px;border-left:1px solid #aaaaaa;white-space:nowrap;overflow:hidden;}.iupBQs > .toc > ul a{color:#aaaaaa;}.iupBQs > .toc > ul a > code{color:#aaaaaa;}.iupBQs > .toc > ul code{white-space:nowrap;}.iupBQs > .toc > ul ul{padding-left:15px;}.iupBQs > .toc .highlight{color:#ffffff;-webkit-text-decoration:underline;text-decoration:underline;}.iupBQs > .toc .highlight code{color:#ffffff;-webkit-text-decoration:underline;text-decoration:underline;}}/*!sc*/
@media (min-width:1120px){.iupBQs > .toc{width:150px;}}/*!sc*/
@media (min-width:1140px){.iupBQs > .toc{width:160px;}}/*!sc*/
@media (min-width:1160px){.iupBQs > .toc{width:170px;}}/*!sc*/
@media (min-width:1180px){.iupBQs > .toc{width:180px;}}/*!sc*/
@media (min-width:1200px){.iupBQs > .toc{width:190px;}}/*!sc*/
@media (min-width:1220px){.iupBQs > .toc{width:200px;}}/*!sc*/
@media (min-width:1240px){.iupBQs > .toc{width:210px;}}/*!sc*/
@media (min-width:1260px){.iupBQs > .toc{width:220px;}}/*!sc*/
@media (min-width:1280px){.iupBQs > .toc{width:230px;}}/*!sc*/
@media (min-width:1300px){.iupBQs > .toc{width:240px;}}/*!sc*/
@media (min-width:1320px){.iupBQs > .toc{width:250px;}}/*!sc*/
@media (min-width:1340px){.iupBQs > .toc{width:260px;}}/*!sc*/
@media (min-width:1360px){.iupBQs > .toc{width:270px;}}/*!sc*/
@media (min-width:1380px){.iupBQs > .toc{width:280px;}}/*!sc*/
@media (min-width:1400px){.iupBQs > .toc{width:290px;}}/*!sc*/
@media (min-width:1420px){.iupBQs > .toc{width:300px;}}/*!sc*/
@media (min-width:1440px){.iupBQs > .toc{width:310px;}}/*!sc*/
@media (min-width:1460px){.iupBQs > .toc{width:320px;}}/*!sc*/
@media (min-width:1480px){.iupBQs > .toc{width:330px;}}/*!sc*/
@media (min-width:1500px){.iupBQs > .toc{width:340px;}}/*!sc*/
@media (min-width:1100px){.iupBQs > .toc > ul{white-space:inherit;}.iupBQs > .toc > ul code{white-space:inherit;}}/*!sc*/
.iupBQs pre[class*="language-"]{margin:0 0 16px;}/*!sc*/
.iupBQs code[class*="language-"]{font-size:0.85rem;}/*!sc*/
.iupBQs .gatsby-highlight-code-line{display:block;margin-left:-1em;margin-right:-1em;padding-top:1.8px;padding-bottom:1.8px;padding-left:0.75em;padding-right:1em;border-left:0.25em solid #999999;background-color:#444444;}/*!sc*/
.iupBQs .line-numbers .line-numbers-rows{bottom:0;padding-top:17.5px;padding-left:12px;}/*!sc*/
.iupBQs pre > code{padding:unset;border-radius:unset;background-color:unset;color:unset;}/*!sc*/
.iupBQs .codeblock-container{position:relative;padding-top:0.1px;}/*!sc*/
.iupBQs .codeblock-container .codeblock-title{position:absolute;top:0px;left:8px;z-index:1;padding:2px 8px;font-size:0.875rem;font-family:consolas,monospace;background-color:#060606;}/*!sc*/
.iupBQs .codeblock-container .codeblock-copy-button{position:absolute;top:0;right:0;padding:4px 6px;border:0;font-size:0.75rem;color:#dddddd;-webkit-text-decoration:underline;text-decoration:underline;background-color:transparent;cursor:pointer;}/*!sc*/
.iupBQs .codeblock-container .codeblock-title + div pre[class*="language-"]{margin-top:8px;}/*!sc*/
.iupBQs .codeblock-container .codeblock-title + div + .codeblock-copy-button{top:8px;}/*!sc*/
@media (max-width:500px){.iupBQs .codeblock-container{padding-top:0;}.iupBQs .codeblock-container .codeblock-title{position:static;background-color:#666666;}}/*!sc*/
.iupBQs blockquote{position:relative;margin-left:0;margin-right:0;margin-bottom:16px;padding:16px 32px;border-left:1px solid #666666;border-left-width:10px;background-color:#1a1a1a;}/*!sc*/
.iupBQs blockquote > :first-child{margin-top:0;}/*!sc*/
.iupBQs blockquote > :last-child{margin-bottom:0;}/*!sc*/
.iupBQs blockquote > ul,.iupBQs blockquote > ol{padding-left:20px;}/*!sc*/
.iupBQs blockquote:before{content:'"';position:absolute;top:-10px;left:5px;font-size:3em;color:#666666;}/*!sc*/
.iupBQs blockquote:after{content:'"';position:absolute;bottom:-30px;right:5px;font-size:3em;color:#666666;}/*!sc*/
.iupBQs table{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;margin-bottom:16px;border-collapse:collapse;}/*!sc*/
.iupBQs table td,.iupBQs table th{padding:6px 13px;border:1px solid #333333;}/*!sc*/
.iupBQs p{margin-top:0;margin-bottom:16px;}/*!sc*/
.iupBQs hr{height:0.25em;margin:24px 0;border:0;background-color:#333333;}/*!sc*/
.iupBQs code{padding:0.2em 0.4em;border-radius:2px;font-size:0.85em;background-color:#333333;color:#dddddd;white-space:break-spaces;}/*!sc*/
.iupBQs a > code{color:skyblue;}/*!sc*/
.iupBQs > .md > :first-child{margin-top:0;}/*!sc*/
data-styled.g16[id="sc-eDWCr"]{content:"iupBQs,"}/*!sc*/
.qVLga{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;max-width:100%;padding:16px;background-color:#1a1a1a;}/*!sc*/
.qVLga:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.gmUCrZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;max-width:100%;padding:16px;background-color:#1a1a1a;}/*!sc*/
.gmUCrZ:hover{-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g17[id="sc-bqWxrE"]{content:"qVLga,gmUCrZ,"}/*!sc*/
.jRgUdV{font-size:0.75rem;color:#ffffff;}/*!sc*/
data-styled.g18[id="sc-ksBlkl"]{content:"jRgUdV,"}/*!sc*/
.hnJSJj{max-width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}/*!sc*/
data-styled.g19[id="sc-hBxehG"]{content:"hnJSJj,"}/*!sc*/
.chzGpf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:16px;margin:120px 0;}/*!sc*/
.chzGpf > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;}/*!sc*/
.chzGpf > :nth-child(1){-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}/*!sc*/
.chzGpf > :nth-child(2){-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}/*!sc*/
data-styled.g20[id="sc-fnGiBr"]{content:"chzGpf,"}/*!sc*/
.ksjgXU{margin-bottom:16px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#1a1a1a;}/*!sc*/
data-styled.g21[id="sc-fEXmlR"]{content:"ksjgXU,"}/*!sc*/
.dRvtfa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}/*!sc*/
.dRvtfa > h2{margin:0;font-size:1rem;}/*!sc*/
.dRvtfa > h2 > a{color:#ffffff;}/*!sc*/
.dRvtfa > span{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);-webkit-transition:-webkit-transform 0.2s;-webkit-transition:transform 0.2s;transition:transform 0.2s;}/*!sc*/
data-styled.g22[id="sc-bjfHbI"]{content:"dRvtfa,"}/*!sc*/
.bvDtRQ{margin:72px 0 84px;padding:0 32px;}/*!sc*/
.bvDtRQ > h1{font-size:2.5rem;word-break:keep-all;margin:0;}/*!sc*/
.bvDtRQ > h1 > a{color:#ffffff;}/*!sc*/
data-styled.g37[id="sc-kMjNwy"]{content:"bvDtRQ,"}/*!sc*/
.iNrrRW{margin-left:2px;}/*!sc*/
data-styled.g38[id="sc-ilhmMj"]{content:"iNrrRW,"}/*!sc*/
.kHCrWL{margin-bottom:120px;}/*!sc*/
data-styled.g39[id="sc-jIRcFI"]{content:"kHCrWL,"}/*!sc*/
</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/blog/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="sc-eDvSVe dacKWb"><div class="sc-bcXHqe NcSfy"><div class="sc-gswNZR kQcYu"><header><a href="/blog/">techblog</a></header><address><a href="https://ricale.kr">by ricale</a></address></div><nav class="sc-dkrFOg bylFiQ"><ul><li><a href="/blog/posts/">모든글</a></li><li><a href="/blog/series/">시리즈</a></li><li><a href="/blog/tags/">태그</a></li><li><a href="https://ricale.kr/blog/rss.xml">RSS</a></li></ul></nav></div><main class="sc-jSUZER dgtqKi"><div class="sc-kMjNwy bvDtRQ"><h1><a aria-current="page" class="" href="/blog/posts/230508-chart-in-react-native-with-d3-4/">React Native 에서 차트 구현 - 4. 라인차트 아이템 선택 기능</a></h1><div class="sc-ilhmMj iNrrRW">2023. 5. 8.</div></div><div class="sc-fEXmlR ksjgXU"><div class="sc-bjfHbI dRvtfa"><h2><a href="/blog/series/React Native 에서 차트 구현/">시리즈 &quot;React Native 에서 차트 구현&quot;</a></h2><span>▲</span></div></div><div class="sc-eDWCr sc-jIRcFI iupBQs kHCrWL"><div class="md"><h1 id="1-개요" style="position:relative"><a href="#1-%EA%B0%9C%EC%9A%94" aria-label="1 개요 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>1. 개요</h1><p>이전 글까지는 라인 차트의 <a href="http://localhost:8000/posts/230411-chart-in-react-native-with-d3-1/">기본 기능을 구현</a>하고, <a href="http://localhost:8000/posts/230419-chart-in-react-native-with-d3-2/">옵션 기능을 구현</a>하고, <a href="http://localhost:8000/posts/230425-chart-in-react-native-with-d3-3/">레전드(범례) 기능까지 구현</a>했다.</p><p>오늘은 터치를 통해 특정 아이템을 선택하는 기능을 구현하자.</p><h1 id="2-구현" style="position:relative"><a href="#2-%EA%B5%AC%ED%98%84" aria-label="2 구현 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2. 구현</h1><p>요구사항이나 차트 라이브러리에 따라 다르긴 하지만, 보통 차트에서 특정 아이템을 선택하면 아래 하이차트 예제처럼 세 가지 정도가 나타난다.</p><div><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/55dee7361ee948a3a78178375e6bbd75/e79f3/highcharts-example-1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 67.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+ElEQVR42m1TiW4iMQyd//+1LZSFBaSigiijMncyRzLJ5HgrG5i27Fp6chIfceyXJE1TLBYLrFYr7HY71pvNBvv9nvfr9Zr18XhkTbblconD4fDDXykFIQSSPM+RZRmklHDOYZomhvd+Bp0TgveMyRoE9+UTwk1ba5GM48jOJDFGPITW3/ckIUb4CCgX0dp49wNciGwjSfq+53I5IIQ50QN0RrA+QE2Bg6WJyBWdRYwuzppsySPguaphUBiGgZ9BUGZirZWC6jsgBsT5VZFLpfWPCuO9QjIWosN6s8F2u8Xb2xteXn7hdDqhrCoUZYnJufsLvsAJ6VYawq1H4B4ZDxRS8oR/r1Z4fV3icrkgTS88EKM19Qf/k0RrDa1H9GNA2VpUrcVoPHqlUYsWWSGRlRLtMKJqBnwWAn/ST+zLCmpwkL1FN0ys7eSRUFYfIopWQWgFqTWKdsC16flMjoZRdgqN1hx07Xrsqxy9MRwj1AChNYxzt4RFWUCIBt55mHEEcdMTlWJksoqmYf5ZY1AUBTy1yAdUVYW6qhB8gBQCeZbdEn6ftDYW1+sVdV2jqmsmPfXZ+YiyLNnWdh373kgdZsoRn5OZvHdVNjWO70cewvl85grJx1mDy8cH6KsS6KKGKn8aTvIP/+5/8vnn4Inwj29HwjxVitnyF+A16pv6UxToAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="highcharts example 1"
        title=""
        src="/blog/static/55dee7361ee948a3a78178375e6bbd75/7491f/highcharts-example-1.png"
        srcset="/blog/static/55dee7361ee948a3a78178375e6bbd75/b8d62/highcharts-example-1.png 150w,
/blog/static/55dee7361ee948a3a78178375e6bbd75/eed55/highcharts-example-1.png 300w,
/blog/static/55dee7361ee948a3a78178375e6bbd75/7491f/highcharts-example-1.png 600w,
/blog/static/55dee7361ee948a3a78178375e6bbd75/385f2/highcharts-example-1.png 900w,
/blog/static/55dee7361ee948a3a78178375e6bbd75/8537d/highcharts-example-1.png 1200w,
/blog/static/55dee7361ee948a3a78178375e6bbd75/e79f3/highcharts-example-1.png 1220w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></div><ol>
<li>선택된 아이템들을 표시하는 세로선</li>
<li>시리즈 라인 별로 선택된 아이템을 표시하는 점</li>
<li>선택된 아이템들의 정보를 표시하는 툴팁</li>
</ol><p>차근차근 구현해보자.</p><h2 id="21-터치된-지점에서-제일-가까운-아이템-찾기" style="position:relative"><a href="#21-%ED%84%B0%EC%B9%98%EB%90%9C-%EC%A7%80%EC%A0%90%EC%97%90%EC%84%9C-%EC%A0%9C%EC%9D%BC-%EA%B0%80%EA%B9%8C%EC%9A%B4-%EC%95%84%EC%9D%B4%ED%85%9C-%EC%B0%BE%EA%B8%B0" aria-label="21 터치된 지점에서 제일 가까운 아이템 찾기 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.1. 터치된 지점에서 제일 가까운 아이템 찾기</h2><p>일단 선택된 아이템들을 어떻게 표시할지를 구현하기에 앞서, 터치된 지점의 X 좌표를 갖고 해당 지점과 가장 가까운 아이템을 찾는 로직을 먼저 작성하자.</p><h3 id="211-터지된-지점-좌표값-가져오기" style="position:relative"><a href="#211-%ED%84%B0%EC%A7%80%EB%90%9C-%EC%A7%80%EC%A0%90-%EC%A2%8C%ED%91%9C%EA%B0%92-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0" aria-label="211 터지된 지점 좌표값 가져오기 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.1.1. 터지된 지점 좌표값 가져오기</h3><p>터치 이벤트는 <code>&lt;View /&gt;</code>의 <code>onTouchStart</code>, <code>onTouchMove</code>, <code>onTouchEnd</code> prop 들로 받아올 수 있다. 해당 이벤트 리스너를 통해 터치 지점의 좌표를 얻을 수 있다.</p><div class="codeblock-container"><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">function</span> <span class="token function">LineChart</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>View <span class="token comment">/* ... */</span><span class="token operator">></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span>
        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>chartWrapper<span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">        <span class="token attr-name">onTouchStart</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token comment">// 터치된 지점의 X 좌표는 아래 값으로 확인할 수 있다.</span></span><span class="gatsby-highlight-code-line">          <span class="token comment">// `onTouchMove`, `onTouchEnd` 도 마찬가지.</span></span><span class="gatsby-highlight-code-line">          evt<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>locationX<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>      <span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Svg</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>height<span class="token punctuation">}</span></span> <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayout<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">          </span><span class="token punctuation">{</span>loaded <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>LineChartBody <span class="token comment">/* ... */</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Svg</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
      <span class="token operator">&lt;</span>Legend <span class="token comment">/* ... */</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><h3 id="212-좌표값에서-제일-가까운-아이템-가져오기" style="position:relative"><a href="#212-%EC%A2%8C%ED%91%9C%EA%B0%92%EC%97%90%EC%84%9C-%EC%A0%9C%EC%9D%BC-%EA%B0%80%EA%B9%8C%EC%9A%B4-%EC%95%84%EC%9D%B4%ED%85%9C-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0" aria-label="212 좌표값에서 제일 가까운 아이템 가져오기 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.1.2. 좌표값에서 제일 가까운 아이템 가져오기</h3><p>터치 이벤트 리스너를 통해 가져온 좌표값으로 제일 가까운 아이템을 찾는 함수를 작성해보자. 해당 기능은 D3.js 의 <a href="https://github.com/d3/d3-array#bisector"><code>bisector</code></a>를 사용해 구현할 수 있다.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/findItemsByCoord.ts</div><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> ScaleTime<span class="token punctuation">,</span> bisector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"d3"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> isSameDay <span class="token keyword">from</span> <span class="token string">"utils/isSameDay"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> TimeSeries <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./types"</span><span class="token punctuation">;</span>

<span class="token comment">// `bisector` 는 "좌표값을 받아서 가장 가까운 아이템을 반환하는 함수"를 만들어준다.</span>
<span class="token keyword">const</span> bisect <span class="token operator">=</span> <span class="token generic-function"><span class="token function">bisector</span><span class="token generic class-name"><span class="token operator">&lt;</span>TimeSeries<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Date<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token operator">=></span> it<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">FindItemsByCoordOptions</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 가까운 아이템을 찾고자 하는 대상 시리즈들</span>
  series<span class="token operator">:</span> TimeSeries<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 차트의 가로 범위</span>
  range<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 좌표값 &lt;-> 날짜값 변환을 위한 스케일 함수</span>
  scale<span class="token operator">:</span> ScaleTime<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token comment">// 터치된 지점의 X 좌표</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">findItemsByCoord</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  series<span class="token punctuation">,</span>
  range<span class="token punctuation">,</span>
  scale<span class="token punctuation">,</span>
  x<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> FindItemsByCoordOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>series<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>scale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `series`를 순회하면서 시리즈별로 가장 가까운 아이템을 찾는다.</span>
  <span class="token comment">// 찾은 아이템들 중 좌표에 가장 가까운 아이템이 선택된 아이템이 된다.</span>

  <span class="token keyword">let</span> minDistance <span class="token operator">=</span> range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> range<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> date<span class="token operator">:</span> Date <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> series<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token function">bisect</span><span class="token punctuation">(</span>series<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> scale<span class="token punctuation">.</span><span class="token function">invert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> found <span class="token operator">=</span> series<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>found<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> distance <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">scale</span><span class="token punctuation">(</span>found<span class="token punctuation">.</span>date<span class="token punctuation">)</span> <span class="token operator">-</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>minDistance <span class="token operator">></span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      minDistance <span class="token operator">=</span> distance<span class="token punctuation">;</span>
      date <span class="token operator">=</span> found<span class="token punctuation">.</span>date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 선택된 아이템이 없다면 `null` 을 반환한다.</span>
  <span class="token comment">// 모든 시리즈의 `data` 가 비어있지 않은 이상 발생하지 않을 일이긴 하다.</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 위에서 찾은 아이템과 같은 날짜의 아이템을 모든 시리즈로부터 찾아서 같이 반환한다.</span>
  <span class="token comment">// (주의할 점은 이 차트가 일별 차트라는 점을 가정에 둔 코드라는 것이다.</span>
  <span class="token comment">//  만약 시간까지 세분화된 차트라면 이 코드로는 올바른 값을 구할 수 없다.)</span>

  <span class="token keyword">return</span> series<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sr<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sr<span class="token punctuation">.</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> found <span class="token operator">=</span> sr<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">isSameDay</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>date<span class="token punctuation">,</span> date<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 현재 더미 데이터에는 모든 데이터가 기간안에 일별로 가득 차 있지만</span>
    <span class="token comment">// 실제 상황에서는 특정 날짜의 데이터가 없을 수도 있다.</span>
    <span class="token comment">// 그럴 경우에는 아이템을 찾을 수 없으므로 null 을 넣어준다.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>found<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// `seriesIndex` 값을 가지고 어떤 시리즈에 속한 아이템인지 구분한다.</span>
    <span class="token comment">// 해당 시리즈의 속성 (`name`, `color` 등) 을 가져올 때 사용한다.</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>found<span class="token punctuation">,</span> seriesIndex<span class="token operator">:</span> i <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> findItemsByCoord<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이제 <code>&lt;LineChart /&gt;</code> 에서 선택된 지점의 좌표와 이 함수를 사용해 선택된 아이템을 찾아서 <code>&lt;LineChartBody /&gt;</code> 에 넘겨주자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/index.tsx</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> findItemsByCoord <span class="token keyword">from</span> <span class="token string">"./findItemsByCoord"</span><span class="token punctuation">;</span></span>
<span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">type</span> <span class="token class-name">SelectedItem</span> <span class="token operator">=</span> TimeSeriesDatum <span class="token operator">&amp;</span> <span class="token punctuation">{</span> seriesIndex<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="token keyword">function</span> <span class="token function">LineChart</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useImmer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">    selected<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token keyword">as</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token punctuation">(</span>SelectedItem <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// 터치 이벤트 리스너.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> onTouchStart <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useCallback</span><span class="token generic class-name"><span class="token operator">&lt;</span>ViewProps<span class="token punctuation">[</span><span class="token string">"onTouchStart"</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">(</span>touches<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token comment">// 터치가 발생한 지점의 X 좌표로 가장 가까운 아이템이 무엇인지 찾아낸다.</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">const</span> selected <span class="token operator">=</span> <span class="token function">findItemsByCoord</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        series<span class="token operator">:</span> state<span class="token punctuation">.</span>series<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        range<span class="token operator">:</span> paneBoundary<span class="token punctuation">.</span>xs<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        scale<span class="token operator">:</span> xScale<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        x<span class="token operator">:</span> touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>locationX<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token comment">// 찾아낸 아이템을 state 에 저장한다.</span></span><span class="gatsby-highlight-code-line">      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dr<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        dr<span class="token punctuation">.</span>selected <span class="token operator">=</span> selected<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">[</span>state<span class="token punctuation">.</span>series<span class="token punctuation">,</span> paneBoundary<span class="token punctuation">]</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// `onTouchMove` 도 `onTouchStart` 와 같은 코드를 사용한다.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> onTouchMove <span class="token operator">=</span> onTouchStart<span class="token punctuation">;</span></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>View <span class="token comment">/* ... */</span><span class="token operator">></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span>
        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>chartWrapper<span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">        <span class="token attr-name">onTouchStart</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onTouchStart<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">onTouchMove</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onTouchMove<span class="token punctuation">}</span></span></span>      <span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Svg</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>height<span class="token punctuation">}</span></span> <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayout<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">          </span><span class="token punctuation">{</span>loaded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LineChartBody</span></span>
              <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">              <span class="token comment">// 저장된 터치 지점을 넘겨준다.</span></span><span class="gatsby-highlight-code-line">              <span class="token attr-name">selected</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>selected<span class="token punctuation">}</span></span></span>            <span class="token punctuation">/></span></span>
          <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Svg</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
      <span class="token operator">&lt;</span>Legend <span class="token comment">/* ... */</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이제 터치를 통해 선택된 아이템이 <code>&lt;LineChart /&gt;</code> 의 <code>state.selected</code> 에 저장된다.</p><h2 id="22-선택된-아이템들을-표시하는-세로선과-점-구현" style="position:relative"><a href="#22-%EC%84%A0%ED%83%9D%EB%90%9C-%EC%95%84%EC%9D%B4%ED%85%9C%EB%93%A4%EC%9D%84-%ED%91%9C%EC%8B%9C%ED%95%98%EB%8A%94-%EC%84%B8%EB%A1%9C%EC%84%A0%EA%B3%BC-%EC%A0%90-%EA%B5%AC%ED%98%84" aria-label="22 선택된 아이템들을 표시하는 세로선과 점 구현 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.2. 선택된 아이템들을 표시하는 세로선과 점 구현</h2><p>어떤 아이템이 선택되었는지는 알게 되었으니, 선택된 아이템들을 표시할 <code>&lt;Selection /&gt;</code> 컴포넌트를 구현하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection.ts</div><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> ScaleLinear<span class="token punctuation">,</span> ScaleTime <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"d3"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Circle<span class="token punctuation">,</span> <span class="token constant">G</span><span class="token punctuation">,</span> Line <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-native-svg"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> PaneBoundary <span class="token keyword">from</span> <span class="token string">"utils/PaneBoundary"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> getColorWithAlpha <span class="token keyword">from</span> <span class="token string">"utils/getColorWithAlpha"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> SelectedItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../types"</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">SelectionProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 선택된 아이템들의 세로선 및 점을 표시하기 위한 scale 함수</span>
  xScale<span class="token operator">:</span> ScaleTime<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token comment">// 선택된 아이템들의 점을 표시하기 위한 scale 함수</span>
  yScale<span class="token operator">:</span> ScaleLinear<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token comment">// 차트의 영역</span>
  paneBoundary<span class="token operator">:</span> PaneBoundary<span class="token punctuation">;</span>
  <span class="token comment">// 선택된 아이템들</span>
  selected<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token punctuation">(</span>SelectedItem <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 시리즈별 색상. 선택된 아이템들의 점을 표시할 때 사용된다.</span>
  colors<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Selection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  xScale<span class="token punctuation">,</span>
  yScale<span class="token punctuation">,</span>
  paneBoundary<span class="token punctuation">,</span>
  selected<span class="token punctuation">,</span>
  colors<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> SelectionProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> firstItem <span class="token operator">=</span> selected<span class="token operator">?.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token operator">!</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 선택된 아이템이 없다면 아무것도 출력하지 않는다.</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>firstItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* 선택된 아이템들에 세로선을 표시한다. */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Line</span></span>
        <span class="token attr-name">x1</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">xScale</span><span class="token punctuation">(</span>firstItem<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">x2</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">xScale</span><span class="token punctuation">(</span>firstItem<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">y1</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y1<span class="token punctuation">}</span></span>
        <span class="token attr-name">y2</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y2<span class="token punctuation">}</span></span>
        <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gray<span class="token punctuation">"</span></span>
      <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* 선택된 아이템들의 위치에 점을 표시한다. */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>selected<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span>
        <span class="token operator">!</span>item <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Circle</span></span>
            <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>seriesIndex<span class="token punctuation">}</span></span>
            <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">xScale</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">yScale</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">r</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">stroke</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">getColorWithAlpha</span><span class="token punctuation">(</span>
              colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token number">0.5</span>
            <span class="token punctuation">)</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">strokeWidth</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span>
          <span class="token punctuation">/></span></span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Selection<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이 <code>&lt;Selection /&gt;</code> 컴포넌트를 <code>&lt;LineChartBody /&gt;</code> 에서 사용해주면 된다.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/index.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="token keyword">type</span> <span class="token class-name">LineChartBodyProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  selected<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token punctuation">(</span>SelectedItem <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">LineChartBody</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  selected<span class="token punctuation">,</span></span><span class="token punctuation">}</span><span class="token operator">:</span> LineChartBodyProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Fragment</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      &lt;XAxis /* ... */ /></span>
<span class="token plain-text">      &lt;YAxis /* ... */ /></span>
<span class="token plain-text">      &lt;Lines /* ... */ /></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Selection</span></span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">xScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>xScale<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">yScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>yScale<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">paneBoundary</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">selected</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">colors</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>linesOptions<span class="token operator">?.</span>colors <span class="token operator">??</span> <span class="token constant">DEFAULT_COLORS</span><span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">/></span></span><span class="token plain-text"></span></span><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Fragment</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LineChartBody<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이제 차트를 터치하면 터지한 지점과 가장 가까운 아이템이 점과 세로선으로 표시되는 것을 확인할 수 있다.</p><div><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/cd74deffc0c5fee4de64d971b390af73/44838/selection-1.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 62%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHYsLGEh//EABgQAAIDAAAAAAAAAAAAAAAAAAABECEx/9oACAEBAAEFAkXDFp//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAADAQEBAAAAAAAAAAAAAAAAASERQYH/2gAIAQEAAT8hd4+08FEjZWRLD//aAAwDAQACAAMAAAAQE8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAEAAgEEAwAAAAAAAAAAAAABABEhMUFRYXGRsf/aAAgBAQABPxAABa2r3FuY92Dv16hhVt24jTThL+wRRnzP/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="selection 1"
        title=""
        src="/blog/static/cd74deffc0c5fee4de64d971b390af73/3ad8d/selection-1.jpg"
        srcset="/blog/static/cd74deffc0c5fee4de64d971b390af73/63ecb/selection-1.jpg 150w,
/blog/static/cd74deffc0c5fee4de64d971b390af73/73b64/selection-1.jpg 300w,
/blog/static/cd74deffc0c5fee4de64d971b390af73/3ad8d/selection-1.jpg 600w,
/blog/static/cd74deffc0c5fee4de64d971b390af73/2ee6c/selection-1.jpg 900w,
/blog/static/cd74deffc0c5fee4de64d971b390af73/44838/selection-1.jpg 1080w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></div><h2 id="23-선택된-아이템들의-정보를-표시하는-툴팁-구현" style="position:relative"><a href="#23-%EC%84%A0%ED%83%9D%EB%90%9C-%EC%95%84%EC%9D%B4%ED%85%9C%EB%93%A4%EC%9D%98-%EC%A0%95%EB%B3%B4%EB%A5%BC-%ED%91%9C%EC%8B%9C%ED%95%98%EB%8A%94-%ED%88%B4%ED%8C%81-%EA%B5%AC%ED%98%84" aria-label="23 선택된 아이템들의 정보를 표시하는 툴팁 구현 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.3. 선택된 아이템들의 정보를 표시하는 툴팁 구현</h2><p>터치된 지점이 세로선과 점으로 강조되는 것은 매우 좋지만, 해당 지점의 정보를 볼 수 없으니 정확히 어떤 점을 선택했는지 알기 어렵다. 터지한 지점의 정보를 보여주는 툴팁을 구현하자.</p><h3 id="231-selection--컴포넌트-분리" style="position:relative"><a href="#231-selection--%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%B6%84%EB%A6%AC" aria-label="231 selection  컴포넌트 분리 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.3.1. <code>&lt;Selection /&gt;</code> 컴포넌트 분리</h3><p>일단 <code>&lt;Selection /&gt;</code> 컴포넌트를 수정하자.</p><p>본래는 여기에 툴팁 기능까지 같이 구현할 생각이었지만, 가독성 및 확장성을 위해 컴포넌트를 나누도록 하겠다. 세로선을 그린 <code>&lt;Line /&gt;</code> 은 그대로 두고 점들을 그린 <code>items.map()</code> 구문은 <code>&lt;Dots /&gt;</code> 컴포넌트로 분리할 것이며 툴팁 또한 <code>&lt;Tooltip /&gt;</code> 컴포넌트를 만들어 따로 구현할 것이다. 그러면 아래와 같은 형태가 될 것이다.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/index.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="token keyword">function</span> <span class="token function">Selection</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token punctuation">{</span>lineWidth <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Line</span></span>
            <span class="token attr-name">x1</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span>
            <span class="token attr-name">x2</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span>
            <span class="token attr-name">y1</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y1<span class="token punctuation">}</span></span>
            <span class="token attr-name">y2</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y2<span class="token punctuation">}</span></span>
            <span class="token attr-name">stroke</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lineColor<span class="token punctuation">}</span></span>
            <span class="token attr-name">strokeWidth</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lineWidth<span class="token punctuation">}</span></span>
          <span class="token punctuation">/></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dots</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">items</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">xScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>xScale<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">yScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>yScale<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">colors</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colors<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">/></span></span><span class="token plain-text"></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tooltip</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span></span><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p><code>&lt;Dots /&gt;</code> 는 아래와 같다. 이전에 <code>&lt;Selection /&gt;</code> 에 있던 내용 중 일부를 그대로 옮겨 간 코드다.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/Dots.ts</div><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Circle<span class="token punctuation">,</span> <span class="token constant">G</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-native-svg"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ScaleLinear<span class="token punctuation">,</span> ScaleTime <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"d3"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> getColorWithAlpha <span class="token keyword">from</span> <span class="token string">"utils/getColorWithAlpha"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SelectedItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../types"</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">DotsProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  items<span class="token operator">:</span> SelectedItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  xScale<span class="token operator">:</span> ScaleTime<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span>
  yScale<span class="token operator">:</span> ScaleLinear<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">never</span><span class="token operator">></span><span class="token punctuation">;</span>
  colors<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Dots</span><span class="token punctuation">(</span><span class="token punctuation">{</span> items<span class="token punctuation">,</span> xScale<span class="token punctuation">,</span> yScale<span class="token punctuation">,</span> colors <span class="token punctuation">}</span><span class="token operator">:</span> DotsProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Circle</span></span>
          <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>seriesIndex<span class="token punctuation">}</span></span>
          <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">xScale</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">yScale</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">r</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">stroke</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">getColorWithAlpha</span><span class="token punctuation">(</span>
            colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token number">0.5</span>
          <span class="token punctuation">)</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">strokeWidth</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span>
        <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Dots<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><h3 id="232-tooltip--구현" style="position:relative"><a href="#232-tooltip--%EA%B5%AC%ED%98%84" aria-label="232 tooltip  구현 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.3.2. <code>&lt;Tooltip /&gt;</code> 구현</h3><p><code>&lt;Tooltip /&gt;</code> 컴포넌트도 구현해보자. 이 컴포넌트에 들어갈 내용은</p><ul>
<li>X 축 정보</li>
<li>각 점의 시리즈 이름과 값</li>
</ul><p>정도가 있다. 해당 정보를 출력하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/Tooltip.ts</div><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Circle<span class="token punctuation">,</span> <span class="token constant">G</span><span class="token punctuation">,</span> GProps<span class="token punctuation">,</span> TSpan<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-native-svg"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SelectedItem<span class="token punctuation">,</span> TimeSeries <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../types"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TooltipProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 선택된 아이템들</span>
  items<span class="token operator">:</span> SelectedItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 시리즈들. 아이템의 시리즈 이름을 표시하기 위해 가져왔다.</span>
  series<span class="token operator">:</span> TimeSeries<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 색상들. 아이템의 색상을 적용하기 위해 가져왔다.</span>
  colors<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Tooltip</span><span class="token punctuation">(</span><span class="token punctuation">{</span> items<span class="token punctuation">,</span> series<span class="token punctuation">,</span> colors <span class="token punctuation">}</span><span class="token operator">:</span> TooltipProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* Y 축 정보를 출력한다. */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">alignmentBaseline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hanging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token function">dateFormat</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/*
        `items` 를 선회하면서 각 아이템의 정보를 출력한다.
        시리즈의 이름과 색상이 필요하므로 `series` 와 `colors` 도 받아와서 사용하고 있다.
      */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>seriesIndex<span class="token punctuation">}</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>i <span class="token operator">*</span> <span class="token number">14</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Circle</span></span>
            <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">r</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span>
            <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">}</span></span>
          <span class="token punctuation">/></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">dx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">8</span><span class="token punctuation">}</span></span> <span class="token attr-name">alignmentBaseline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hanging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TSpan</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>series<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TSpan</span></span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TSpan</span></span> <span class="token attr-name">dx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span></span> <span class="token attr-name">fontWeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
              </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TSpan</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Tooltip<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>또한 툴팁은 하얀 배경과 회색 테두리를 갖게 될텐데, 툴팁의 내용에 따라 해당 배경 및 테두리의 너비/높이가 바뀌어야 하므로 해당 구현도 필요하다.</p><p>그냥 툴팁의 컨텐츠의 컨테이너인 <code>&lt;G /&gt;</code> 에 배경색(<code>fill</code>) 및 테두리(<code>stroke*</code>) 속성을 지정해서 적용하고 싶지만 그렇게는 할 수 없다. <code>&lt;G /&gt;</code> 컴포넌트는 SVG 에서 다른 컴포넌트들을 그룹핑하기 위해서 쓰이는 컴포넌트로 <em>스타일을 지정할 수 없기 때문</em>이다. <code>&lt;G /&gt;</code> 에게 스타일 속성을 지정하면 해당 컴포넌트의 자식 컴포넌트들에게만 영향이 갈 뿐 본인에게는 어떠한 스타일도 적용되지 않는다. (이는 웹에서도 동일하다.)</p><p>그러니 우리는 <code>onLayout</code> 리스너를 통해 <code>&lt;G /&gt;</code> 의 크기를 알아낸 다음, 해당 크기와 동일한 <code>&lt;Rect /&gt;</code> 를 그려서 배경 및 테두리를 구현할 것이다.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/Tooltip.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Rect <span class="token comment">/* ... */</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-native-svg"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useImmer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"use-immer"</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token keyword">function</span> <span class="token function">Tooltip</span><span class="token punctuation">(</span><span class="token punctuation">{</span> items<span class="token punctuation">,</span> series<span class="token punctuation">,</span> colors <span class="token punctuation">}</span><span class="token operator">:</span> TooltipProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useImmer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// 컨텐츠 영역 (Y 축 정보, 각 점의 이름과 값 정보 영역) 의 컨테이너인 `&lt;G />` 의 크기를 얻기 위한 리스너</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> onContentLayout<span class="token operator">:</span> GProps<span class="token punctuation">[</span><span class="token string">"onLayout"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> layout <span class="token punctuation">}</span> <span class="token operator">=</span> evt<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> newWidth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>layout<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> newHeight <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>layout<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>width <span class="token operator">===</span> newWidth <span class="token operator">&amp;&amp;</span> state<span class="token punctuation">.</span>height <span class="token operator">===</span> newHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dr<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      dr<span class="token punctuation">.</span>width <span class="token operator">=</span> newWidth<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      dr<span class="token punctuation">.</span>height <span class="token operator">=</span> newHeight<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
  <span class="token keyword">const</span> loaded <span class="token operator">=</span> state<span class="token punctuation">.</span>width <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> state<span class="token punctuation">.</span>height <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="gatsby-highlight-code-line">    <span class="token comment">// 컨텐츠 영역의 크기가 측정되어서 배경을 그리기 전까지는</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// opacity 를 0 으로 해서 보여주지 않는다.</span></span><span class="gatsby-highlight-code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">opacity</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>loaded <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">      </span><span class="token punctuation">{</span>loaded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
<span class="gatsby-highlight-code-line">        <span class="token comment">// 컨텐츠 영역의 너비/높이가 측정되었다면 &lt;Rect /> 로 배경색과 테두리를 그린다.</span></span><span class="gatsby-highlight-code-line">        <span class="token comment">// `+ 20` 은 좌우 여백을 위한 값이다.</span></span><span class="gatsby-highlight-code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Rect</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>white<span class="token punctuation">"</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>darkgray<span class="token punctuation">"</span></span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">/></span></span></span>      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span></span> <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onContentLayout<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">alignmentBaseline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hanging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token function">dateFormat</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token comment">// ...</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Tooltip<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>마지막으로 <code>&lt;LineChartBody /&gt;</code>에서 <code>&lt;Selection /&gt;</code> 을 통해 <code>&lt;Tooltip /&gt;</code> 에까지 <code>series</code> 를 건내주도록 수정하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/index.tsx</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="token keyword">function</span> <span class="token function">LineChartBody</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Fragment</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      &lt;XAxis /* ... */ /></span>
<span class="token plain-text">      &lt;YAxis /* ... */ /></span>
<span class="token plain-text">      &lt;Lines /* ... */ /></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Selection</span></span>
        <span class="token attr-name">xScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>xScale<span class="token punctuation">}</span></span>
        <span class="token attr-name">yScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>yScale<span class="token punctuation">}</span></span>
        <span class="token attr-name">paneBoundary</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">}</span></span>
        <span class="token attr-name">selected</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span>
        <span class="token attr-name">colors</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>linesOptions<span class="token operator">?.</span>colors <span class="token operator">??</span> <span class="token constant">DEFAULT_COLORS</span><span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">        <span class="token attr-name">series</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>series<span class="token punctuation">}</span></span> <span class="token comment">// &lt;- series 를 추가했다.</span></span>      <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Fragment</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LineChartBody<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/index.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="token keyword">type</span> <span class="token class-name">SelectionProps</span> <span class="token operator">=</span> SelectionOptions <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  series<span class="token operator">:</span> TimeSeries<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Selection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  series<span class="token punctuation">,</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tooltip</span></span> <span class="token attr-name">items</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span> <span class="token attr-name">series</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>series<span class="token punctuation">}</span></span> <span class="token attr-name">colors</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colors<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span></span><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><h3 id="233-툴팁의-위치를-동적으로-변경" style="position:relative"><a href="#233-%ED%88%B4%ED%8C%81%EC%9D%98-%EC%9C%84%EC%B9%98%EB%A5%BC-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%B3%80%EA%B2%BD" aria-label="233 툴팁의 위치를 동적으로 변경 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.3.3. 툴팁의 위치를 동적으로 변경</h3><p>툴팁의 배경까지 그렸지만 아직 조금 부족하다. 왜냐하면 이대로라면 이 툴팁은 (0, 0) 좌표에 고정되어 있을 것이기 때문이다. 선택된 아이템을 위한 툴팁이라면 선택된 아이템의 세로선 및 점 옆에 따라다니는 것이 더 자연스럽다. 위치도 동적으로 바꿀 수 있도록 조금만 더 고쳐보자.</p><p>먼저 <code>&lt;Tooltip /&gt;</code> 에서 크기 정보를 부모에게 올려줄 수 있도록 <code>onLayout</code> prop 을 추가하자.</p><p><code>&lt;Tooltip /&gt;</code> 의 크기를 부모에게 올려주는 이유는 부모가 툴팁의 위치를 계산할 때 해당 값이 필요하기 때문이다.</p><p>툴팁의 위치는 툴팁 자신의 크기에 따라 바뀔 수 있다. 예를 들어 본래라면 선택된 아이템 세로선의 오른쪽에 툴팁이 그려져야 하는데 세로선 오른쪽의 공간이 툴팁의 너비보다 좁다면, 툴팁을 세로선 왼쪽에 그리는 것이 자연스러울 것이다.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/Tooltip.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TooltipProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// 이 컴포넌트의 위치를 지정할 수 있도록 제공하는 props</span></span><span class="gatsby-highlight-code-line">  x<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  y<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 부모에게 제공할 `onLayout` 이벤트 핸들러</span></span><span class="gatsby-highlight-code-line">  onLayout<span class="token operator">?</span><span class="token operator">:</span> GProps<span class="token punctuation">[</span><span class="token string">"onLayout"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">function</span> <span class="token function">Tooltip</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> onLayout<span class="token operator">:</span> _onLayout <span class="token punctuation">}</span><span class="token operator">:</span> TooltipProps<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> onLayout<span class="token operator">:</span> GProps<span class="token punctuation">[</span><span class="token string">"onLayout"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> layout <span class="token punctuation">}</span> <span class="token operator">=</span> evt<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>layout<span class="token punctuation">.</span>width <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> layout<span class="token punctuation">.</span>height <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// 부모에게 onLayout 이벤트를 그대로 올려준다.</span></span><span class="gatsby-highlight-code-line">    _onLayout<span class="token operator">?.</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
  <span class="token comment">// ...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="gatsby-highlight-code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>y<span class="token punctuation">}</span></span> <span class="token attr-name">opacity</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>loaded <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">      </span><span class="token punctuation">{</span>loaded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Rect</span></span>
          <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>white<span class="token punctuation">"</span></span>
          <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>darkgray<span class="token punctuation">"</span></span>
<span class="gatsby-highlight-code-line">          <span class="token comment">// 최상단 컴포넌트에 `onLayout` 을 넣지 않고 여기 배경 컴포넌트에 넣어둔 이유는</span></span><span class="gatsby-highlight-code-line">          <span class="token comment">// 1. 이 컴포넌트의 크기가 `&lt;Tooltip />` 컴포넌트의 크기와 동일하고</span></span><span class="gatsby-highlight-code-line">          <span class="token comment">// 2. 이 컴포넌트가 그려진 순간이 `&lt;Tooltip />` 의 초기화가 끝난 순간이기 때문이다.</span></span><span class="gatsby-highlight-code-line">          <span class="token comment">// 만약 최상단 컴포넌트에 `onLayout` 을 넣었다면</span></span><span class="gatsby-highlight-code-line">          <span class="token comment">// 컨텐츠 영역만 그려졌을 때 한 번, 배경까지 그려졌을 때 한 번,</span></span><span class="gatsby-highlight-code-line">          <span class="token comment">// 이렇게 최소한 두 번 `onLayout` 이 호출되기 때문에 비효율적이다.</span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayout<span class="token punctuation">}</span></span></span>        <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span></span> <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onContentLayout<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Tooltip<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이제 <code>&lt;Tooltip /&gt;</code> 의 부모인 <code>&lt;Selection /&gt;</code> 에서 툴팁의 위치를 계산하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/index.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="token keyword">function</span> <span class="token function">Selection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  xScale<span class="token punctuation">,</span>
  yScale<span class="token punctuation">,</span>
  paneBoundary<span class="token punctuation">,</span>
  selected<span class="token punctuation">,</span>
  colors<span class="token punctuation">,</span>
  series<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> SelectionProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useImmer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      width<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      height<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// 선택된 아이템들의 X 좌표를 계산한다.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> firstItem <span class="token operator">=</span> selected<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span><span class="token operator">!</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> x <span class="token operator">=</span> firstItem <span class="token operator">&amp;&amp;</span> <span class="token function">xScale</span><span class="token punctuation">(</span>firstItem<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// `&lt;Tooltip />` 의 `onLayout` prop 을 통해 툴팁의 크기를 가져온다.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> onTooltipLayout<span class="token operator">:</span> TooltipProps<span class="token punctuation">[</span><span class="token string">"onLayout"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> layout <span class="token punctuation">}</span> <span class="token operator">=</span> evt<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> newWidth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>layout<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> newHeight <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>layout<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">      state<span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span>width <span class="token operator">===</span> newWidth <span class="token operator">&amp;&amp;</span></span><span class="gatsby-highlight-code-line">      state<span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span>height <span class="token operator">===</span> newHeight</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">return</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dr<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      dr<span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span>width <span class="token operator">=</span> newWidth<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      dr<span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span>height <span class="token operator">=</span> newHeight<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// 선택된 아이템들의 X 좌표와 툴팁의 크기를 가지고 툴팁의 X 좌표를 계산한다.</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 1. 툴팁의 너비가 0이면 아직 로딩 전이라는 뜻이므로</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">//    그냥 안 보이게 먼 곳(-1000)으로 보내버린다.</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 2. 선택된 X 좌표 오른쪽 공간의 너비가 툴팁이 너비보다 넓으면 (공간이 충분하면)</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">//    툴팁을 해당 좌표 오른쪽에 출력한다.</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 3. 선택된 X 좌표 오른쪽 공간의 너비가 툴팁의 너비보다 좁으면 (공간이 부족하면)</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">//    툴팁을 해당 좌표 왼쪽에 출력한다.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> tooltipX <span class="token operator">=</span></span><span class="gatsby-highlight-code-line">    state<span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span>width <span class="token operator">===</span> <span class="token number">0</span></span><span class="gatsby-highlight-code-line">      <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1000</span></span><span class="gatsby-highlight-code-line">      <span class="token operator">:</span> paneBoundary<span class="token punctuation">.</span>x2 <span class="token operator">-</span> state<span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span>width <span class="token operator">></span> x <span class="token operator">+</span> <span class="token number">10</span></span><span class="gatsby-highlight-code-line">      <span class="token operator">?</span> x <span class="token operator">+</span> <span class="token number">10</span></span><span class="gatsby-highlight-code-line">      <span class="token operator">:</span> x <span class="token operator">-</span> state<span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span>width <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tooltip</span></span>
        <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">        <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tooltipX<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y2<span class="token punctuation">}</span></span> <span class="token comment">// Y 좌표는 차트 영역 최상단으로 고정</span></span><span class="gatsby-highlight-code-line">        <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onTooltipLayout<span class="token punctuation">}</span></span></span>      <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이제 툴팁이 선택된 아이템들을 따라다니는 것을 확인할 수 있다.</p><div><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/3f514d19297d46892039ded22d9101c7/44838/selection-2-1.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHXuLGEh//EABgQAAIDAAAAAAAAAAAAAAAAAAABECEx/9oACAEBAAEFAkXDFp//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAADAQADAAAAAAAAAAAAAAAAAREhMWHB/9oACAEBAAE/IajXbOC9NExs1IlD/9oADAMBAAIAAwAAABCDz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQVFhcbH/2gAIAQEAAT8QaAK7OoY1C8qg89+IYFb6xiNNOEv7BFb9z//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="selection 2 1"
        title=""
        src="/blog/static/3f514d19297d46892039ded22d9101c7/3ad8d/selection-2-1.jpg"
        srcset="/blog/static/3f514d19297d46892039ded22d9101c7/63ecb/selection-2-1.jpg 150w,
/blog/static/3f514d19297d46892039ded22d9101c7/73b64/selection-2-1.jpg 300w,
/blog/static/3f514d19297d46892039ded22d9101c7/3ad8d/selection-2-1.jpg 600w,
/blog/static/3f514d19297d46892039ded22d9101c7/2ee6c/selection-2-1.jpg 900w,
/blog/static/3f514d19297d46892039ded22d9101c7/44838/selection-2-1.jpg 1080w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></div><div><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/5bc897a46cc2d955aa4e6e89699fd4a9/44838/selection-2-2.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdhuZQYf/8QAGBAAAgMAAAAAAAAAAAAAAAAAAAEQITH/2gAIAQEAAQUCRcMWn//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAQEBAQEBAAAAAAAAAAAAAAEAESFBUf/aAAgBAQABPyFuPvZ+LusMFuswBf/aAAwDAQACAAMAAAAQQ8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhQTFRsXH/2gAIAQEAAT8QAAKt7MYikdMvYq8Qw1vrqNNOEv2CVz9n/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="selection 2 2"
        title=""
        src="/blog/static/5bc897a46cc2d955aa4e6e89699fd4a9/3ad8d/selection-2-2.jpg"
        srcset="/blog/static/5bc897a46cc2d955aa4e6e89699fd4a9/63ecb/selection-2-2.jpg 150w,
/blog/static/5bc897a46cc2d955aa4e6e89699fd4a9/73b64/selection-2-2.jpg 300w,
/blog/static/5bc897a46cc2d955aa4e6e89699fd4a9/3ad8d/selection-2-2.jpg 600w,
/blog/static/5bc897a46cc2d955aa4e6e89699fd4a9/2ee6c/selection-2-2.jpg 900w,
/blog/static/5bc897a46cc2d955aa4e6e89699fd4a9/44838/selection-2-2.jpg 1080w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></div><h2 id="24-선택-취소하기" style="position:relative"><a href="#24-%EC%84%A0%ED%83%9D-%EC%B7%A8%EC%86%8C%ED%95%98%EA%B8%B0" aria-label="24 선택 취소하기 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.4. 선택 취소하기</h2><p>여기까지 구현해서 사용해보면 한 가지 불편한 사항이 있다. 바로 아이템 선택을 취소하고 싶은데 취소할 방법이 없다는 것이다. 차트에서 선택을 취소하게끔 하려면 아래 방법들을 제공할 수 있을 것이다.</p><ol>
<li>차트 바깥 부분을 터치</li>
<li>선택을 취소하는 기능의 버튼 등을 별도로 제공</li>
<li>아이템이 선택된 차트를 아주 짧게 터치</li>
<li>애시당초 터치하고 있을 때만 선택할 수 있도록 (터치를 떼는 순간 선택이 취소되도록) 구현</li>
</ol><p>어느 방법이든 선택의 차이일 뿐 불가능하지 않다. (다만 1번 방법 같은 경우, 웹에서는 구현이 쉽지만 RN 에서는 매끄럽게 구현하기 어렵다.)</p><p>이 글에서는 3번 방법을 선택하도록 하겠다. (만약 다른 방법이 더 마음에 든다면 다른 방법으로 구현해도 문제 없다.) 3번 방법을 좀 더 자세히 정리하자면 아래와 같다.</p><ul>
<li>아이템이 선택되지 않은 상태: 차트를 터치하면 터치된 지점의 가까운 아이템이 선택됨</li>
<li>아이템이 선택된 상태:<!-- -->
<ul>
<li>차트를 아주 짧게 터치하면 선택이 취소됨</li>
<li>차트를 일정 시간 이상 길게 터치하면 터치된 지점의 가까운 아이템이 선택됨</li>
</ul>
</li>
</ul><h3 id="241-ontouchstart-ontouchmove-ontouchend-각각-구현" style="position:relative"><a href="#241-ontouchstart-ontouchmove-ontouchend-%EA%B0%81%EA%B0%81-%EA%B5%AC%ED%98%84" aria-label="241 ontouchstart ontouchmove ontouchend 각각 구현 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.4.1. <code>onTouchStart</code>, <code>onTouchMove</code>, <code>onTouchEnd</code> 각각 구현</h3><p>2.1.2. 에서는 <code>onTouchStart</code> 와 <code>onTouchMove</code> 에 같은 리스너를 지정하고 <code>onTouchEnd</code> 에는 아무 리스너도 지정하지 않았다. 하지만 위에서 언급한 요구사항에 만족하기 위해서는 세 리스너를 모두 각각 구현해야 한다.</p><p>이 리스너들과 가까운 아이템을 찾는 로직을 모두 <code>&lt;LineChart /&gt;</code> 에 구현하면 코드가 정신없어질 것 같으니 코드를 분리하도록 하겠다.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/index.tsx</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> useSelectionByTouch <span class="token keyword">from</span> <span class="token string">"./useSelectionByTouch"</span><span class="token punctuation">;</span></span>
<span class="token keyword">function</span> <span class="token function">LineChart</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// - 2.1.2. 에서 구현한 `onTouchStart`와 `state.selected` 는 모두</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">//   `useSelectionByTouch` 로 이동할 것이므로 이 파일에서는 삭제된다.</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// - `touchCallbacks` 에 `onTouchStart`, `onTouchMove`, `onTouchEnd` 가 모두 포함되어있다.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>selected<span class="token punctuation">,</span> touchCallbacks<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useSelectionByTouch</span><span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">    state<span class="token punctuation">.</span>series<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    xScale<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    paneBoundary</span><span class="gatsby-highlight-code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token comment">// ...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>View <span class="token comment">/* ... */</span><span class="token operator">></span>
<span class="gatsby-highlight-code-line">      <span class="token punctuation">{</span><span class="token comment">/* `touchCallbacks` 를 여기에 적용한다. */</span><span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>chartWrapper<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>touchCallbacks<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Svg</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>height<span class="token punctuation">}</span></span> <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayout<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">          </span><span class="token punctuation">{</span>loaded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LineChartBody</span></span>
              <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">              <span class="token comment">// `useSelectionByTouch` 에서 받아온 선택된 아이템(`selected`)은 여기에 전달한다.</span></span><span class="gatsby-highlight-code-line">              <span class="token attr-name">selected</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span></span>            <span class="token punctuation">/></span></span>
          <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Svg</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
      <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>그러면 <code>useSelectionByTouch</code> 도 구현하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/useSelectionByTouch.ts</div><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="token comment">// 처음 나오는 `useSelectionByTouch.ts` 코드 전문이지만</span>
<span class="token comment">// 코드가 길어져서 import 문 및 타입 지정은 생략한다.</span>

<span class="token keyword">const</span> <span class="token constant">MIN_TOUCH_DURATION</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">useSelectionByTouch</span><span class="token punctuation">(</span>
  series<span class="token operator">:</span> TimeSeries<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  xScale<span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> getTimeScale<span class="token operator">></span><span class="token punctuation">,</span>
  paneBoundary<span class="token operator">:</span> PaneBoundary
<span class="token punctuation">)</span><span class="token operator">:</span> UseSelectionByTouchReturns <span class="token punctuation">{</span>
  <span class="token keyword">const</span> touchRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 터치가 되었는지 (그래서 선택된 아이템이 있는지) 여부를 저장한다.</span>
    touched<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// `onTouchStart` 이벤트 발생 시점을 저장한다.</span>
    <span class="token comment">// 이 값은 짧은 터치를 했는지 구분할 때 쓰인다.</span>
    touchStartTimestamp<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useImmer</span><span class="token generic class-name"><span class="token operator">&lt;</span>UseSelectionByTouchState<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 선택된 아이템이 있을 경우, 터치된 지점도 같이 저장한다.</span>
    touchedX<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 선택된 아이템들을 저장한다.</span>
    selected<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// `series` 가 바뀔 경우 저장된 좌표를 기반으로 선택된 아이템을 다시 계산한다.</span>
  <span class="token comment">// `&lt;Legend />` 의 특정 시리즈 비활성홬 기능을 염두에 둔 코드다.</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touched<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> selected <span class="token operator">=</span> <span class="token function">findItemsByCoord</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        series<span class="token operator">:</span> series<span class="token punctuation">,</span>
        range<span class="token operator">:</span> paneBoundary<span class="token punctuation">.</span>xs<span class="token punctuation">,</span>
        scale<span class="token operator">:</span> xScale<span class="token punctuation">,</span>
        x<span class="token operator">:</span> state<span class="token punctuation">.</span>touchedX<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dr<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        dr<span class="token punctuation">.</span>selected <span class="token operator">=</span> selected<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>series<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> onTouchStart <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useCallback</span><span class="token generic class-name"><span class="token operator">&lt;</span>OnTouchStart<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// 터치가 시작되면 터치 시작 시간을 `touchRef` 에 저장해둔다.</span>
    touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touchStartTimestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> onTouchMove <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useCallback</span><span class="token generic class-name"><span class="token operator">&lt;</span>OnTouchMove<span class="token operator">></span></span></span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 이미 선택된 아이템이 있는 상태라면</span>
      <span class="token comment">// 그리고 최소터치시간(`MIN_TOUCH_DURATION`) 이 지나지 않았다면</span>
      <span class="token comment">// -> 일단 아무 일도 하지 않는다. 이 터치가 선택 취소를 위한 터치일 가능성이 아직 있기 때문이다.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touched <span class="token operator">&amp;&amp;</span>
        touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touchStartTimestamp <span class="token operator">+</span> <span class="token constant">MIN_TOUCH_DURATION</span> <span class="token operator">></span> now
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 선택된 아이템이 없거나</span>
      <span class="token comment">// 혹은 최소터치시간(`MIN_TOUCH_DURATION`) 이 지났다면</span>
      <span class="token comment">// -> 새로운 좌표에 기반해 선택 아이템을 찾기 시작한다.</span>
      <span class="token comment">//    최소터치시간이 지났기 때문에 이 터치는 절대 선택 취소 터치가 아니다.</span>

      <span class="token keyword">const</span> <span class="token punctuation">{</span> touches <span class="token punctuation">}</span> <span class="token operator">=</span> evt<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">;</span>
      <span class="token keyword">const</span> selected <span class="token operator">=</span> <span class="token function">findItemsByCoord</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        series<span class="token operator">:</span> series<span class="token punctuation">,</span>
        range<span class="token operator">:</span> paneBoundary<span class="token punctuation">.</span>xs<span class="token punctuation">,</span>
        scale<span class="token operator">:</span> xScale<span class="token punctuation">,</span>
        x<span class="token operator">:</span> touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>locationX<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dr<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        dr<span class="token punctuation">.</span>touchedX <span class="token operator">=</span> touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>locationX<span class="token punctuation">;</span>
        dr<span class="token punctuation">.</span>selected <span class="token operator">=</span> selected<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>series<span class="token punctuation">,</span> paneBoundary<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> onTouchEnd <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useCallback</span><span class="token generic class-name"><span class="token operator">&lt;</span>OnTouchEnd<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 선택된 아이템이 있는데</span>
    <span class="token comment">// 최소터치시간(`MIN_TOUCH_DURATION`) 이 지나기 전에 이 `onTouchEnd` 가 호출되었다면</span>
    <span class="token comment">// -> 선택 취소 터치이므로 아이템 선택을 취소한다.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touched <span class="token operator">&amp;&amp;</span>
      touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touchStartTimestamp <span class="token operator">+</span> <span class="token constant">MIN_TOUCH_DURATION</span> <span class="token operator">></span> now
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touched <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dr<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        dr<span class="token punctuation">.</span>touchedX <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        dr<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 선택 취소 터치가 아니었다면 아이템이 선택되었음을 마킹해둔다.</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      touchRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>touched <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 현재 선택된 아이템과 터치 관련 리스너들을 반환한다.</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>state<span class="token punctuation">.</span>selected<span class="token punctuation">,</span> <span class="token punctuation">{</span> onTouchStart<span class="token punctuation">,</span> onTouchMove<span class="token punctuation">,</span> onTouchEnd <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useSelectionByTouch<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이제 아이템이 선택된 상태에서 차트를 짧게 터치하면 선택이 취소되는 것을 볼 수 있다.</p><h2 id="25-selectionoptions" style="position:relative"><a href="#25-selectionoptions" aria-label="25 selectionoptions permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.5. <code>SelectionOptions</code></h2><p>이제 마지막으로, 여태까지 구현해온 다른 기능들도 그랬듯이, 옵션 기능을 구현해보자.</p><h3 id="251-옵션-타입-추가" style="position:relative"><a href="#251-%EC%98%B5%EC%85%98-%ED%83%80%EC%9E%85-%EC%B6%94%EA%B0%80" aria-label="251 옵션 타입 추가 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.5.1. 옵션 타입 추가</h3><p>일단 옵션의 타입부터 추가하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/types.ts</div><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">SelectionOptions</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  enabled<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

  lineColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  lineWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  dot<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    enabled<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

    color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>seriesColor<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    radius<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    borderColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>seriesColor<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    borderWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  tooltip<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    enabled<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

    padding<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    paddingTop<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    paddingLeft<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    paddingRight<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    paddingBottom<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

    backgroundColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    borderColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    borderWidth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

    titleFormatter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>items<span class="token operator">:</span> SelectedItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    titleSize<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    titleFont<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    titleWeight<span class="token operator">?</span><span class="token operator">:</span> FontWeight<span class="token punctuation">;</span>
    titleColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    itemCircleRadius<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    itemCircleColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>seriesColor<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    itemNameFormatter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> SelectedItem<span class="token punctuation">,</span> series<span class="token operator">:</span> TimeSeries<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    itemNameSize<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    itemNameFont<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    itemNameWeight<span class="token operator">?</span><span class="token operator">:</span> FontWeight<span class="token punctuation">;</span>
    itemNameColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>seriesColor<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    itemValueFormatter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> SelectedItem<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    itemValueSize<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    itemValueFont<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    itemValueWeight<span class="token operator">?</span><span class="token operator">:</span> FontWeight<span class="token punctuation">;</span>
    itemValueColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>seriesColor<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    titleHeight<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    itemHeight<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    itemCircleNameGap<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    itemNameValueGap<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>다소 길다.</p><p><code>dot</code> 과 <code>tooltip</code> 필드를 객체로 구성한 이유는 <code>&lt;Selection /&gt;</code> 이 <code>&lt;Dots /&gt;</code>, <code>&lt;Tooltip /&gt;</code> 에게 옵션을 전달할 때 편의성을 위해서다.</p><h3 id="252-linechart--로부터-옵션-전달" style="position:relative"><a href="#252-linechart--%EB%A1%9C%EB%B6%80%ED%84%B0-%EC%98%B5%EC%85%98-%EC%A0%84%EB%8B%AC" aria-label="252 linechart  로부터 옵션 전달 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.5.2. <code>&lt;LineChart /&gt;</code> 로부터 옵션 전달</h3><p><code>&lt;LineChart /&gt;</code> 가 해당 옵션을 prop 으로 받을 수 있게끔 하고, <code>&lt;LineChart /&gt;</code> 로부터 <code>&lt;Selection /&gt;</code> 까지 옵션값을 전달하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/index.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">type</span> <span class="token class-name">LineChartProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  selectionOptions<span class="token operator">?</span><span class="token operator">:</span> SelectionOptions<span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">LineChart</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  selectionOptions<span class="token punctuation">,</span></span><span class="token punctuation">}</span><span class="token operator">:</span> LineChartProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>View <span class="token comment">/* ... */</span><span class="token operator">></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>chartWrapper<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>touchCallbacks<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Svg</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>height<span class="token punctuation">}</span></span> <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayout<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">          </span><span class="token punctuation">{</span>loaded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LineChartBody</span></span>
              <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">              <span class="token attr-name">selectionOptions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectionOptions<span class="token punctuation">}</span></span></span>            <span class="token punctuation">/></span></span>
          <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Svg</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
      <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/index.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">type</span> <span class="token class-name">LineChartBodyProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  selectionOptions<span class="token operator">?</span><span class="token operator">:</span> SelectionOptions<span class="token punctuation">;</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">LineChartBody</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="gatsby-highlight-code-line">  selectionOptions<span class="token punctuation">,</span></span><span class="token punctuation">}</span><span class="token operator">:</span> LineChartBodyProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Fragment</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      &lt;XAxis /* ... */ /></span>
<span class="token plain-text">      &lt;YAxis /* ... */ /></span>
<span class="token plain-text">      &lt;Lines /* ... */ /></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Selection</span></span>
        <span class="token attr-name">xScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>xScale<span class="token punctuation">}</span></span>
        <span class="token attr-name">yScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>yScale<span class="token punctuation">}</span></span>
        <span class="token attr-name">paneBoundary</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">}</span></span>
        <span class="token attr-name">selected</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span>
        <span class="token attr-name">colors</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>linesOptions<span class="token operator">?.</span>colors <span class="token operator">??</span> <span class="token constant">DEFAULT_COLORS</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">series</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>series<span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">        <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>selectionOptions<span class="token punctuation">}</span></span></span>      <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Fragment</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LineChartBody<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><h3 id="253-selection--수정" style="position:relative"><a href="#253-selection--%EC%88%98%EC%A0%95" aria-label="253 selection  수정 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>2.5.3. <code>&lt;Selection /&gt;</code> 수정</h3><p>전달받은 옵션을 사용하도록 <code>&lt;Selection /&gt;</code> 과 <code>&lt;Dots /&gt;</code>, <code>&lt;Tooltip /&gt;</code> 을 수정하자.</p><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/index.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token comment">// `SelectionOptions` 타입의 속성들을 모두 prop 으로 받을 수 있도록 지정해주자.</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">type</span> <span class="token class-name">SelectionProps</span> <span class="token operator">=</span> SelectionOptions <span class="token operator">&amp;</span> <span class="token punctuation">{</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Selection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  xScale<span class="token punctuation">,</span>
  yScale<span class="token punctuation">,</span>
  paneBoundary<span class="token punctuation">,</span>
  selected<span class="token punctuation">,</span>
  colors<span class="token punctuation">,</span>
  series<span class="token punctuation">,</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// 이 아래 값들이 `SelectionOptions` 값들</span></span>
<span class="gatsby-highlight-code-line">  enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  lineColor <span class="token operator">=</span> <span class="token string">"gray"</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  lineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  dot<span class="token operator">:</span> dotOptions<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  tooltip<span class="token operator">:</span> tooltipOptions<span class="token punctuation">,</span></span><span class="token punctuation">}</span><span class="token operator">:</span> SelectionProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>enabled<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>lineWidth <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Line</span></span>
            <span class="token attr-name">x1</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span>
            <span class="token attr-name">x2</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span>
            <span class="token attr-name">y1</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y1<span class="token punctuation">}</span></span>
            <span class="token attr-name">y2</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y2<span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">            <span class="token attr-name">stroke</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lineColor<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">            <span class="token attr-name">strokeWidth</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lineWidth<span class="token punctuation">}</span></span></span>          <span class="token punctuation">/></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dots</span></span>
          <span class="token attr-name">items</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span>
          <span class="token attr-name">xScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>xScale<span class="token punctuation">}</span></span>
          <span class="token attr-name">yScale</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>yScale<span class="token punctuation">}</span></span>
          <span class="token attr-name">colors</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colors<span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">          <span class="token comment">// `&lt;Dots />` 를 위한 옵션도 전달해주자.</span></span><span class="gatsby-highlight-code-line">          <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>dotOptions<span class="token punctuation">}</span></span></span>        <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tooltip</span></span>
        <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tooltipX<span class="token punctuation">}</span></span>
        <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paneBoundary<span class="token punctuation">.</span>y2<span class="token punctuation">}</span></span>
        <span class="token attr-name">items</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selected<span class="token punctuation">}</span></span>
        <span class="token attr-name">series</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>series<span class="token punctuation">}</span></span>
        <span class="token attr-name">colors</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colors<span class="token punctuation">}</span></span>
        <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onTooltipLayout<span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">        <span class="token comment">// `&lt;Tooltip />` 를 위한 옵션도 전달해주자.</span></span><span class="gatsby-highlight-code-line">        <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>tooltipOptions<span class="token punctuation">}</span></span></span>      <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Selection<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/Dots.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token comment">// `SelectionOptions['dots']` 타입의 속성들을 모두 prop 으로 받을 수 있도록 지정해주자.</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">type</span> <span class="token class-name">DotsProps</span> <span class="token operator">=</span> SelectionOptions<span class="token punctuation">[</span><span class="token string">"dot"</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Dots</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  items<span class="token punctuation">,</span>
  xScale<span class="token punctuation">,</span>
  yScale<span class="token punctuation">,</span>
  colors<span class="token punctuation">,</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// 이 아래 값들이 `SelectionOptions['dots']` 값들</span></span>
<span class="gatsby-highlight-code-line">  enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token function-variable function">color</span> <span class="token operator">=</span> <span class="token punctuation">(</span>seriesColor<span class="token punctuation">)</span> <span class="token operator">=></span> seriesColor<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  radius <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token function-variable function">borderColor</span> <span class="token operator">=</span> <span class="token punctuation">(</span>seriesColor<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">getColorWithAlpha</span><span class="token punctuation">(</span>seriesColor<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  borderWidth <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span></span><span class="token punctuation">}</span><span class="token operator">:</span> DotsProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>enabled<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Circle</span></span>
          <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>seriesIndex<span class="token punctuation">}</span></span>
          <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">xScale</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
          <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">yScale</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">          <span class="token attr-name">r</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>radius<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">            <span class="token keyword">typeof</span> color <span class="token operator">===</span> <span class="token string">"function"</span></span><span class="gatsby-highlight-code-line">              <span class="token operator">?</span> <span class="token function">color</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">              <span class="token operator">:</span> color</span>          <span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">          <span class="token attr-name">stroke</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">            <span class="token keyword">typeof</span> borderColor <span class="token operator">===</span> <span class="token string">"function"</span></span><span class="gatsby-highlight-code-line">              <span class="token operator">?</span> <span class="token function">borderColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">              <span class="token operator">:</span> borderColor</span><span class="gatsby-highlight-code-line">          <span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">strokeWidth</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>borderWidth<span class="token punctuation">}</span></span></span>        <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Dots<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div class="codeblock-container"><div class="codeblock-title">comps/LineChart/LineChartBody/Selection/Tooltip.ts</div><div><div class="gatsby-highlight has-highlighted-lines" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line"><span class="token comment">// `SelectionOptions['tooltip']` 타입의 속성들을 모두 prop 으로 받을 수 있도록 지정해주자.</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TooltipProps</span> <span class="token operator">=</span> SelectionOptions<span class="token punctuation">[</span><span class="token string">"tooltip"</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Tooltip</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  items<span class="token punctuation">,</span>
  series<span class="token punctuation">,</span>
  colors<span class="token punctuation">,</span>
  x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  onLayout<span class="token operator">:</span> _onLayout<span class="token punctuation">,</span>

<span class="gatsby-highlight-code-line">  <span class="token comment">// 이 아래 값들이 `SelectionOptions['tooltip']` 값들</span></span>
<span class="gatsby-highlight-code-line">  enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  padding <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  paddingTop<span class="token operator">:</span> _paddingTop<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  paddingLeft<span class="token operator">:</span> _paddingLeft<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  paddingRight<span class="token operator">:</span> _paddingRight<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  paddingBottom<span class="token operator">:</span> _paddingBottom<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  backgroundColor <span class="token operator">=</span> <span class="token string">"white"</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  borderColor <span class="token operator">=</span> <span class="token string">"darkgray"</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  borderWidth<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token function-variable function">titleFormatter</span> <span class="token operator">=</span> <span class="token punctuation">(</span>items<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">dateFormat</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  titleSize<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  titleFont<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  titleWeight<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  titleColor<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemCircleRadius <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token function-variable function">itemCircleColor</span> <span class="token operator">=</span> <span class="token punctuation">(</span>seriesColor<span class="token punctuation">)</span> <span class="token operator">=></span> seriesColor<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token function-variable function">itemNameFormatter</span> <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token punctuation">,</span> series<span class="token punctuation">)</span> <span class="token operator">=></span></span><span class="gatsby-highlight-code-line">    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>series<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">??</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">시리즈 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>seriesIndex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemNameSize<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemNameFont<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemNameWeight<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemNameColor<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token function-variable function">itemValueFormatter</span> <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemValueSize<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemValueFont<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemValueWeight <span class="token operator">=</span> <span class="token string">"600"</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemValueColor<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  titleHeight <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemHeight <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemCircleNameGap <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  itemNameValueGap <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span></span><span class="token punctuation">}</span><span class="token operator">:</span> TooltipProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> paddingTop <span class="token operator">=</span> _paddingTop <span class="token operator">??</span> padding<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> paddingLeft <span class="token operator">=</span> _paddingLeft <span class="token operator">??</span> padding<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> paddingRight <span class="token operator">=</span> _paddingRight <span class="token operator">??</span> padding<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> paddingBottom <span class="token operator">=</span> _paddingBottom <span class="token operator">??</span> padding<span class="token punctuation">;</span></span>
  <span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>enabled<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>y<span class="token punctuation">}</span></span> <span class="token attr-name">opacity</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>loaded <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token punctuation">{</span>loaded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Rect</span></span>
<span class="gatsby-highlight-code-line">          <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>width <span class="token operator">+</span> paddingLeft <span class="token operator">+</span> paddingRight<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>height <span class="token operator">+</span> paddingTop <span class="token operator">+</span> paddingBottom<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>backgroundColor<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">stroke</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>borderColor<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">          <span class="token attr-name">strokeWidth</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>borderWidth<span class="token punctuation">}</span></span></span>          <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onLayout<span class="token punctuation">}</span></span>
        <span class="token punctuation">/></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paddingLeft<span class="token punctuation">}</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>paddingTop<span class="token punctuation">}</span></span> <span class="token attr-name">onLayout</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onContentLayout<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span>
            <span class="token attr-name">alignmentBaseline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hanging<span class="token punctuation">"</span></span>
<span class="gatsby-highlight-code-line">            <span class="token attr-name">fontSize</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>titleSize<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">            <span class="token attr-name">fontFamily</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>titleFont<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">            <span class="token attr-name">fontWeight</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>titleWeight<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">            <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>titleColor<span class="token punctuation">}</span></span></span>          <span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">            </span><span class="token punctuation">{</span><span class="token function">titleFormatter</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span></span><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">        </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
<span class="gatsby-highlight-code-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">G</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span> <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>titleHeight <span class="token operator">+</span> i <span class="token operator">*</span> itemHeight<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Circle</span></span>
              <span class="token attr-name">x</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span>
              <span class="token attr-name">y</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span></span>
<span class="gatsby-highlight-code-line">              <span class="token attr-name">r</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemCircleRadius<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">              <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">                <span class="token keyword">typeof</span> itemCircleColor <span class="token operator">===</span> <span class="token string">"function"</span></span><span class="gatsby-highlight-code-line">                  <span class="token operator">?</span> <span class="token function">itemCircleColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">                  <span class="token operator">:</span> itemCircleColor</span><span class="gatsby-highlight-code-line">              <span class="token punctuation">}</span></span></span>            <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span>
<span class="gatsby-highlight-code-line">              <span class="token attr-name">dx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemCircleRadius <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> itemCircleNameGap<span class="token punctuation">}</span></span></span>              <span class="token attr-name">alignmentBaseline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hanging<span class="token punctuation">"</span></span>
            <span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TSpan</span></span>
<span class="gatsby-highlight-code-line">                <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">                  <span class="token keyword">typeof</span> itemNameColor <span class="token operator">===</span> <span class="token string">"function"</span></span><span class="gatsby-highlight-code-line">                    <span class="token operator">?</span> <span class="token function">itemNameColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">                    <span class="token operator">:</span> itemNameColor</span><span class="gatsby-highlight-code-line">                <span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">                <span class="token attr-name">fontSize</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemNameSize<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">                <span class="token attr-name">fontFamily</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemNameFont<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">                <span class="token attr-name">fontWeight</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemNameWeight<span class="token punctuation">}</span></span></span>              <span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">                </span><span class="token punctuation">{</span><span class="token function">itemNameFormatter</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> series<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span></span><span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TSpan</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TSpan</span></span>
<span class="gatsby-highlight-code-line">                <span class="token attr-name">dx</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemNameValueGap<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">                <span class="token attr-name">fill</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">                  <span class="token keyword">typeof</span> itemValueColor <span class="token operator">===</span> <span class="token string">"function"</span></span><span class="gatsby-highlight-code-line">                    <span class="token operator">?</span> <span class="token function">itemValueColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex <span class="token operator">%</span> colors<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">                    <span class="token operator">:</span> itemValueColor</span><span class="gatsby-highlight-code-line">                <span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">                <span class="token attr-name">fontSize</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemValueSize<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">                <span class="token attr-name">fontFamily</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemValueFont<span class="token punctuation">}</span></span></span><span class="gatsby-highlight-code-line">                <span class="token attr-name">fontWeight</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>itemValueWeight<span class="token punctuation">}</span></span></span>              <span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">                </span><span class="token punctuation">{</span><span class="token function">itemValueFormatter</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span></span><span class="token plain-text">              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TSpan</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">G</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Tooltip<span class="token punctuation">;</span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><p>이제 하드코딩은 거의 다 없어졌고, 옵션 값을 사용해 선택된 아이템의 세로선, 점, 툴팁의 스타일을 지정할 수 있게 되었다.</p><div class="codeblock-container"><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LineChart</span></span>
  <span class="token attr-name">series</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dummySeries<span class="token punctuation">}</span></span>
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span>
  <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">200</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">xAxisOptions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> showGridLines<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">selectionOptions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
      enabled<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/></span></span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/0dd27990a857444010a39a42e12af534/44838/selection-3-1.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHYsLGEh//EABgQAAIDAAAAAAAAAAAAAAAAAAABECEx/9oACAEBAAEFAkXDFp//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAEBAQEBAQAAAAAAAAAAAAABABEhQXH/2gAIAQEAAT8hbj72+C7DBbrMAX//2gAMAwEAAgADAAAAEAPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRABAAIBBQEAAAAAAAAAAAAAAQARMSFBUXGxYf/aAAgBAQABPxAAAq3su5h7YO/PwhhrfHEaadEv2CVnuf/Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="selection 3 1"
        title=""
        src="/blog/static/0dd27990a857444010a39a42e12af534/3ad8d/selection-3-1.jpg"
        srcset="/blog/static/0dd27990a857444010a39a42e12af534/63ecb/selection-3-1.jpg 150w,
/blog/static/0dd27990a857444010a39a42e12af534/73b64/selection-3-1.jpg 300w,
/blog/static/0dd27990a857444010a39a42e12af534/3ad8d/selection-3-1.jpg 600w,
/blog/static/0dd27990a857444010a39a42e12af534/2ee6c/selection-3-1.jpg 900w,
/blog/static/0dd27990a857444010a39a42e12af534/44838/selection-3-1.jpg 1080w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></div><div class="codeblock-container"><div><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LineChart</span></span>
  <span class="token attr-name">series</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dummySeries<span class="token punctuation">}</span></span>
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span>
  <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">200</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">legendOptions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> enabled<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">selectionOptions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    lineWidth<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    dot<span class="token operator">:</span> <span class="token punctuation">{</span>
      radius<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      borderWidth<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
      padding<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      backgroundColor<span class="token operator">:</span> <span class="token string">"rgba(255, 255, 255, 0.9)"</span><span class="token punctuation">,</span>
      borderWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token function-variable function">itemNameColor</span><span class="token operator">:</span> <span class="token punctuation">(</span>seriesColor<span class="token punctuation">)</span> <span class="token operator">=></span> seriesColor<span class="token punctuation">,</span>
      <span class="token function-variable function">itemNameFormatter</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token punctuation">,</span> series<span class="token punctuation">)</span> <span class="token operator">=></span> series<span class="token punctuation">[</span>item<span class="token punctuation">.</span>seriesIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">??</span> <span class="token string">""</span><span class="token punctuation">,</span>
      itemNameSize<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
      itemNameWeight<span class="token operator">:</span> <span class="token string">"100"</span><span class="token punctuation">,</span>
      titleHeight<span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
      titleSize<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token function-variable function">itemValueColor</span><span class="token operator">:</span> <span class="token punctuation">(</span>seriesColor<span class="token punctuation">)</span> <span class="token operator">=></span> seriesColor<span class="token punctuation">,</span>
      <span class="token function-variable function">itemValueFormatter</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      itemValueWeight<span class="token operator">:</span> <span class="token string">"900"</span><span class="token punctuation">,</span>
      itemValueSize<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
      itemHeight<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      itemCircleNameGap<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      itemNameValueGap<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token punctuation">/></span></span></code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/4e01eb83fe45a37d3f1278b76842ad16/44838/selection-3-2.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAQACBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAewgbiP/xAAYEAACAwAAAAAAAAAAAAAAAAAAAQIgMf/aAAgBAQABBQKOUR//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQIUEx/9oACAEBAAE/IU11cV6EuPuOp//aAAwDAQACAAMAAAAQY8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAwEBAQEAAAAAAAAAAAABABEhMXFR0f/aAAgBAQABPxCkiVbsDoA029l2k0S+TDDC+HpLfrz9mz1P/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="selection 3 2"
        title=""
        src="/blog/static/4e01eb83fe45a37d3f1278b76842ad16/3ad8d/selection-3-2.jpg"
        srcset="/blog/static/4e01eb83fe45a37d3f1278b76842ad16/63ecb/selection-3-2.jpg 150w,
/blog/static/4e01eb83fe45a37d3f1278b76842ad16/73b64/selection-3-2.jpg 300w,
/blog/static/4e01eb83fe45a37d3f1278b76842ad16/3ad8d/selection-3-2.jpg 600w,
/blog/static/4e01eb83fe45a37d3f1278b76842ad16/2ee6c/selection-3-2.jpg 900w,
/blog/static/4e01eb83fe45a37d3f1278b76842ad16/44838/selection-3-2.jpg 1080w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></div><h1 id="3-결과" style="position:relative"><a href="#3-%EA%B2%B0%EA%B3%BC" aria-label="3 결과 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>3. 결과</h1><p>이제 차트에서 터치로 아이템을 선택할 수 있게 되었다.</p><h2 id="31-이슈" style="position:relative"><a href="#31-%EC%9D%B4%EC%8A%88" aria-label="31 이슈 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>3.1. 이슈</h2><p>기능 자체는 잘 동작하지만 이슈가 몇 개 남아있다.</p><ul>
<li>툴팁 초기화가 살짝 느리다. 컨텐츠 영역의 크기를 <code>onLayout</code> 콜백으로 측정하고 그 뒤에 배경 및 테두리까지 그린 뒤에야 보여주기 때문이다.</li>
<li>2.4. 에서 간접적으로 언급했지만, 선택을 취소하는 UX 가 마음에 들지 않는다. 그런데 다른 대안도 썩 마음에 들지는 않아서 문제다.</li>
</ul><h2 id="32-상세-코드-전문" style="position:relative"><a href="#32-%EC%83%81%EC%84%B8-%EC%BD%94%EB%93%9C-%EC%A0%84%EB%AC%B8" aria-label="32 상세 코드 전문 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>3.2. 상세 코드 전문</h2><p>본문에 삽입된 코드들은 생략된 부분들이 있으므로 코드 전문을 보고 싶다면 아래 링크를 참고하자.</p><ul>
<li><a href="https://github.com/ricale/D3ChartExamples/tree/main/src/screens/C04SelectableLineChartScreen">C04SelectableLineChartScreen</a></li>
</ul><h2 id="33-실행해보기" style="position:relative"><a href="#33-%EC%8B%A4%ED%96%89%ED%95%B4%EB%B3%B4%EA%B8%B0" aria-label="33 실행해보기 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>3.3. 실행해보기</h2><p>구현 결과를 실기기 혹은 에뮬레이터에서 직접 확인하고 싶다면 <a href="https://github.com/ricale/D3ChartExamples">https://github.com/ricale/D3ChartExamples</a> 에서 프로젝트를 받아서 실행해보면 된다.</p><div class="codeblock-container"><div><div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token comment"># 프로젝트 코드 다운로드</span>
<span class="token function">git</span> clone https://github.com/ricale/D3ChartExamples.git
<span class="token builtin class-name">cd</span> ./D3ChartExamples</code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div class="codeblock-container"><div><div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token comment"># 안드로이드 실행</span>
<span class="token function">yarn</span>
<span class="token function">yarn</span> android</code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div class="codeblock-container"><div><div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token comment"># iOS 실행</span>
<span class="token function">yarn</span>
<span class="token builtin class-name">cd</span> ./ios <span class="token operator">&amp;&amp;</span> pod <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/
<span class="token function">yarn</span> ios</code></pre></div></div><button class="codeblock-copy-button">COPY</button></div><div><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/f288e06f8efb35211ecae6678b95689b/44838/screenshot.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 211.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAqABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEEBgID/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABt9W5Ki4OUiUjynEjbsOP/8QAHBAAAQQDAQAAAAAAAAAAAAAAAAEDEBQRICFB/9oACAEBAAEFAqjRUaKjGvsdhFMoZTT/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AV//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AV//xAAcEAACAgIDAAAAAAAAAAAAAAAAEAExITIgM6H/2gAIAQEABj8C0g0g6/Vay8O4LL4f/8QAHxAAAgEEAgMAAAAAAAAAAAAAAAERMVFhkRAhQYGh/9oACAEBAAE/IZab2XfqY2wpUqnZ7CE1DYUS6oJ4Iq4CbOglcQpUXdzF2YOzwW4//9oADAMBAAIAAwAAABCDADDTz//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QX//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QX//EACIQAQACAgEDBQEAAAAAAAAAAAEAESExUUFxwRBhgZHw8f/aAAgBAQABPxBvrAaP7wZwuyvM/YeYbB2PMouYxhX7ijC7Sw3UJtPCrbg1ihxqFMwW6c31nQgvbErIv2g2wG0MLkSs3XmHTf4w37kd9h6f/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="screenshot"
        title=""
        src="/blog/static/f288e06f8efb35211ecae6678b95689b/3ad8d/screenshot.jpg"
        srcset="/blog/static/f288e06f8efb35211ecae6678b95689b/63ecb/screenshot.jpg 150w,
/blog/static/f288e06f8efb35211ecae6678b95689b/73b64/screenshot.jpg 300w,
/blog/static/f288e06f8efb35211ecae6678b95689b/3ad8d/screenshot.jpg 600w,
/blog/static/f288e06f8efb35211ecae6678b95689b/2ee6c/screenshot.jpg 900w,
/blog/static/f288e06f8efb35211ecae6678b95689b/44838/screenshot.jpg 1080w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></div><h1 id="4-다음" style="position:relative"><a href="#4-%EB%8B%A4%EC%9D%8C" aria-label="4 다음 permalink" class="anchor before"><div><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></div></a>4. 다음</h1><p>다음에 구현 및 정리할 예정인 작업들은 아래와 같다.</p><ol>
<li>라인차트 애니메이션 기능 구현 (초기화 시, 값 변경 시 등)</li>
<li>컬럼차트 구현 (상세 계획 미정)</li>
<li>파이차트 구현 (상세 계획 미정)</li>
</ol></div>
<div class="toc"><p>목차</p><ul>
<li><a href="#1-%EA%B0%9C%EC%9A%94">1. 개요</a></li>
<li><a href="#2-%EA%B5%AC%ED%98%84">2. 구현</a>
<ul>
<li><a href="#21-%ED%84%B0%EC%B9%98%EB%90%9C-%EC%A7%80%EC%A0%90%EC%97%90%EC%84%9C-%EC%A0%9C%EC%9D%BC-%EA%B0%80%EA%B9%8C%EC%9A%B4-%EC%95%84%EC%9D%B4%ED%85%9C-%EC%B0%BE%EA%B8%B0">2.1. 터치된 지점에서 제일 가까운 아이템 찾기</a>
<ul>
<li><a href="#211-%ED%84%B0%EC%A7%80%EB%90%9C-%EC%A7%80%EC%A0%90-%EC%A2%8C%ED%91%9C%EA%B0%92-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0">2.1.1. 터지된 지점 좌표값 가져오기</a></li>
<li><a href="#212-%EC%A2%8C%ED%91%9C%EA%B0%92%EC%97%90%EC%84%9C-%EC%A0%9C%EC%9D%BC-%EA%B0%80%EA%B9%8C%EC%9A%B4-%EC%95%84%EC%9D%B4%ED%85%9C-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0">2.1.2. 좌표값에서 제일 가까운 아이템 가져오기</a></li>
</ul>
</li>
<li><a href="#22-%EC%84%A0%ED%83%9D%EB%90%9C-%EC%95%84%EC%9D%B4%ED%85%9C%EB%93%A4%EC%9D%84-%ED%91%9C%EC%8B%9C%ED%95%98%EB%8A%94-%EC%84%B8%EB%A1%9C%EC%84%A0%EA%B3%BC-%EC%A0%90-%EA%B5%AC%ED%98%84">2.2. 선택된 아이템들을 표시하는 세로선과 점 구현</a></li>
<li><a href="#23-%EC%84%A0%ED%83%9D%EB%90%9C-%EC%95%84%EC%9D%B4%ED%85%9C%EB%93%A4%EC%9D%98-%EC%A0%95%EB%B3%B4%EB%A5%BC-%ED%91%9C%EC%8B%9C%ED%95%98%EB%8A%94-%ED%88%B4%ED%8C%81-%EA%B5%AC%ED%98%84">2.3. 선택된 아이템들의 정보를 표시하는 툴팁 구현</a>
<ul>
<li><a href="#231-selection--%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%B6%84%EB%A6%AC">2.3.1. <code>&lt;Selection /&gt;</code> 컴포넌트 분리</a></li>
<li><a href="#232-tooltip--%EA%B5%AC%ED%98%84">2.3.2. <code>&lt;Tooltip /&gt;</code> 구현</a></li>
<li><a href="#233-%ED%88%B4%ED%8C%81%EC%9D%98-%EC%9C%84%EC%B9%98%EB%A5%BC-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%B3%80%EA%B2%BD">2.3.3. 툴팁의 위치를 동적으로 변경</a></li>
</ul>
</li>
<li><a href="#24-%EC%84%A0%ED%83%9D-%EC%B7%A8%EC%86%8C%ED%95%98%EA%B8%B0">2.4. 선택 취소하기</a>
<ul>
<li><a href="#241-ontouchstart-ontouchmove-ontouchend-%EA%B0%81%EA%B0%81-%EA%B5%AC%ED%98%84">2.4.1. <code>onTouchStart</code>, <code>onTouchMove</code>, <code>onTouchEnd</code> 각각 구현</a></li>
</ul>
</li>
<li><a href="#25-selectionoptions">2.5. <code>SelectionOptions</code></a>
<ul>
<li><a href="#251-%EC%98%B5%EC%85%98-%ED%83%80%EC%9E%85-%EC%B6%94%EA%B0%80">2.5.1. 옵션 타입 추가</a></li>
<li><a href="#252-linechart--%EB%A1%9C%EB%B6%80%ED%84%B0-%EC%98%B5%EC%85%98-%EC%A0%84%EB%8B%AC">2.5.2. <code>&lt;LineChart /&gt;</code> 로부터 옵션 전달</a></li>
<li><a href="#253-selection--%EC%88%98%EC%A0%95">2.5.3. <code>&lt;Selection /&gt;</code> 수정</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#3-%EA%B2%B0%EA%B3%BC">3. 결과</a>
<ul>
<li><a href="#31-%EC%9D%B4%EC%8A%88">3.1. 이슈</a></li>
<li><a href="#32-%EC%83%81%EC%84%B8-%EC%BD%94%EB%93%9C-%EC%A0%84%EB%AC%B8">3.2. 상세 코드 전문</a></li>
<li><a href="#33-%EC%8B%A4%ED%96%89%ED%95%B4%EB%B3%B4%EA%B8%B0">3.3. 실행해보기</a></li>
</ul>
</li>
<li><a href="#4-%EB%8B%A4%EC%9D%8C">4. 다음</a></li>
</ul></div></div><div class="sc-fnGiBr chzGpf"><div><a class="sc-bqWxrE qVLga" href="/blog/posts/230425-chart-in-react-native-with-d3-3/"><div class="sc-ksBlkl jRgUdV">❮ 시리즈 이전글</div><div class="sc-hBxehG hnJSJj">React Native 에서 차트 구현 - 3. 라인차트 레전드 기능</div></a></div><div><a class="sc-bqWxrE gmUCrZ" href="/blog/posts/230524-chart-in-react-native-with-d3-5/"><div class="sc-ksBlkl jRgUdV">시리즈 다음글 ❯</div><div class="sc-hBxehG hnJSJj">React Native 에서 차트 구현 - 5. 라인차트 애니메이션 기능</div></a></div></div><div id="comments"></div></main><div class="sc-hLBbgP fVhLzR"><p>Copyright 2021<!-- --> <strong><a href="https://ricale.kr/">ricale</a>.</strong></p><p><a href="https://creativecommons.org/licenses/by-nc-sa/2.0/kr/">CC BY-NC-SA 2.0 KR</a>.</p><p>Powered by<!-- --> <strong><a href="https://www.gatsbyjs.com/">Gatsby</a></strong> <!-- -->and<!-- --> <strong><a href="https://pages.github.com/">GitHub Pages</a></strong>.</p></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SGJDRX2QGE"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-SGJDRX2QGE', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/230508-chart-in-react-native-with-d3-4/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-7a1e6e763da9feec3847.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-5c282ce9e86213ae619b.js\"],\"component---src-pages-drafts-index-tsx\":[\"/component---src-pages-drafts-index-tsx-bfd2de6333e4faffeda2.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-082a5097d113dbd217c0.js\"],\"component---src-pages-posts-index-tsx\":[\"/component---src-pages-posts-index-tsx-bec842baca7100558e35.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210304-auto-update-env-variable-files-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210304-auto-update-env-variable-files-index-mdx-a0ef9d4328ef60d92978.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210320-sqlite-3-data-types-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210320-sqlite-3-data-types-index-mdx-7a3c14922fb1ce3324d5.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210325-apply-eslint-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210325-apply-eslint-index-mdx-7b806a4d33af64086619.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210330-chrome-web-worker-issue-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210330-chrome-web-worker-issue-index-mdx-3ab300b4c2962f6f134c.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210416-create-n-length-array-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210416-create-n-length-array-index-mdx-ecc5dc083f0e767e9509.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210430-tech-interview-questions-1-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210430-tech-interview-questions-1-index-mdx-b56efbe6a3cc93f62983.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210430-tech-interview-questions-2-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210430-tech-interview-questions-2-index-mdx-1963fa0d7e1f659c2fa8.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210503-create-react-app-github-pages-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210503-create-react-app-github-pages-index-mdx-5ff448de23063acae4dc.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210505-cra-webpack-1-resolve-alias-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210505-cra-webpack-1-resolve-alias-index-mdx-b0aa9fc691f8fcbff4c2.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210527-cra-webpack-2-module-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210527-cra-webpack-2-module-index-mdx-08d9644288d9f44809aa.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210613-nextjs-github-pages-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210613-nextjs-github-pages-index-mdx-9a77b551e5c631da42da.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210628-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210628-read-writings-index-mdx-7c9a60980547344f274d.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210705-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210705-read-writings-index-mdx-e6e0c1df7d9f6a11885c.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210724-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210724-read-writings-index-mdx-be812ef6d938ac18b0ad.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210821-react-native-webview-android-back-button-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210821-react-native-webview-android-back-button-index-mdx-4c9a482147f87377bf99.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210823-react-native-ios-build-error-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210823-react-native-ios-build-error-index-mdx-734ef16053cf1ec14874.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210831-react-native-build-setting-for-envs-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210831-react-native-build-setting-for-envs-index-mdx-1855e7fb487d9a1e47f9.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210901-github-ssh-multi-account-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-210901-github-ssh-multi-account-index-mdx-ef61530dac75583014f9.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211013-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211013-read-writings-index-mdx-91cf1a6f73a3e6e27e71.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211116-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211116-read-writings-index-mdx-fc13459fb25853059fe2.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211118-firbase-authentication-issue-in-production-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211118-firbase-authentication-issue-in-production-index-mdx-87ef6bcfd4207beab28d.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211202-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2021-211202-read-writings-index-mdx-83b47e0ea8e418f81e6f.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220102-react-native-apple-login-revoke-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220102-react-native-apple-login-revoke-index-mdx-5ff7a247f48d967b1f9f.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220226-mui-custom-theme-typescript-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220226-mui-custom-theme-typescript-index-mdx-08536018e95414abddf9.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220227-react-native-build-error-2-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220227-react-native-build-error-2-index-mdx-99d835706481b81b534c.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220227-react-native-webview-cookie-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220227-react-native-webview-cookie-index-mdx-60e2492e8c0ebcecf3c7.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220313-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220313-read-writings-index-mdx-7162c1eac2fea481ca22.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220409-react-native-svg-icon-component-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220409-react-native-svg-icon-component-index-mdx-9d0f0e34d4db3c7e19ae.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220502-node-version-by-project-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220502-node-version-by-project-index-mdx-0a16e7805b37f81cffc1.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220503-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220503-read-writings-index-mdx-8cc4cec8e8b6a39ee10f.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220509-frontend-test-code-1-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220509-frontend-test-code-1-index-mdx-d03205bada7549b438e2.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220510-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220510-read-writings-index-mdx-bafdf6a95426c73d3187.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220514-apply-prettier-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220514-apply-prettier-index-mdx-17b8dabd48b9ac13563f.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220516-react-native-build-error-3-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220516-react-native-build-error-3-index-mdx-dc9d00a65e4fde1f4e8b.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220523-book-review-scrum-3-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220523-book-review-scrum-3-index-mdx-5f379ed5c7c483a41140.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220523-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220523-read-writings-index-mdx-ea53f061e550279eb853.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220629-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220629-read-writings-index-mdx-5c9a911051ca18999c5e.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220724-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220724-read-writings-index-mdx-5e9a160a243fc935f895.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220810-book-review-programming-life-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220810-book-review-programming-life-index-mdx-ba2de7cbee3f40984b59.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220823-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220823-read-writings-index-mdx-a2024c0ceeb68482a6ab.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220926-is-javascript-single-threaded-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220926-is-javascript-single-threaded-index-mdx-61240c376c4238bdf182.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220929-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-220929-read-writings-index-mdx-2e5f7c2690458107dec1.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221003-things-about-promise-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221003-things-about-promise-index-mdx-8601628464ff18f5e50d.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221020-read-writing-why-were-leaving-the-cloud-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221020-read-writing-why-were-leaving-the-cloud-index-mdx-134033f3682624245c1e.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221020-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221020-read-writings-index-mdx-8cce982df8413538742b.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221107-react-native-build-error-4-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221107-react-native-build-error-4-index-mdx-43200affca48cdf0a56e.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221203-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221203-read-writings-index-mdx-d9efe9bc39d70d1434eb.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221214-ios-style-picker-1-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221214-ios-style-picker-1-index-mdx-cb205168fe82960f3df5.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221225-ios-style-picker-2-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2022-221225-ios-style-picker-2-index-mdx-46846a5206236f0b9f76.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230104-ios-style-picker-3-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230104-ios-style-picker-3-index-mdx-d90be6e57f70825f384c.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230105-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230105-read-writings-index-mdx-0295281369427816e7dd.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230111-gatsby-1-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230111-gatsby-1-index-mdx-aab472d2dab20b0c9db6.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230112-gatsby-2-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230112-gatsby-2-index-mdx-b6e7a83c70578dbfd338.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230119-gatsby-3-series-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230119-gatsby-3-series-index-mdx-b151b13396ca0c2d2e97.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230121-react-native-build-error-5-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230121-react-native-build-error-5-index-mdx-16ccf2ba22dfdb56c660.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230122-gatsby-4-drafts-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230122-gatsby-4-drafts-index-mdx-8a0c96039fb265d54d34.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230124-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230124-read-writings-index-mdx-a90c4748b9dabca2deb4.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230126-gatsby-5-ga-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230126-gatsby-5-ga-index-mdx-db3da135d8495c0afee6.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230128-gatsby-6-toc-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230128-gatsby-6-toc-index-mdx-3a407748ef6192c7bfc3.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230206-gatsby-7-sticky-toc-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230206-gatsby-7-sticky-toc-index-mdx-30be4310c21e357dded4.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230210-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230210-read-writings-index-mdx-32047f23a30a74c484e7.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230211-gatsby-8-comments-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230211-gatsby-8-comments-index-mdx-b8cc8f59b8c15b6779fb.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230219-gatsby-9-rss-feed-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230219-gatsby-9-rss-feed-index-mdx-5eb18befcf529958b08d.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230226-gatsby-10-codeblock-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230226-gatsby-10-codeblock-index-mdx-7d0653db296225424071.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230226-gatsby-11-github-pages-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230226-gatsby-11-github-pages-index-mdx-47ceae0475323a883f9a.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230311-airbridge-react-native-webview-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230311-airbridge-react-native-webview-index-mdx-9c593f841ee91d3695e7.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230325-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230325-read-writings-index-mdx-cc63d9c05d2b540ce423.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230330-gatsby-12-submodules-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230330-gatsby-12-submodules-index-mdx-b3cbd5f64cff674a00b5.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230405-algorithm-1-reverse-html-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230405-algorithm-1-reverse-html-index-mdx-f842234297ac399620cb.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230411-chart-in-react-native-with-d-3-1-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230411-chart-in-react-native-with-d-3-1-index-mdx-badd2de6ddd0b20c0780.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230417-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230417-read-writings-index-mdx-7d009b37b0a237f654c1.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230419-chart-in-react-native-with-d-3-2-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230419-chart-in-react-native-with-d-3-2-index-mdx-70f2c43eb49d33583ffc.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230420-algorithm-2-multiply-strings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230420-algorithm-2-multiply-strings-index-mdx-b2b75d055b9a021a9c2d.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230425-chart-in-react-native-with-d-3-3-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230425-chart-in-react-native-with-d-3-3-index-mdx-237eef153b84211ec5e1.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230505-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230505-read-writings-index-mdx-b2ca0a352ed956c165a3.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230507-algorithm-3-integer-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230507-algorithm-3-integer-index-mdx-910c6063cce2acc99edd.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230508-chart-in-react-native-with-d-3-4-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230508-chart-in-react-native-with-d-3-4-index-mdx-0793d7d635ae2207b784.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230524-chart-in-react-native-with-d-3-5-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230524-chart-in-react-native-with-d-3-5-index-mdx-2a40e0e4698481c6c259.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230526-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230526-read-writings-index-mdx-6a02cfd380fe47bb9862.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230612-algorithm-4-lis-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230612-algorithm-4-lis-index-mdx-35171cc500f7f1bc1ca1.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230615-algorithm-5-lcs-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230615-algorithm-5-lcs-index-mdx-4e0cf366374300b72fcb.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230625-algorithm-wrong-answers-1-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230625-algorithm-wrong-answers-1-index-mdx-dc2cf93f94829134bdc0.js\"],\"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230629-read-writings-index-mdx\":[\"/component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-blog-posts-2023-230629-read-writings-index-mdx-b6ccc1cc1f67208ec957.js\"],\"component---src-pages-series-index-tsx\":[\"/component---src-pages-series-index-tsx-cf418f66e1e9f43a6b68.js\"],\"component---src-pages-tags-index-tsx\":[\"/component---src-pages-tags-index-tsx-3bbdc17bc148d21fdcc3.js\"],\"component---src-templates-series-detail-page-template-tsx\":[\"/component---src-templates-series-detail-page-template-tsx-7c10abfa29eb864f3574.js\"],\"component---src-templates-tag-detail-page-template-tsx\":[\"/component---src-templates-tag-detail-page-template-tsx-248e16f55f3beef3aa57.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="43fa106273d1ada295b8";</script><script src="/blog/webpack-runtime-ce7508e64d172ae59b97.js" async></script><script src="/blog/framework-722053c27c5e7561dbbb.js" async></script><script src="/blog/app-7a1e6e763da9feec3847.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>