"use strict";(self.webpackChunkricalelog=self.webpackChunkricalelog||[]).push([[5600],{8462:function(n,a,e){e.r(a),e.d(a,{Head:function(){return B},default:function(){return C}});var t=e(1151),s=e(7294);function o(n){const a=Object.assign({div:"div",h2:"h2",a:"a",p:"p",strong:"strong",em:"em",code:"code",ol:"ol",li:"li",h3:"h3",ul:"ul",h4:"h4"},(0,t.ah)(),n.components);return s.createElement(s.Fragment,null,s.createElement(a.div,{className:"md"},s.createElement(a.h2,{id:"1-발단",style:{position:"relative"}},s.createElement(a.a,{href:"#1-%EB%B0%9C%EB%8B%A8","aria-label":"1 발단 permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"1. 발단"),s.createElement(a.p,null,"회사의 React 기반 웹앱 프로젝트에서, iOS 스타일의 Date Picker UI 를 사용해야 하는 일이 생겼다. 직접 구현하기에는 기능에 비해 주어진 시간이 많지 않았으므로 오픈소스 라이브러리를 찾아 설치하려고 했다. 그런데 의외로 원하는 스타일의 Date Picker 를 찾기 어려웠다. iOS 스타일의 스크롤되는 형식보다는 안드로이드 스타일의 달력 형식이 주류였다."),s.createElement(a.p,null,"어찌저찌 찾기는 찾았다. 다만 라이브러리는 아니고 ",s.createElement(a.a,{href:"https://gist.github.com/wjpeters/876a8fe4040a2bb4b4eb28d2270620a5"},"Gist 에 올라와있는"),", 순수 자바스크립트로 작성된 코드 조각이었다. (아래 이미지는 CodePen 에 올라와있는 해당 코드 조각 ",s.createElement(a.a,{href:"https://codepen.io/gnauhca/pen/JrdpZZ"},"실행 예제"),"다.)"),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/0df1dd1ab3ffe2bc5c337bf023278699/9c1e6/1.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdElEQVR42sWQSwrAIAxE4wcVP4huvP9JUxQqNgq1UHAhYQZ9ZgYAAH8+s6mUQinlw6Oac45CiEPAlBI657pmjGEIoc3xU2vtO7A+KqVgjLHruk3Ouc0baoxB7/3ehlrrKSKNV+H0zifgqsNt4BhtrGJVD/UuFFuiB2xulAMAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="1"\n        title=""\n        src="/static/0df1dd1ab3ffe2bc5c337bf023278699/5a190/1.png"\n        srcset="/static/0df1dd1ab3ffe2bc5c337bf023278699/772e8/1.png 200w,\n/static/0df1dd1ab3ffe2bc5c337bf023278699/e17e5/1.png 400w,\n/static/0df1dd1ab3ffe2bc5c337bf023278699/5a190/1.png 800w,\n/static/0df1dd1ab3ffe2bc5c337bf023278699/c1b63/1.png 1200w,\n/static/0df1dd1ab3ffe2bc5c337bf023278699/29007/1.png 1600w,\n/static/0df1dd1ab3ffe2bc5c337bf023278699/9c1e6/1.png 1734w"\n        sizes="(max-width: 800px) 100vw, 800px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),s.createElement(a.p,null,"일단 확인해 본 예제가 마음에 들었기 때문에, 회사 프로젝트에서는 스타일을 좀 수정하고 React 컴포넌트로 래핑만 해서 사용했다. 잘 적용하고 돌아보니 이 코드를 React 컴포넌트로 만들어서 패키지로 만들고 싶은 욕심이 생겼다. (라이센스를 확인해보니 다행히 자유로운 사용이 가능했다.)"),s.createElement(a.p,null,"그래서 ",s.createElement(a.strong,null,s.createElement(a.em,null,"iOS 스타일의 Date Picker UI 를 라이브러리로 구현")),"해보기로 하겠다. 물론 그 이전에 기존 코드에 대한 이해를 먼저 해야겠다."),s.createElement(a.h2,{id:"2-기존-코드-리뷰",style:{position:"relative"}},s.createElement(a.a,{href:"#2-%EA%B8%B0%EC%A1%B4-%EC%BD%94%EB%93%9C-%EB%A6%AC%EB%B7%B0","aria-label":"2 기존 코드 리뷰 permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2. 기존 코드 리뷰"),s.createElement(a.p,null,"기존 코드는 ",s.createElement(a.code,null,"IosSelector")," 라는 클래스를 중심으로 이루어져있다."),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b81b487eb7f5d33c6741d04609fb95d3/9c1e6/2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAt0lEQVR42p2S2RKDIAxFIQmLoLX6oP3/H70NLY7WzpS2D3cCgZwsYIwx2GRVVzJY2eCmynY/+0H7JirAqc3BIzqB17WvZ07kJZCIwMxtYLHiPYgFdAS6P4GkmqYJOWew+kJJYi2GYYBVu931mjSl1AayBi3Liss4PoFkYbWaeZ4fVW3QGCP6vm8Dy8P4EMBSW65jOLdX4HKa6xuw02BRmxQYvniUJtDVKjsmRG01lsDtSx3mZz747qr7oxHfkRNpAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="2"\n        title=""\n        src="/static/b81b487eb7f5d33c6741d04609fb95d3/5a190/2.png"\n        srcset="/static/b81b487eb7f5d33c6741d04609fb95d3/772e8/2.png 200w,\n/static/b81b487eb7f5d33c6741d04609fb95d3/e17e5/2.png 400w,\n/static/b81b487eb7f5d33c6741d04609fb95d3/5a190/2.png 800w,\n/static/b81b487eb7f5d33c6741d04609fb95d3/c1b63/2.png 1200w,\n/static/b81b487eb7f5d33c6741d04609fb95d3/29007/2.png 1600w,\n/static/b81b487eb7f5d33c6741d04609fb95d3/9c1e6/2.png 1734w"\n        sizes="(max-width: 800px) 100vw, 800px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),s.createElement(a.p,null,"해당 클래스만 450라인이 조금 넘는 정도고, 초기화를 돕는 나머지 유틸 함수들이 100라인 미만으로 존재한다."),s.createElement(a.p,null,"(아래 이미지는 ",s.createElement(a.code,null,"IosSelector")," 클래스 내부 메서드들의 콜 다이어그램이다.)"),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 761px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/6f7ac17e071d3e70ca6969244d6e7448/8c857/3.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 96%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVR42p2UiY7CMAxE8//fWFGuAuUohXKVHkbPklfesGy7a8lK0zjjydhJuN1ucj6fpaoq9dPpJPzbbrdyvV6lrmvB+r5XH7LA5vv9riBFUegIEP54PKRpGum67gtsCDRYZpzNh8NBQWezmSRJIsvlUhN6pr8C+gnBHBsJ1uu17HY72Ww2KsPz+fw7QwwwjgvgfD6XPM//zxBjM4CLxUKyLFO/XC7jGSI8wYwmvn2bM2/bdhwgbNDqeDx+a5vJZKJFmU6nOh99ZIJjR0daiIqTiKR0gAf0o/fgK4yVZakA+/1ejxo3duxvDNGGBRthAhDFscYeMvaiNWNAN9hwRKoJIwM00E9OLJKgOxjsD0xwjkqQZYxvkHVA7PSpXQakCqAywY0V/9I01UozEmh96A2GrPk6KCAvi1G3Cq9WK/3PyJoBeqYwi6sf4koRxNFJRALmpiVsAEcekrIWt0+I3zp7uowdGhk47LkEFIB109zvD37y6c3zR/RF/On2vDH8dAMwmMIO1tyiOBZ7AYLuzoSLVuSJAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="3"\n        title=""\n        src="/static/6f7ac17e071d3e70ca6969244d6e7448/8c857/3.png"\n        srcset="/static/6f7ac17e071d3e70ca6969244d6e7448/772e8/3.png 200w,\n/static/6f7ac17e071d3e70ca6969244d6e7448/e17e5/3.png 400w,\n/static/6f7ac17e071d3e70ca6969244d6e7448/8c857/3.png 761w"\n        sizes="(max-width: 761px) 100vw, 761px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),s.createElement(a.p,null,"클래스 내에서 눈여겨볼만한 로직은 아래 세 가지 정도가 있다."),s.createElement(a.ol,null,"\n",s.createElement(a.li,null,"엘리먼트 생성 및 이벤트 처리"),"\n",s.createElement(a.li,null,"터치 이벤트 처리"),"\n",s.createElement(a.li,null,"월별 일수가 다른 것 처리"),"\n"),s.createElement(a.p,null,"하나씩 천천히 살펴보자."),s.createElement(a.h3,{id:"21-엘리먼트-생성-및-이벤트-처리",style:{position:"relative"}},s.createElement(a.a,{href:"#21-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC","aria-label":"21 엘리먼트 생성 및 이벤트 처리 permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.1. 엘리먼트 생성 및 이벤트 처리"),s.createElement(a.p,null,"엘리먼트는 DOM 에 직접 접근해서 ",s.createElement(a.code,null,"innerHTML")," 을 사용해 생성한다."),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>elems<span class="token punctuation">.</span>el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> template\n  <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"{{circleListHTML}}"</span><span class="token punctuation">,</span> circleListHTML<span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"{{highListHTML}}"</span><span class="token punctuation">,</span> highListHTML<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),s.createElement(a.p,null,"여기서 ",s.createElement(a.code,null,"template")," 은 그냥 엘리먼트를 문자열로 하드코딩한 값이다."),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n  &lt;div class="select-wrap">\n    &lt;ul class="select-options" style="transform: translate3d(0, 0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">-</span><span class="token keyword">this</span>\n      <span class="token punctuation">.</span>radius<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px) rotateX(0deg);">\n      {{circleListHTML}}\n    &lt;/ul>\n    &lt;div class="highlight">\n      &lt;ul class="highlight-list">\n        {{highListHTML}}\n      &lt;/ul>\n    &lt;/div>\n  &lt;/div>\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>'}}),s.createElement(a.p,null,s.createElement(a.code,null,"circleListHTML"),"은 사용자가 스크롤하면 돌아갈 아이템들이다. 여기서 스크롤은 실제로 엘리먼트들이 스크롤되는 것이 아니라 ",s.createElement(a.code,null,"transfrom: rotateX translate3d()"),"를 활용한 애니메이션이다."),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> source<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  circleListHTML <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li class="select-option"\n    style="\n      top: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemHeight <span class="token operator">*</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px;\n      height: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px;\n      line-height: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px;\n      transform: rotateX(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemAngle <span class="token operator">*</span> i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg) translate3d(0, 0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>radius\n  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px);\n    "\n    data-index="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"\n    ></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),s.createElement(a.p,null,"이 ",s.createElement(a.code,null,"transform")," 은 추후에 애니메이션이 필요할 때마다 아래처럼 값이 변경된다."),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>elems<span class="token punctuation">.</span>circleList<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span>\n  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(0, 0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px) </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>\n  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rotateX(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>itemAngle <span class="token operator">*</span> scroll<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>'}}),s.createElement(a.p,null,s.createElement(a.code,null,"highListHTML"),"은 ",s.createElement(a.code,null,"circleListHTML"),"과 거의 동일하다. 다만 선택된 값을 표시하는 부분만 보이도록 처리되어, 선택된 값을 강조하는 용도로 사용된다."),s.createElement(a.h3,{id:"22-터치-이벤트-처리",style:{position:"relative"}},s.createElement(a.a,{href:"#22-%ED%84%B0%EC%B9%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC","aria-label":"22 터치 이벤트 처리 permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.2. 터치 이벤트 처리"),s.createElement(a.p,null,"평소에는 ",s.createElement(a.code,null,"touchstart"),"와 ",s.createElement(a.code,null,"touchend")," 이벤트 리스너만 설정되어 있다."),s.createElement(a.ul,null,"\n",s.createElement(a.li,null,s.createElement(a.code,null,"touchstart")," 이벤트가 발생하면 ",s.createElement(a.code,null,"touchmove")," 리스너를 붙였다가,","\n",s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>elems<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"touchmove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">.</span>touchmove<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n"),"\n",s.createElement(a.li,null,s.createElement(a.code,null,"touchend")," 이벤트 발생 시 ",s.createElement(a.code,null,"touchmove")," 리스너를 떼어낸다.","\n",s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>elems<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"touchmove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">.</span>touchmove<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n"),"\n"),s.createElement(a.h4,{id:"touchstart",style:{position:"relative"}},s.createElement(a.a,{href:"#touchstart","aria-label":"touchstart permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),s.createElement(a.code,null,"touchstart")),s.createElement(a.ul,null,"\n",s.createElement(a.li,null,'"이벤트 시작 지점 좌표"를 저장해둔다.'),"\n",s.createElement(a.li,null,"혹시 애니메이션 중이었다면 중지시킨다."),"\n"),s.createElement(a.h4,{id:"touchmove",style:{position:"relative"}},s.createElement(a.a,{href:"#touchmove","aria-label":"touchmove permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),s.createElement(a.code,null,"touchmove")),s.createElement(a.ul,null,"\n",s.createElement(a.li,null,s.createElement(a.code,null,"touchstart"),' 시점에 저장해놓은 "이벤트 시작 지점 좌표"와 "현재 이벤트 발생 지점 좌표"를 비교해 적절한 아이템까지 엘리먼트를 스크롤 시킨다.'),"\n",s.createElement(a.li,null,"그리고 ",s.createElement(a.code,null,"touchend")," 에서 사용하기 위해, 이벤트 발생 시점 타임스탬프와 좌표를 따로 저장해둔다. (최대 다섯 개)","\n",s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> eventY <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token operator">||</span> e<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>\ntouchData<span class="token punctuation">.</span>yArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>eventY<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span>touchData<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  touchData<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n"),"\n"),s.createElement(a.h4,{id:"touchend",style:{position:"relative"}},s.createElement(a.a,{href:"#touchend","aria-label":"touchend permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),s.createElement(a.code,null,"touchend")),s.createElement(a.ul,null,"\n",s.createElement(a.li,null,"\n",s.createElement(a.p,null,"마지막 ",s.createElement(a.code,null,"touchmove")," 이벤트 두 건에 대한 정보 (타임스탬프, 좌표)로 반동 스크롤이 어디까지 가야할지 계산한다."),"\n",s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> startTime <span class="token operator">=</span> touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">[</span>touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> endTime <span class="token operator">=</span> touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">[</span>touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> startY <span class="token operator">=</span> touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">[</span>touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> endY <span class="token operator">=</span> touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">[</span>touchData<span class="token punctuation">.</span>yArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nv <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>startY <span class="token operator">-</span> endY<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemHeight<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>endTime <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> sign <span class="token operator">=</span> v <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>\n\nv <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">30</span> <span class="token operator">?</span> <span class="token number">30</span> <span class="token operator">*</span> sign <span class="token operator">:</span> v<span class="token punctuation">;</span></code></pre></div>'}}),"\n"),"\n",s.createElement(a.li,null,"\n",s.createElement(a.p,null,"애니메이션을 한 번에 적용하는 게 아니라 작게 나눠서 ",s.createElement(a.code,null,"requestAnimationFrame")," 을 반복해서 호출하는 방식으로 적용한다."),"\n",s.createElement(a.ul,null,"\n",s.createElement(a.li,null,s.createElement(a.code,null,"touchstart")," 이벤트가 치고 들어오면 언제든 ",s.createElement(a.code,null,"cancelAnimationFrame")," 을 써서 중지할 수 있다"),"\n"),"\n",s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>moving <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> <span class="token function-variable function">tick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    pass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">-</span> start<span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>pass <span class="token operator">&lt;</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>scroll <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_moveTo</span><span class="token punctuation">(</span>\n        initScroll <span class="token operator">+</span> easing<span class="token punctuation">[</span>easingName<span class="token punctuation">]</span><span class="token punctuation">(</span>pass <span class="token operator">/</span> t<span class="token punctuation">)</span> <span class="token operator">*</span> totalScrollLen\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>moveT <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>tick<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>scroll <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_moveTo</span><span class="token punctuation">(</span>initScroll <span class="token operator">+</span> totalScrollLen<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n"),"\n"),s.createElement(a.h3,{id:"23-월별-일수가-다른-것-처리",style:{position:"relative"}},s.createElement(a.a,{href:"#23-%EC%9B%94%EB%B3%84-%EC%9D%BC%EC%88%98%EA%B0%80-%EB%8B%A4%EB%A5%B8-%EA%B2%83-%EC%B2%98%EB%A6%AC","aria-label":"23 월별 일수가 다른 것 처리 permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.3. 월별 일수가 다른 것 처리"),s.createElement(a.p,null,"월을 표시하는 ",s.createElement(a.code,null,"IosSelector")," 의 ",s.createElement(a.code,null,"onChange")," 이벤트가 발생할 때마다 해당 년월에 선택하는한 일 범위를 계산해, 일을 표시하는 ",s.createElement(a.code,null,"IosSelector")," 에게 전달한다."),s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">selected</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  currentMonth <span class="token operator">=</span> selected<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n\n  daySource <span class="token operator">=</span> <span class="token function">getDays</span><span class="token punctuation">(</span>currentYear<span class="token punctuation">,</span> currentMonth<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// `daySelector`: 일을 표시하는 `IosSelector` 인스턴스</span>\n  daySelector<span class="token punctuation">.</span><span class="token function">updateSource</span><span class="token punctuation">(</span>daySource<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>'}}),s.createElement(a.h2,{id:"3-다음",style:{position:"relative"}},s.createElement(a.a,{href:"#3-%EB%8B%A4%EC%9D%8C","aria-label":"3 다음 permalink",className:"anchor before"},s.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"3. 다음"),s.createElement(a.p,null,"이제 다음으로 해야할 일은 아래와 같다."),s.createElement(a.ul,null,"\n",s.createElement(a.li,null,"취향에 맞는 리팩토링"),"\n",s.createElement(a.li,null,"vite 로 빌드 및 배포 환경 구성"),"\n",s.createElement(a.li,null,"storybook 으로 데모 페이지 작성 및 배포"),"\n",s.createElement(a.li,null,"npm 에 패키지 배포"),"\n"),s.createElement(a.p,null,"이 글에서 모두 이야기하기에는 글이 길어질 것 같으므로, 나눠서 작성하도록 하겠다.")),"\n",s.createElement(a.div,{className:"toc"},s.createElement(a.p,null,"목차"),s.createElement(a.ul,null,"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#1-%EB%B0%9C%EB%8B%A8"},"1. 발단")),"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#2-%EA%B8%B0%EC%A1%B4-%EC%BD%94%EB%93%9C-%EB%A6%AC%EB%B7%B0"},"2. 기존 코드 리뷰"),"\n",s.createElement(a.ul,null,"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#21-%EC%97%98%EB%A6%AC%EB%A8%BC%ED%8A%B8-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC"},"2.1. 엘리먼트 생성 및 이벤트 처리")),"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#22-%ED%84%B0%EC%B9%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC"},"2.2. 터치 이벤트 처리"),"\n",s.createElement(a.ul,null,"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#touchstart"},s.createElement(a.code,null,"touchstart"))),"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#touchmove"},s.createElement(a.code,null,"touchmove"))),"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#touchend"},s.createElement(a.code,null,"touchend"))),"\n"),"\n"),"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#23-%EC%9B%94%EB%B3%84-%EC%9D%BC%EC%88%98%EA%B0%80-%EB%8B%A4%EB%A5%B8-%EA%B2%83-%EC%B2%98%EB%A6%AC"},"2.3. 월별 일수가 다른 것 처리")),"\n"),"\n"),"\n",s.createElement(a.li,null,s.createElement(a.a,{href:"#3-%EB%8B%A4%EC%9D%8C"},"3. 다음")),"\n")))}var p,l,c,i=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,t.ah)(),n.components);return a?s.createElement(a,n,s.createElement(o,n)):o(n)},r=e(1880),u=e(3723),d=e(6758),m=e(3904),k=e(891),g=e(5534),h=e(5777),f=e(7178),b=e(2889),E=e(5924),v=e(7466);function A(n){let{data:a,children:e}=n;const t=s.useRef(),{frontmatter:o,sameSeriesPosts:p}=a.mdx,{title:l,slug:c,date:i,tags:r,series:u,heroImage:m,heroImageAlt:k}=o;return s.useEffect((()=>{var n;const a=null===(n=t.current)||void 0===n?void 0:n.querySelectorAll(".md h1, .md h2, .md h3, .md h4, .md h5, .md h6"),e=new IntersectionObserver((()=>(0,E.Z)(t,a)),{rootMargin:"0px 0px -90% 0px",threshold:[0,1]});return null==a||a.forEach((n=>e.observe(n))),()=>e.disconnect()}),[]),s.createElement(d.Z,null,s.createElement(y,null,s.createElement("h1",null,l),s.createElement(w,null,i),s.createElement(b.Z,{tags:r})),s.createElement(f.Z,{name:u,data:p,current:c}),s.createElement(v.Z,{data:m,alt:k}),s.createElement(x,{ref:t},e),s.createElement(h.Z,null))}const y=k.ZP.div(p||(p=(0,r.Z)(["\n  margin: 60px 0 72px;\n  padding: 0 24px;\n\n  & > h1 {\n    font-size: 2.5rem;\n    word-break: keep-all;\n    margin: 0;\n  }\n"]))),w=k.ZP.div(l||(l=(0,r.Z)(["\n  margin: 16px 0;\n"]))),x=(0,k.ZP)(g.Z)(c||(c=(0,r.Z)(["\n  margin-bottom: 60px;\n"]))),B=n=>{var a,e;let{data:t}=n;const{frontmatter:{title:o,slug:p,tags:l,heroImage:c,previewContent:i},excerpt:r}=t.mdx,d=c?(0,u.c)(c):null;return s.createElement(m.Z,{title:o,description:null!=i?i:r,path:"posts/"+p,thumbnail:null==d||null===(a=d.images)||void 0===a||null===(e=a.fallback)||void 0===e?void 0:e.src,keywords:l,ogType:"article"})};function C(n){return s.createElement(A,n,s.createElement(i,n))}},5777:function(n,a,e){var t=e(7294);a.Z=function(){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{var a;const e=document.createElement("script");Object.entries({src:"https://giscus.app/client.js","data-repo":"ricale/blog","data-repo-id":"R_kgDOIvqo5g","data-category":"Giscus","data-category-id":"DIC_kwDOIvqo5s4CT7fR","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":"dark","data-lang":"ko",crossorigin:"anonymous",async:"true"}).forEach((n=>{let[a,t]=n;e.setAttribute(a,t)})),null===(a=n.current)||void 0===a||a.appendChild(e)}),[]),t.createElement("div",{id:"comments",ref:n})}},5534:function(n,a,e){var t,s,o=e(5785),p=e(1880),l=e(891);const c=l.ZP.div(t||(t=(0,p.Z)(["\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n  font-size: 16px;\n  line-height: 1.5;\n\n  > .md {\n    order: 1;\n  }\n\n  > .toc {\n    font-size: 0.875rem;\n    > ul {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n\n      ul {\n        list-style: none;\n      }\n    }\n  }\n  @media (max-width: 1099px) {\n    > .toc {\n      position: absolute;\n      top: -62px;\n      right: 8px;\n      z-index: 10;\n\n      padding: 8px;\n\n      background-color: #1a1a1a;\n\n      > p {\n        margin: 0;\n        font-size: 0.875rem;\n      }\n      > ul {\n        display: none;\n      }\n    }\n    > .toc:hover {\n      left: 8px;\n      padding: 16px;\n      > p {\n        margin: 0;\n        font-size: 1.125rem;\n      }\n      > ul {\n        display: block;\n        margin-top: 8px;\n        padding-left: 20px;\n        font-size: 1rem;\n        a {\n          color: #dddddd;\n        }\n        a > code {\n          color: #dddddd;\n        }\n        ul {\n          padding-left: 30px;\n        }\n      }\n    }\n  }\n  @media (min-width: 1100px) {\n    > .toc {\n      position: absolute;\n      top: 8px;\n      left: calc(50% + 400px);\n      height: 100%;\n      > p {\n        display: none;\n      }\n      > ul {\n        position: sticky;\n        top: 10px;\n        padding-left: 8px;\n        border-left: 1px solid #aaaaaa;\n\n        white-space: nowrap;\n\n        a {\n          color: #aaaaaa;\n        }\n        a > code {\n          color: #aaaaaa;\n        }\n        code {\n          white-space: nowrap;\n        }\n        overflow: hidden;\n        ul {\n          padding-left: 15px;\n        }\n      }\n\n      .highlight {\n        color: #ffffff;\n        text-decoration: underline;\n        code {\n          color: #ffffff;\n          text-decoration: underline;\n        }\n      }\n    }\n  }\n  > .toc {\n    ","\n\n    @media (min-width: ","px) {\n      > ul {\n        white-space: inherit;\n        code {\n          white-space: inherit;\n        }\n      }\n    }\n  }\n\n  p {\n    margin-top: 0;\n    margin-bottom: 16px;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-top: 24px;\n    margin-bottom: 16px;\n    line-height: 1.25;\n    font-weight: 600;\n\n    > a.anchor path {\n      fill: white;\n    }\n  }\n\n  h1 {\n    padding-bottom: 0.3em;\n    border-bottom: 1px solid #21262d;\n    font-size: 2.125em;\n  }\n\n  h2 {\n    padding-bottom: 0.3em;\n    border-bottom: 1px solid #21262d;\n    font-size: 1.625em;\n  }\n\n  h3 {\n    font-size: 1.5em;\n  }\n\n  h4 {\n    font-size: 1.25em;\n  }\n\n  h5 {\n    font-size: 1em;\n  }\n\n  h6 {\n    font-size: 0.9375em;\n  }\n\n  ul,\n  ol {\n    margin-bottom: 16px;\n  }\n\n  .gatsby-resp-image-figure {\n    margin: 0 0 16px;\n    .gatsby-resp-image-wrapper {\n      margin-bottom: 0;\n    }\n    .gatsby-resp-image-figcaption {\n      margin-top: 4px;\n      text-align: center;\n      font-size: 0.875rem;\n      color: #aaaaaa;\n    }\n  }\n  .gatsby-resp-image-wrapper {\n    margin-bottom: 16px;\n  }\n\n  table {\n    width: max-content;\n    max-width: 100%;\n    margin-bottom: 16px;\n    border-collapse: collapse;\n    tr {\n      border-top: 1px solid #21262d;\n    }\n    td,\n    th {\n      padding: 6px 13px;\n      border: 1px solid #30363d;\n    }\n  }\n\n  hr {\n    height: 0.25em;\n    margin: 24px 0;\n    border: 0;\n\n    background-color: #30363d;\n  }\n\n  li > ul,\n  li > ol {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  blockquote {\n    position: relative;\n\n    margin-left: 0;\n    margin-right: 0;\n    margin-bottom: 16px;\n    padding: 16px 32px;\n    border-left: 1px solid ",";\n    border-left-width: 10px;\n\n    background-color: ",";\n\n    > :first-child {\n      margin-top: 0;\n    }\n    > :last-child {\n      margin-bottom: 0;\n    }\n    > ul,\n    > ol {\n      padding-left: 20px;\n    }\n  }\n\n  blockquote:before {\n    content: '\"';\n\n    position: absolute;\n    top: -10px;\n    left: 5px;\n\n    font-size: 3em;\n    color: ",";\n  }\n  blockquote:after {\n    content: '\"';\n\n    position: absolute;\n    bottom: -30px;\n    right: 5px;\n\n    font-size: 3em;\n    color: ",";\n  }\n\n  code {\n    padding: 0.2em 0.4em;\n    border-radius: 2px;\n\n    font-size: 0.85em;\n\n    background-color: ",";\n    color: ",';\n    white-space: break-spaces;\n  }\n\n  a > code {\n    color: skyblue;\n  }\n\n  pre[class*="language-"] {\n    margin-bottom: 16px;\n\n    /* overflow-x: auto; */\n  }\n\n  pre > code {\n    padding: unset;\n    border-radius: unset;\n    background-color: unset;\n    color: unset;\n  }\n\n  img {\n    border: 1px solid #333333;\n  }\n'])),(0,o.Z)(new Array(30)).map(((n,a)=>(0,l.iv)(s||(s=(0,p.Z)(["\n          @media (min-width: ","px) {\n            width: ","px;\n          }\n        "])),1100+10*(a+1),(1100+10*a-800)/2))),1400,(n=>n.theme.colors.blockquoteBorder),(n=>n.theme.colors.blockquote),(n=>n.theme.colors.blockquoteBorder),(n=>n.theme.colors.blockquoteBorder),(n=>n.theme.colors.code),(n=>n.theme.colors.onCode));a.Z=c},7466:function(n,a,e){var t,s=e(1880),o=e(7294),p=e(3723);const l=e(891).ZP.div(t||(t=(0,s.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 16px;\n\n  & > p {\n    position: absolute;\n    right: 4px;\n    top: calc(100% - 4px);\n\n    font-size: 0.625rem;\n    color: #aaaaaa;\n  }\n"])));a.Z=function(n){let{data:a,alt:t}=n;const s=a?(0,p.c)(a):null,c=a?null!=t?t:"PostImage":"by ricale";return o.createElement(l,null,s?o.createElement(p.G,{image:s,alt:c}):o.createElement(p.S,{src:"../images/defaultThumbnail.jpeg",alt:c,__imageData:e(6955)}),o.createElement("p",null,c))}},7178:function(n,a,e){var t,s,o,p,l,c=e(1880),i=e(7294),r=e(1883),u=e(891);const d=u.ZP.div(t||(t=(0,c.Z)(["\n  margin-bottom: 16px;\n  align-items: center;\n\n  background-color: #1a1a1a;\n"]))),m=u.ZP.div(s||(s=(0,c.Z)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px;\n  cursor: pointer;\n\n  > h2 {\n    margin: 0;\n    font-size: 1rem;\n  }\n\n  > span {\n    user-select: none;\n    transform: rotate(","deg);\n  }\n"])),(n=>n.collapsed?0:180)),k=u.ZP.ol(o||(o=(0,c.Z)(["\n  margin: 0 16px;\n  padding-bottom: 16px;\n"]))),g=u.ZP.li(p||(p=(0,c.Z)(["\n  ","\n"])),(n=>n.active&&(0,u.iv)(l||(l=(0,c.Z)(["\n      & > a {\n        font-weight: bold;\n        font-style: italic;\n        text-decoration: underline;\n      }\n    "])))));a.Z=function(n){let{name:a,data:e,current:t}=n;const[s,o]=i.useState(!0);return e?i.createElement(d,null,i.createElement(m,{collapsed:s,onClick:()=>o((n=>!n))},i.createElement("h2",null,"시리즈 ",i.createElement(r.Link,{to:"/series/"+a+"/"},'"'+a+'"')),i.createElement("span",null,"▲")),!s&&i.createElement(k,null,e.map((n=>{let{frontmatter:{slug:a,title:e}}=n;return i.createElement(g,{active:a===t,key:a},i.createElement(r.Link,{to:"/posts/"+a},e))})))):null}},2889:function(n,a,e){e.d(a,{Z:function(){return d}});var t,s=e(1880),o=e(7294),p=e(891),l=e(1883);const c=(0,p.ZP)(l.Link)(t||(t=(0,s.Z)(["\n  display: inline-block;\n  padding: ","px ","px;\n  border-radius: 2px;\n\n  background-color: ",";\n  color: ",";\n  text-decoration: none;\n"])),(n=>n.theme.dimens.spacing),(n=>n.theme.dimens.gutter),(n=>n.theme.colors.tag),(n=>n.theme.colors.onTag));var i,r=function(n){let{value:a}=n;return o.createElement(c,{to:"/tags/"+a},a)};const u=p.ZP.ul(i||(i=(0,s.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: ","px;\n\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"])),(n=>n.theme.dimens.gutter));var d=function(n){let{tags:a,showCount:e,...t}=n;const s="string"==typeof a[0]?a.map((n=>({fieldValue:n,totalCount:void 0}))):a;return o.createElement(u,t,s.map((n=>o.createElement("li",{key:n.fieldValue},o.createElement(r,{value:n.fieldValue}),e&&!!n.totalCount&&o.createElement("sup",null,""+n.totalCount)))))}},5924:function(n,a){const e="highlight";a.Z=function(n,a){var t,s,o;if(!a)return;const p=document.documentElement.scrollTop+10-(null!==(t=null===(s=n.current)||void 0===s?void 0:s.offsetTop)&&void 0!==t?t:0);let l;for(let e=0;e<a.length;e++)if(a[e].offsetTop>p){var c;l=null!==(c=a[e-1])&&void 0!==c?c:null;break}if(void 0===l&&(l=a[a.length-1]),null===(o=n.current)||void 0===o||o.querySelectorAll(".highlight").forEach((n=>n.classList.remove(e))),l){var i;const a=l.getAttribute("id"),t=".toc a[href='#"+encodeURI(null!=a?a:"")+"']",s=null===(i=n.current)||void 0===i?void 0:i.querySelector(t);null==s||s.classList.add(e)}}},1151:function(n,a,e){e.d(a,{ah:function(){return o}});var t=e(7294);const s=t.createContext({});function o(n){const a=t.useContext(s);return t.useMemo((()=>"function"==typeof n?n(a):{...a,...n}),[a,n])}},6955:function(n){n.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#b8b8b8","images":{"fallback":{"src":"/blog/static/40a099e3bcfce50ec9b12c0a229336f1/530c7/defaultThumbnail.jpg","srcSet":"/blog/static/40a099e3bcfce50ec9b12c0a229336f1/9cf73/defaultThumbnail.jpg 1008w,\\n/blog/static/40a099e3bcfce50ec9b12c0a229336f1/2e657/defaultThumbnail.jpg 2016w,\\n/blog/static/40a099e3bcfce50ec9b12c0a229336f1/530c7/defaultThumbnail.jpg 4032w","sizes":"(min-width: 4032px) 4032px, 100vw"},"sources":[{"srcSet":"/blog/static/40a099e3bcfce50ec9b12c0a229336f1/6c158/defaultThumbnail.webp 1008w,\\n/blog/static/40a099e3bcfce50ec9b12c0a229336f1/4aebe/defaultThumbnail.webp 2016w,\\n/blog/static/40a099e3bcfce50ec9b12c0a229336f1/5065c/defaultThumbnail.webp 4032w","type":"image/webp","sizes":"(min-width: 4032px) 4032px, 100vw"}]},"width":4032,"height":1000}')}}]);
//# sourceMappingURL=component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-ricalelog-posts-2022-221214-ios-style-picker-1-index-mdx-bf2949cb2e65004dab70.js.map