"use strict";(self.webpackChunkricalelog=self.webpackChunkricalelog||[]).push([[4862],{9417:function(e,n,t){t.r(n),t.d(n,{Head:function(){return E},default:function(){return f}});var l=t(1151),a=t(7294);function r(e){const n=Object.assign({p:"p",h2:"h2",h3:"h3",code:"code",div:"div",a:"a",blockquote:"blockquote",br:"br",ul:"ul",li:"li",pre:"pre"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"Mac OS 를 쓰면서 마주한 React Native 빌드 에러에 대해 정리한다."),"\n",a.createElement(n.p,null,"M1 프로세서를 사용 중인데 이것이 원인 중 하나인지는 명확하지 않다."),"\n",a.createElement(n.h2,null,"iOS"),"\n",a.createElement(n.h3,null,"1. Undefined symbol: _OBJC_CLASS_$_StockNewsdmManager"),"\n",a.createElement(n.p,null,"앱 보안 및 무결성을 위해, 외부 보안 솔루션을 사용한다. 해당 솔루션을 프로덕션 환경에만 적용해놨는데, 개발 환경 컴파일 때 해당 솔루션의 파일이 포함되면서 발생된 에러다."),"\n",a.createElement(n.p,null,"컴파일에 포함되면 안 되는 파일은 Build Settings 에서 ",a.createElement(n.code,null,"excluded_source_file_names")," 항목에 추가해주면 된다. 환경별로 따로 설정도 가능하다."),"\n",a.createElement(n.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/fbae3/1.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAADhAAAA4QAGksAzQAAABkElEQVR42s2S227bMBBE9RNtIpLinZQs2pZt2fElTtyXKEXa//+d6ZJNAiQBAhTIQx8OxF3MDpZDVfvDAfvLT9z8+I226xBjxGIxEIvCMAzoU8Ks75FSj/V6XRiGJfo+69sy07Zd6VXWR0gTYGICYxxaa4QQitl8Poe1FsYYBOexG49oQ4TSqvSU1DBSQhOqaeCNRBViBykbXH3/Bu89HBFo6HR7xvF0gqZBxjkaLuBtgGxkqTNeWwzBYxU9ls5gpshws9ki9TNIIWgLh3Ge0HuH1mhoVkPV10ihw3JG16PNcr+zppBr1wgIxuh2f6nuKI/LbsTgLfj1FTpncXs+w9Jmkq5S1zVWqxV+PT1henjANE14fJzK9/5ywW6zhhEcnBYqhoy2yIc8KOi8CA7n/U0xzkLNGVIMOG5H7Gn4MG5e2dIjLLsW6q0hA8+ZPK+cw9VKUeASjcjZccpNlODfkzWS9ILMXjw+GObzK1lYxOJt/x2fGopnwb/y6Yb/jWGmennhzJcY5sLRD63oZb/C8A8Wa2gam/5ILQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="1"\n        title=""\n        src="/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/5a190/1.png"\n        srcset="/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/772e8/1.png 200w,\n/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/e17e5/1.png 400w,\n/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/5a190/1.png 800w,\n/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/c1b63/1.png 1200w,\n/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/29007/1.png 1600w,\n/blog/static/a81a7cf0574b6144d5a986bc99b1d5d9/fbae3/1.png 2260w"\n        sizes="(max-width: 800px) 100vw, 800px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",a.createElement(n.h3,null,"2. mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64e')"),"\n",a.createElement(n.p,null,a.createElement(n.a,{href:"https://github.com/react-native-seoul/react-native-kakao-login"},"@react-native-seoul/kakao-login")," 를 사용해 카카오 로그인 연동 시 발생한 에러다. 상세 내용은 아래와 같다."),"\n",a.createElement(n.blockquote,null,"\n",a.createElement(n.p,null,'[!] CocoaPods could not find compatible versions for pod "KakaoSDKUser":'),"\n",a.createElement(n.p,null,"In Podfile:",a.createElement(n.br),"\n","kakao-login (from ",a.createElement(n.code,null,"../node_modules/@react-native-seoul/kakao-login"),") was resolved to 4.0.0, which depends on",a.createElement(n.br),"\n","KakaoSDKUser (~> 2.9.0)"),"\n",a.createElement(n.p,null,"None of your spec sources contain a spec satisfying the dependency: ",a.createElement(n.code,null,"KakaoSDKUser (~> 2.9.0)"),"."),"\n",a.createElement(n.p,null,"You have either:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"out-of-date source repos which you can update with ",a.createElement(n.code,null,"pod repo update")," or with ",a.createElement(n.code,null,"pod install --repo-update"),"."),"\n",a.createElement(n.li,null,"mistyped the name or version."),"\n",a.createElement(n.li,null,"not added the source repo that hosts the Podspec to your Podfile."),"\n"),"\n"),"\n",a.createElement(n.p,null,"에러 내용을 자세히 안 봐서 좀 해멨는데 결국 repo update 를 해주면 될 일이었다."),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"$ pod install --repo-update\n")),"\n",a.createElement(n.p,null,"앗 그래도 에러가 나네?"),"\n",a.createElement(n.blockquote,null,"\n",a.createElement(n.p,null,"LoadError - dlopen(/Library/Ruby/Gems/2.6.0/gems/ffi-1.15.5/lib/ffi_c.bundle, 0x0009): tried: '/Library/Ruby/Gems/2.6.0/gems/ffi-1.15.5/lib/ffi_c.bundle' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64e')), '/usr/lib/ffi_c.bundle' (no such file) - /Library/Ruby/Gems/2.6.0/gems/ffi-1.15.5/lib/ffi_c.bundle"),"\n"),"\n",a.createElement(n.p,null,"그럼 아래처럼 해주면 되겠다. (아마도 M1 프로세서 한정)"),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"$ arch -x86_64 pod install --repo-update\n")),"\n",a.createElement(n.h2,null,"안드로이드"),"\n",a.createElement(n.h3,null,"1. Error: Unexpected token name «_890_340», expected punc «,»"),"\n",a.createElement(n.p,null,"자바스크립트는 긴 숫자의 가독성을 위해 ",a.createElement(n.a,{href:"https://v8.dev/features/numeric-separators"},"1_890_340 같은 형식의 문법을 제공"),"한다. 그런데 이게 RN 안드로이드 환경에서는 에러를 발생시킨다."),"\n",a.createElement(n.p,null,'"_"를 지우니 에러가 발생하지 않았다. 내 더미 데이터의 가독성은 떨어졌지만 어차피 더미 데이터니까, 빨리 프로젝트에서 삭제할 날이 오기를 기도하기로 하자.'))}var c,o=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(r,e)):r(e)},i=t(1880),s=t(1883),u=t(3723),d=t(1858),m=t(3904),p=t(891),b=t(5534);const g=e=>{let{data:n,children:t}=e;const{title:l,date:r,tags:c,heroImage:o,heroImageAlt:i}=n.mdx.frontmatter,m=o?(0,u.c)(o):null;return a.createElement(d.Z,null,a.createElement("h1",null,l),a.createElement(h,null,c.map((e=>a.createElement("li",{key:e},a.createElement(s.rU,{to:"/tags/"+e},e))))),a.createElement("div",null,r),!!m&&a.createElement(u.G,{image:m,alt:null!=i?i:""}),a.createElement(b.Z,null,t),a.createElement("script",{src:"https://utteranc.es/client.js",repo:"ricale/blog","issue-term":"pathname",label:"utterances",theme:"github-dark",crossOrigin:"anonymous",async:!0}))},h=p.ZP.ul(c||(c=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: ","px;\n\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  > li {\n    padding: ","px ","px\n      0px;\n    border-radius: 2px;\n\n    background-color: ",";\n    color: ",";\n\n    > a {\n      text-decoration: none;\n    }\n  }\n"])),(e=>e.theme.dimens.gutter),(e=>e.theme.dimens.thin),(e=>e.theme.dimens.gutter),(e=>e.theme.colors.tag),(e=>e.theme.colors.onTag)),E=e=>{var n,t;let{data:l}=e;const{frontmatter:{title:r,slug:c,tags:o,heroImage:i},excerpt:s}=l.mdx,d=i?(0,u.c)(i):null;return a.createElement(a.Fragment,null,a.createElement(m.Z,{title:r,description:s,path:"posts/"+c,thumbnail:null==d||null===(n=d.images)||void 0===n||null===(t=n.fallback)||void 0===t?void 0:t.src,keywords:o,ogType:"article"}))};function f(e){return a.createElement(g,e,a.createElement(o,e))}}}]);
//# sourceMappingURL=component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-ricalelog-posts-2022-220516-react-native-build-error-3-index-mdx-681429bbb5b1db8cb2a7.js.map