"use strict";(self.webpackChunkricalelog=self.webpackChunkricalelog||[]).push([[2357],{5764:function(e,n,t){t.r(n),t.d(n,{Head:function(){return w},default:function(){return H}});var a=t(1151),l=t(7294);function r(e){const n=Object.assign({div:"div",p:"p",h3:"h3",a:"a",code:"code",blockquote:"blockquote",button:"button",ul:"ul",li:"li"},(0,a.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.div,{className:"md"},l.createElement(n.p,null,"최근 React Native 의 빌드 환경을 옮기면서 마주한 에러들을 간단히 정리한다. Intel 프로세서에서 Apple M1 프로세서로 옮기면서 생긴 에러들이 아닌가 하고 추정하고 있지만, 정확하지는 않다."),l.createElement(n.h3,{id:"1-pod-install이-되지-않는다",style:{position:"relative"}},l.createElement(n.a,{href:"#1-pod-install%EC%9D%B4-%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4","aria-label":"1 pod install이 되지 않는다 permalink",className:"anchor before"},l.createElement(n.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"1. ",l.createElement(n.code,null,"pod install"),"이 되지 않는다"),l.createElement(n.p,null,"아래와 같은 에러가 발생하며 ",l.createElement(n.code,null,"pod install"),"이 진행되지 않았다."),l.createElement(n.blockquote,null,"\n",l.createElement(n.p,null,"LoadError - dlopen(/Library/Ruby/Gems/2.6.0/gems/ffi-1.15.1/lib/ffi_c.bundle, 0x0009): missing compatible arch in /Library/Ruby/Gems/2.6.0/gems/ffi-1.15.1/lib/ffi_c.bundle - /Library/Ruby/Gems/2.6.0/gems/ffi-1.15.1/lib/ffi_c.bundle"),"\n"),l.createElement(n.p,null,"아래의 명령어를 실행하면 해결할 수 있다."),l.createElement(n.div,{className:"codeblock-container"},l.createElement(n.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">sudo</span> arch <span class="token parameter variable">-x86_64</span> gem <span class="token function">install</span> ffi\narch <span class="token parameter variable">-x86_64</span> pod <span class="token function">install</span></code></pre></div>'}}),l.createElement(n.button,{className:"codeblock-copy-button"},"COPY")),l.createElement(n.p,null,"이후부터는 그냥 ",l.createElement(n.code,null,"pod install"),"을 써도 문제 없다."),l.createElement(n.p,null,"(",l.createElement(n.a,{href:"https://github.com/CocoaPods/CocoaPods/issues/10220#issuecomment-730963835"},"출처"),")"),l.createElement(n.h3,{id:"2-xcode-빌드-에러-library-not-found-for--lbase64",style:{position:"relative"}},l.createElement(n.a,{href:"#2-xcode-%EB%B9%8C%EB%93%9C-%EC%97%90%EB%9F%AC-library-not-found-for--lbase64","aria-label":"2 xcode 빌드 에러 library not found for  lbase64 permalink",className:"anchor before"},l.createElement(n.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2. Xcode 빌드 에러: Library not found for -lBase64"),l.createElement(n.p,null,"이 문제는 Xcode에서 프로젝트를 열 때 ",l.createElement(n.code,null,"*.xcodeproj")," 파일 대신 ",l.createElement(n.code,null,"*.xcworkspace")," 파일을 여니 해결되었다. 이것은 M1과는 무관한 이슈 같다."),l.createElement(n.h3,{id:"3-xcode-빌드-에러-iosmainjsbundle-no-such-file-or-directory",style:{position:"relative"}},l.createElement(n.a,{href:"#3-xcode-%EB%B9%8C%EB%93%9C-%EC%97%90%EB%9F%AC-iosmainjsbundle-no-such-file-or-directory","aria-label":"3 xcode 빌드 에러 iosmainjsbundle no such file or directory permalink",className:"anchor before"},l.createElement(n.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"3. Xcode 빌드 에러: ios/main.jsbundle: No such file or directory"),l.createElement(n.p,null,"본래라면 자동 생성/갱신되는 것으로 알고 있는 ",l.createElement(n.code,null,"ios/main.jsbundle")," 파일이 생성/갱신되지 않으면서 생긴 에러이다."),l.createElement(n.p,null,"아래 명령어를 실행해서 ",l.createElement(n.code,null,"ios/main.jsbundle")," 파일을 직접 생성하면 문제가 해결된다."),l.createElement(n.div,{className:"codeblock-container"},l.createElement(n.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">yarn</span> react-native bundle --entry-file<span class="token operator">=</span><span class="token string">\'index.js\'</span> --bundle-output<span class="token operator">=</span><span class="token string">\'./ios/main.jsbundle\'</span> <span class="token parameter variable">--dev</span><span class="token operator">=</span>false <span class="token parameter variable">--platform</span><span class="token operator">=</span><span class="token string">\'ios\'</span> --assets-dest<span class="token operator">=</span><span class="token string">\'./ios\'</span></code></pre></div>'}}),l.createElement(n.button,{className:"codeblock-copy-button"},"COPY")),l.createElement(n.p,null,"라이브러리를 추가/삭제할 때마다 항상 실행해주어야 한다는 것이다. 나중에 언젠가 React Native 에서 (자동으로 되도록) 패치를 내주지 않을까 싶다."),l.createElement(n.p,null,"(",l.createElement(n.a,{href:"https://github.com/facebook/react-native/issues/18472#issuecomment-407759054"},"출처"),")"),l.createElement(n.h3,{id:"4-xcode-빌드-에러-phasesriptexecution-failed-with-a-nonzero-exit-code",style:{position:"relative"}},l.createElement(n.a,{href:"#4-xcode-%EB%B9%8C%EB%93%9C-%EC%97%90%EB%9F%AC-phasesriptexecution-failed-with-a-nonzero-exit-code","aria-label":"4 xcode 빌드 에러 phasesriptexecution failed with a nonzero exit code permalink",className:"anchor before"},l.createElement(n.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"4. Xcode 빌드 에러: PhaseSriptExecution failed with a nonzero exit code"),l.createElement(n.p,null,'빌드 target의 [Build Phases] 탭의 [Bundle React Native code and images] 항목에서 "For install builds only" 선택 항목을 체크하면 해결된다.'),l.createElement(n.p,null,'만약 Sentry 를 연동하고 있다면, [Upload Debug Symbols to Sentry] 항목에 대해서도 "For install builds only" 선택 항목을 체크하자.')),"\n",l.createElement(n.div,{className:"toc"},l.createElement(n.p,null,"목차"),l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"#1-pod-install%EC%9D%B4-%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4"},"1. ",l.createElement(n.code,null,"pod install"),"이 되지 않는다")),"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"#2-xcode-%EB%B9%8C%EB%93%9C-%EC%97%90%EB%9F%AC-library-not-found-for--lbase64"},"2. Xcode 빌드 에러: Library not found for -lBase64")),"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"#3-xcode-%EB%B9%8C%EB%93%9C-%EC%97%90%EB%9F%AC-iosmainjsbundle-no-such-file-or-directory"},"3. Xcode 빌드 에러: ios/main.jsbundle: No such file or directory")),"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"#4-xcode-%EB%B9%8C%EB%93%9C-%EC%97%90%EB%9F%AC-phasesriptexecution-failed-with-a-nonzero-exit-code"},"4. Xcode 빌드 에러: PhaseSriptExecution failed with a nonzero exit code")),"\n")))}var o,c,s,i=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)},d=t(1880),u=t(1883),m=t(3723),p=t(6758),h=t(3904),E=t(891),f=t(6120),b=t(5777),v=t(7178),g=t(2889),x=t(5924),C=t(7466);function B(e){let{data:n,children:t}=e;const a=l.useRef(),{frontmatter:r,sameSeriesPosts:o}=n.mdx,{title:c,slug:s,date:i,tags:d,series:m,heroImage:h,heroImageAlt:E}=r;return l.useEffect((()=>{var e;const n=null===(e=a.current)||void 0===e?void 0:e.querySelectorAll(".md h1, .md h2, .md h3, .md h4, .md h5, .md h6"),t=new IntersectionObserver((()=>(0,x.Z)(a,n)),{rootMargin:"0px 0px -90% 0px",threshold:[0,1]});return null==n||n.forEach((e=>t.observe(e))),()=>t.disconnect()}),[]),l.createElement(p.Z,null,l.createElement(y,null,l.createElement("h1",null,l.createElement(u.Link,{to:"/posts/"+s},c)),l.createElement(k,null,i),l.createElement(g.Z,{tags:d})),l.createElement(v.Z,{name:m,data:o,current:s}),l.createElement(C.Z,{data:h,alt:E}),l.createElement(S,{ref:a},t),l.createElement(b.Z,null))}const y=E.ZP.div(o||(o=(0,d.Z)(["\n  margin: 60px 0 72px;\n  padding: 0 24px;\n\n  & > h1 {\n    font-size: 2.5rem;\n    word-break: keep-all;\n    margin: 0;\n\n    > a {\n      color: ",";\n    }\n  }\n"])),(e=>e.theme.colors.onBackground)),k=E.ZP.div(c||(c=(0,d.Z)(["\n  margin: 16px 0;\n"]))),S=(0,E.ZP)(f.Z)(s||(s=(0,d.Z)(["\n  margin-bottom: 60px;\n"]))),w=e=>{var n,t;let{data:a}=e;const{frontmatter:{title:r,slug:o,tags:c,heroImage:s,previewContent:i},excerpt:d}=a.mdx,u=s?(0,m.c)(s):null;return l.createElement(h.Z,{title:r,description:null!=i?i:d,path:"posts/"+o,thumbnail:null==u||null===(n=u.images)||void 0===n||null===(t=n.fallback)||void 0===t?void 0:t.src,keywords:c,ogType:"article"})};function H(e){return l.createElement(B,e,l.createElement(i,e))}}}]);
//# sourceMappingURL=component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-ricalelog-posts-2021-210823-react-native-ios-build-error-index-mdx-a682b9935a5bd7e1b59c.js.map