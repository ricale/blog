"use strict";(self.webpackChunkricalelog=self.webpackChunkricalelog||[]).push([[501],{2673:function(e,n,t){t.r(n),t.d(n,{Head:function(){return x},default:function(){return f}});var l=t(1151),a=t(7294);function r(e){const n=Object.assign({p:"p",h1:"h1",code:"code",a:"a",h2:"h2",pre:"pre",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"이전 글에서는 Gatsby 기본 기능을 구현을 위한 튜토리얼을 소개했고 태그 기능을 구현했다. 오늘은 MDX 글 안에 인라인 이미지와 테이블을 삽입해보자."),"\n",a.createElement(n.h1,null,"1. 이미지 삽입"),"\n",a.createElement(n.p,null,"정적 이미지는 ",a.createElement(n.code,null,"gatsby-plugin-image")," 플러그인과 ",a.createElement(n.code,null,"StaticImage")," 컴포넌트로 적용한다. 페이지 컴포넌트에 들어가는 동적 이미지는 ",a.createElement(n.code,null,"gatsby-transformer-sharp")," 플러그인과 ",a.createElement(n.code,null,"GatsbyImage")," 컴포넌트로 적용한다. 그렇다면 MDX 본문 안에 들어가는 이미지는 어떻게 적용할까?"),"\n",a.createElement(n.p,null,a.createElement(n.a,{href:"https://www.gatsbyjs.com/docs/how-to/images-and-media/working-with-images-in-markdown/"},"공식 문서"),"에도 잘 나와있지만 그럼에도 불구하고 적용에 살짝 애를 먹었기 때문에 기록해두도록 하겠다."),"\n",a.createElement(n.h2,null,"1.1. ",a.createElement(n.code,null,"gatsby-remark-images")," 플러그인 적용"),"\n",a.createElement(n.p,null,"일단 플러그인을 설치하자."),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-sh"},"$ npm i gatsby-remark-images\n")),"\n",a.createElement(n.p,null,"그리고 ",a.createElement(n.code,null,"gatsby-config.ts")," 를 수정하자."),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-ts"},'// gatsby-config.ts\nimport type { GatsbyConfig } from "gatsby";\n\nconst config: GatsbyConfig = {\n  // ...\n  plugins: [\n    // ...\n    // "gatsby-plugin-mdx", // <- 이렇게 문자열 형식으로 gatsby-plugin-mdx 를 쓰고 있었다면, 이 줄은 삭제하자.\n    {\n      resolve: "gatsby-plugin-mdx",\n      options: {\n        gatsbyRemarkPlugins: [\n          {\n            resolve: "gatsby-remark-images",\n            options: {\n              maxWidth: 800,\n              backgroundColor: "none",\n            },\n          },\n        ],\n      },\n    },\n    // ....\n  ],\n};\n\nexport default config;\n')),"\n",a.createElement(n.h2,null,"1.2. MDX 에 인라인 이미지 사용"),"\n",a.createElement(n.p,null,a.createElement(n.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/#mdxoptions"},"https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/#mdxoptions")),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-mdx"},"![Alt message](./screenshot.png)\n")),"\n",a.createElement(n.h1,null,"2. 인라인 테이블 문법 적용"),"\n",a.createElement(n.p,null,"Markdown 은 원래 아래와 같은 문법으로 테이블을 삽입할 수 있다."),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-mdx"},"| 호스트명     | IP 주소         |\n| ------------ | --------------- |\n| mydomain.com | 111.111.111.222 |\n| mydomain.com | 111.111.222.111 |\n| mydomain.com | 111.222.111.111 |\n| mydomain.com | 222.111.111.111 |\n")),"\n",a.createElement(n.p,null,"...있는 줄 알았다. 그런데 알고 보니 이 문법은 원래 마크다운 기본 문법이 아니라 GitHub 에서 만든 ",a.createElement(n.a,{href:"https://github.github.com/gfm/"},"GitHub Flavored Markdown"),"(GFM) 스펙에서 지원하는 문법이었다. 당연히 MDX 에서도 기본적으로 적용되지 않는다. 하지만 다행히도 Gatsby 에서 GFM 을 적용할 수 있는 방법을 제공한다."),"\n",a.createElement(n.h2,null,"2.1. ",a.createElement(n.code,null,"remark-gfm")," 플러그인 적용"),"\n",a.createElement(n.p,null,"일단 플러그인을 설치하자."),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-sh"},"$ npm i remark-gfm@^1\n")),"\n",a.createElement(n.p,null,"여기서 버전 1을 설치하는 이유는 Gatsby 가 ESM 을 아직 지원하지 않는데, remark-gfm 버전 2부터는 ESM 이기 때문이다. ",a.createElement(n.a,{href:"https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/#mdxoptions"},"공식 문서"),"에도 잘 설명되어 있다. (mdxOptions 섹션의 Please Note 부분을 보자.)"),"\n",a.createElement(n.p,null,"그리고 ",a.createElement(n.code,null,"gatsby-config.ts")," 에 플러그인을 적용하자."),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-ts"},'import type { GatsbyConfig } from "gatsby";\n\nconst config: GatsbyConfig = {\n  // ...\n  plugins: [\n    // ...\n    {\n      resolve: "gatsby-plugin-mdx",\n      options: {\n        mdxOptions: {\n          remarkPlugins: [require("remark-gfm")],\n        },\n        // ...\n      },\n    },\n    // ...\n  ],\n};\n\nexport default config;\n')),"\n",a.createElement(n.h2,null,"2.2. MDX 에 테이블 사용"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-mdx"},"| 호스트명     | IP 주소         |\n| ------------ | --------------- |\n| mydomain.com | 111.111.111.222 |\n| mydomain.com | 111.111.222.111 |\n| mydomain.com | 111.222.111.111 |\n| mydomain.com | 222.111.111.111 |\n")),"\n",a.createElement(n.table,null,a.createElement(n.thead,null,a.createElement(n.tr,null,a.createElement(n.th,null,"호스트명"),a.createElement(n.th,null,"IP 주소"))),a.createElement(n.tbody,null,a.createElement(n.tr,null,a.createElement(n.td,null,"mydomain.com"),a.createElement(n.td,null,"111.111.111.222")),a.createElement(n.tr,null,a.createElement(n.td,null,"mydomain.com"),a.createElement(n.td,null,"111.111.222.111")),a.createElement(n.tr,null,a.createElement(n.td,null,"mydomain.com"),a.createElement(n.td,null,"111.222.111.111")),a.createElement(n.tr,null,a.createElement(n.td,null,"mydomain.com"),a.createElement(n.td,null,"222.111.111.111")))))}var m,o,c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(r,e)):r(e)},i=t(1880),s=t(1883),d=t(3723),g=t(1858),u=t(3904),p=t(891);const h=e=>{let{data:n,children:t}=e;const{title:l,date:r,tags:m,heroImage:o,heroImageAlt:c}=n.mdx.frontmatter,i=o?(0,d.c)(o):null;return a.createElement(g.Z,null,a.createElement("h1",null,l),a.createElement(b,null,m.map((e=>a.createElement("li",{key:e},a.createElement(s.rU,{to:"/tags/"+e},e))))),a.createElement("div",null,r),!!i&&a.createElement(d.G,{image:i,alt:null!=c?c:""}),a.createElement(E,null,t))},b=p.ZP.ul(m||(m=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: ","px;\n\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  > li {\n    padding: ","px ","px\n      0px;\n    border-radius: 2px;\n\n    background-color: ",";\n    color: ",";\n\n    > a {\n      text-decoration: none;\n    }\n  }\n"])),(e=>e.theme.dimens.gutter),(e=>e.theme.dimens.thin),(e=>e.theme.dimens.gutter),(e=>e.theme.colors.tag),(e=>e.theme.colors.onTag)),E=p.ZP.div(o||(o=(0,i.Z)(["\n  word-break: keep-all;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p {\n    padding: 0;\n  }\n\n  h1 {\n    margin-top: ","px;\n    margin-bottom: ","px;\n  }\n\n  h2 {\n    margin-top: ","px;\n    margin-bottom: ","px;\n  }\n\n  h3 {\n    margin-top: ","px;\n    margin-bottom: ","px;\n  }\n\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  ul,\n  ol,\n  table {\n    margin-top: ","px;\n    margin-bottom: ","px;\n  }\n\n  li > ul,\n  li > ol {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  blockquote {\n    position: relative;\n\n    margin-left: 0;\n    margin-right: 0;\n    padding: 16px 30px;\n    border-left: 1px solid ",";\n    border-left-width: 10px;\n\n    background-color: ",";\n\n    > :first-child {\n      margin-top: 0;\n    }\n    > :last-child {\n      margin-bottom: 0;\n    }\n    > ul,\n    > ol {\n      padding-left: 20px;\n    }\n  }\n\n  blockquote:before {\n    content: '\"';\n\n    position: absolute;\n    top: 15px;\n    left: 5px;\n\n    font-size: 3rem;\n    color: ",";\n  }\n  blockquote:after {\n    content: '\"';\n\n    position: absolute;\n    bottom: -15px;\n    right: 10px;\n\n    font-size: 3rem;\n    color: ",";\n  }\n\n  code {\n    padding: ","px\n      ","px ","px;\n    border-radius: 2px;\n\n    font-size: 0.875em;\n\n    background-color: ",";\n    color: ",";\n  }\n\n  pre {\n    margin: ","px 0;\n    padding: ","px;\n\n    background-color: ",";\n    color: ",";\n    line-height: 140%;\n    overflow-x: auto;\n  }\n\n  pre > code {\n    padding: unset;\n    border-radius: unset;\n    background-color: unset;\n    color: unset;\n  }\n\n  table {\n    border-collapse: collapse;\n    td,\n    th {\n      border: 1px solid ",";\n      padding: ","px\n        ","px;\n    }\n  }\n"])),(e=>3.5*e.theme.dimens.margin),(e=>e.theme.dimens.margin),(e=>3*e.theme.dimens.margin),(e=>e.theme.dimens.margin),(e=>2.5*e.theme.dimens.margin),(e=>e.theme.dimens.margin),(e=>e.theme.dimens.margin),(e=>e.theme.dimens.margin),(e=>e.theme.colors.blockquoteBorder),(e=>e.theme.colors.blockquote),(e=>e.theme.colors.blockquoteBorder),(e=>e.theme.colors.blockquoteBorder),(e=>e.theme.dimens.spacing),(e=>e.theme.dimens.spacing),(e=>e.theme.dimens.thin),(e=>e.theme.colors.code),(e=>e.theme.colors.onCode),(e=>e.theme.dimens.margin),(e=>e.theme.dimens.margin),(e=>e.theme.colors.codeblock),(e=>e.theme.colors.onCodeblock),(e=>e.theme.colors.tableBorder),(e=>e.theme.dimens.spacing),(e=>e.theme.dimens.gutter)),x=e=>{let{data:n}=e;return a.createElement(u.Z,{title:n.mdx.frontmatter.title})};function f(e){return a.createElement(h,e,a.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-ricalelog-posts-000000-gatsby-2-index-mdx-4923452597bddc646609.js.map