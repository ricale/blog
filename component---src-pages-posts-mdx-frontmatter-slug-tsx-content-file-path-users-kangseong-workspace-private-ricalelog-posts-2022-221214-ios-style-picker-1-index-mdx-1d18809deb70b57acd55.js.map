{"version":3,"file":"component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-ricalelog-posts-2022-221214-ios-style-picker-1-index-mdx-1d18809deb70b57acd55.js","mappings":"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","sources":["webpack://ricalelog/./posts/2022/221214-ios-style-picker-1/index.mdx","webpack://ricalelog/./src/pages/posts/{mdx.frontmatter__slug}.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    p: \"p\",\n    a: \"a\",\n    div: \"div\",\n    strong: \"strong\",\n    em: \"em\",\n    code: \"code\",\n    ol: \"ol\",\n    li: \"li\",\n    h3: \"h3\",\n    pre: \"pre\",\n    ul: \"ul\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h2, null, \"1. 발단\"), \"\\n\", React.createElement(_components.p, null, \"회사의 React 기반 웹앱 프로젝트에서, iOS 스타일의 Date Picker UI 를 사용해야 하는 일이 생겼다. 직접 구현하기에는 기능에 비해 주어진 시간이 많지 않았으므로 오픈소스 라이브러리를 찾아 설치하려고 했다. 그런데 의외로 원하는 스타일의 Date Picker 를 찾기 어려웠다. iOS 스타일의 스크롤되는 형식보다는 안드로이드 스타일의 달력 형식이 주류였다.\"), \"\\n\", React.createElement(_components.p, null, \"어찌저찌 찾기는 찾았다. 다만 라이브러리는 아니고 \", React.createElement(_components.a, {\n    href: \"https://gist.github.com/wjpeters/876a8fe4040a2bb4b4eb28d2270620a5\"\n  }, \"Gist 에 올라와있는\"), \", 순수 자바스크립트로 작성된 코드 조각이었다. (아래 이미지는 CodePen 에 올라와있는 해당 코드 조각 \", React.createElement(_components.a, {\n    href: \"https://codepen.io/gnauhca/pen/JrdpZZ\"\n  }, \"실행 예제\"), \"다.)\"), \"\\n\", React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/9c1e6/1.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdElEQVR42sWQSwrAIAxE4wcVP4huvP9JUxQqNgq1UHAhYQZ9ZgYAAH8+s6mUQinlw6Oac45CiEPAlBI657pmjGEIoc3xU2vtO7A+KqVgjLHruk3Ouc0baoxB7/3ehlrrKSKNV+H0zifgqsNt4BhtrGJVD/UuFFuiB2xulAMAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"1\\\"\\n        title=\\\"\\\"\\n        src=\\\"/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/5a190/1.png\\\"\\n        srcset=\\\"/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/772e8/1.png 200w,\\n/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/e17e5/1.png 400w,\\n/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/5a190/1.png 800w,\\n/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/c1b63/1.png 1200w,\\n/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/29007/1.png 1600w,\\n/blog/static/0df1dd1ab3ffe2bc5c337bf023278699/9c1e6/1.png 1734w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"일단 확인해 본 예제가 마음에 들었기 때문에, 회사 프로젝트에서는 스타일을 좀 수정하고 React 컴포넌트로 래핑만 해서 사용했다. 잘 적용하고 돌아보니 이 코드를 React 컴포넌트로 만들어서 패키지로 만들고 싶은 욕심이 생겼다. (라이센스를 확인해보니 다행히 자유로운 사용이 가능했다.)\"), \"\\n\", React.createElement(_components.p, null, \"그래서 \", React.createElement(_components.strong, null, React.createElement(_components.em, null, \"iOS 스타일의 Date Picker UI 를 라이브러리로 구현\")), \"해보기로 하겠다. 물론 그 이전에 기존 코드에 대한 이해를 먼저 해야겠다.\"), \"\\n\", React.createElement(_components.h2, null, \"2. 기존 코드 리뷰\"), \"\\n\", React.createElement(_components.p, null, \"기존 코드는 \", React.createElement(_components.code, null, \"IosSelector\"), \" 라는 클래스를 중심으로 이루어져있다.\"), \"\\n\", React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/blog/static/b81b487eb7f5d33c6741d04609fb95d3/9c1e6/2.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAt0lEQVR42p2S2RKDIAxFIQmLoLX6oP3/H70NLY7WzpS2D3cCgZwsYIwx2GRVVzJY2eCmynY/+0H7JirAqc3BIzqB17WvZ07kJZCIwMxtYLHiPYgFdAS6P4GkmqYJOWew+kJJYi2GYYBVu931mjSl1AayBi3Liss4PoFkYbWaeZ4fVW3QGCP6vm8Dy8P4EMBSW65jOLdX4HKa6xuw02BRmxQYvniUJtDVKjsmRG01lsDtSx3mZz747qr7oxHfkRNpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"2\\\"\\n        title=\\\"\\\"\\n        src=\\\"/blog/static/b81b487eb7f5d33c6741d04609fb95d3/5a190/2.png\\\"\\n        srcset=\\\"/blog/static/b81b487eb7f5d33c6741d04609fb95d3/772e8/2.png 200w,\\n/blog/static/b81b487eb7f5d33c6741d04609fb95d3/e17e5/2.png 400w,\\n/blog/static/b81b487eb7f5d33c6741d04609fb95d3/5a190/2.png 800w,\\n/blog/static/b81b487eb7f5d33c6741d04609fb95d3/c1b63/2.png 1200w,\\n/blog/static/b81b487eb7f5d33c6741d04609fb95d3/29007/2.png 1600w,\\n/blog/static/b81b487eb7f5d33c6741d04609fb95d3/9c1e6/2.png 1734w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"해당 클래스만 450라인이 조금 넘는 정도고, 초기화를 돕는 나머지 유틸 함수들이 100라인 미만으로 존재한다.\"), \"\\n\", React.createElement(_components.p, null, \"(아래 이미지는 \", React.createElement(_components.code, null, \"IosSelector\"), \" 클래스 내부 메서드들의 콜 다이어그램이다.)\"), \"\\n\", React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 761px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/blog/static/6f7ac17e071d3e70ca6969244d6e7448/8c857/3.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 96%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVR42p2UiY7CMAxE8//fWFGuAuUohXKVHkbPklfesGy7a8lK0zjjydhJuN1ucj6fpaoq9dPpJPzbbrdyvV6lrmvB+r5XH7LA5vv9riBFUegIEP54PKRpGum67gtsCDRYZpzNh8NBQWezmSRJIsvlUhN6pr8C+gnBHBsJ1uu17HY72Ww2KsPz+fw7QwwwjgvgfD6XPM//zxBjM4CLxUKyLFO/XC7jGSI8wYwmvn2bM2/bdhwgbNDqeDx+a5vJZKJFmU6nOh99ZIJjR0daiIqTiKR0gAf0o/fgK4yVZakA+/1ejxo3duxvDNGGBRthAhDFscYeMvaiNWNAN9hwRKoJIwM00E9OLJKgOxjsD0xwjkqQZYxvkHVA7PSpXQakCqAywY0V/9I01UozEmh96A2GrPk6KCAvi1G3Cq9WK/3PyJoBeqYwi6sf4koRxNFJRALmpiVsAEcekrIWt0+I3zp7uowdGhk47LkEFIB109zvD37y6c3zR/RF/On2vDH8dAMwmMIO1tyiOBZ7AYLuzoSLVuSJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"3\\\"\\n        title=\\\"\\\"\\n        src=\\\"/blog/static/6f7ac17e071d3e70ca6969244d6e7448/8c857/3.png\\\"\\n        srcset=\\\"/blog/static/6f7ac17e071d3e70ca6969244d6e7448/772e8/3.png 200w,\\n/blog/static/6f7ac17e071d3e70ca6969244d6e7448/e17e5/3.png 400w,\\n/blog/static/6f7ac17e071d3e70ca6969244d6e7448/8c857/3.png 761w\\\"\\n        sizes=\\\"(max-width: 761px) 100vw, 761px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"클래스 내에서 눈여겨볼만한 로직은 아래 세 가지 정도가 있다.\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"엘리먼트 생성 및 이벤트 처리\"), \"\\n\", React.createElement(_components.li, null, \"터치 이벤트 처리\"), \"\\n\", React.createElement(_components.li, null, \"월별 일수가 다른 것 처리\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"하나씩 천천히 살펴보자.\"), \"\\n\", React.createElement(_components.h3, null, \"2.1. 엘리먼트 생성 및 이벤트 처리\"), \"\\n\", React.createElement(_components.p, null, \"엘리먼트는 DOM 에 직접 접근해서 \", React.createElement(_components.code, null, \"innerHTML\"), \" 을 사용해 생성한다.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"this.elems.el.innerHTML = template\\n  .replace(\\\"{{circleListHTML}}\\\", circleListHTML)\\n  .replace(\\\"{{highListHTML}}\\\", highListHTML);\\n\")), \"\\n\", React.createElement(_components.p, null, \"여기서 \", React.createElement(_components.code, null, \"template\"), \" 은 그냥 엘리먼트를 문자열로 하드코딩한 값이다.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"let template = `\\n  <div class=\\\"select-wrap\\\">\\n    <ul class=\\\"select-options\\\" style=\\\"transform: translate3d(0, 0, ${-this\\n      .radius}px) rotateX(0deg);\\\">\\n      {{circleListHTML}}\\n    </ul>\\n    <div class=\\\"highlight\\\">\\n      <ul class=\\\"highlight-list\\\">\\n        {{highListHTML}}\\n      </ul>\\n    </div>\\n  </div>\\n`;\\n\")), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"circleListHTML\"), \"은 사용자가 스크롤하면 돌아갈 아이템들이다. 여기서 스크롤은 실제로 엘리먼트들이 스크롤되는 것이 아니라 \", React.createElement(_components.code, null, \"transfrom: rotateX translate3d()\"), \"를 활용한 애니메이션이다.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"for (let i = 0; i < source.length; i++) {\\n  circleListHTML += `<li class=\\\"select-option\\\"\\n    style=\\\"\\n      top: ${this.itemHeight * -0.5}px;\\n      height: ${this.itemHeight}px;\\n      line-height: ${this.itemHeight}px;\\n      transform: rotateX(${-this.itemAngle * i}deg) translate3d(0, 0, ${\\n    this.radius\\n  }px);\\n    \\\"\\n    data-index=\\\"${i}\\\"\\n    >${source[i].text}</li>`;\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"이 \", React.createElement(_components.code, null, \"transform\"), \" 은 추후에 애니메이션이 필요할 때마다 아래처럼 값이 변경된다.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"this.elems.circleList.style.transform =\\n  `translate3d(0, 0, ${-this.radius}px) ` +\\n  `rotateX(${this.itemAngle * scroll}deg)`;\\n\")), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"highListHTML\"), \"은 \", React.createElement(_components.code, null, \"circleListHTML\"), \"과 거의 동일하다. 다만 선택된 값을 표시하는 부분만 보이도록 처리되어, 선택된 값을 강조하는 용도로 사용된다.\"), \"\\n\", React.createElement(_components.h3, null, \"2.2. 터치 이벤트 처리\"), \"\\n\", React.createElement(_components.p, null, \"평소에는 \", React.createElement(_components.code, null, \"touchstart\"), \"와 \", React.createElement(_components.code, null, \"touchend\"), \" 이벤트 리스너만 설정되어 있다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.code, null, \"touchstart\"), \" 이벤트가 발생하면 \", React.createElement(_components.code, null, \"touchmove\"), \" 리스너를 붙였다가,\", \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"this.elems.el.addEventListener(\\\"touchmove\\\", this.events.touchmove);\\n\")), \"\\n\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.code, null, \"touchend\"), \" 이벤트 발생 시 \", React.createElement(_components.code, null, \"touchmove\"), \" 리스너를 떼어낸다.\", \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"this.elems.el.removeEventListener(\\\"touchmove\\\", this.events.touchmove);\\n\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, React.createElement(_components.code, null, \"touchstart\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"\\\"이벤트 시작 지점 좌표\\\"를 저장해둔다.\"), \"\\n\", React.createElement(_components.li, null, \"혹시 애니메이션 중이었다면 중지시킨다.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, React.createElement(_components.code, null, \"touchmove\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.code, null, \"touchstart\"), \" 시점에 저장해놓은 \\\"이벤트 시작 지점 좌표\\\"와 \\\"현재 이벤트 발생 지점 좌표\\\"를 비교해 적절한 아이템까지 엘리먼트를 스크롤 시킨다.\"), \"\\n\", React.createElement(_components.li, null, \"그리고 \", React.createElement(_components.code, null, \"touchend\"), \" 에서 사용하기 위해, 이벤트 발생 시점 타임스탬프와 좌표를 따로 저장해둔다. (최대 다섯 개)\", \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"let eventY = e.clientY || e.touches[0].clientY;\\ntouchData.yArr.push([eventY, new Date().getTime()]);\\nif (touchData.length > 5) {\\n  touchData.unshift();\\n}\\n\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, React.createElement(_components.code, null, \"touchend\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"마지막 \", React.createElement(_components.code, null, \"touchmove\"), \" 이벤트 두 건에 대한 정보 (타임스탬프, 좌표)로 반동 스크롤이 어디까지 가야할지 계산한다.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"let startTime = touchData.yArr[touchData.yArr.length - 2][1];\\nlet endTime = touchData.yArr[touchData.yArr.length - 1][1];\\nlet startY = touchData.yArr[touchData.yArr.length - 2][0];\\nlet endY = touchData.yArr[touchData.yArr.length - 1][0];\\n\\nv = (((startY - endY) / this.itemHeight) * 1000) / (endTime - startTime);\\nlet sign = v > 0 ? 1 : -1;\\n\\nv = Math.abs(v) > 30 ? 30 * sign : v;\\n\")), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"애니메이션을 한 번에 적용하는 게 아니라 작게 나눠서 \", React.createElement(_components.code, null, \"requestAnimationFrame\"), \" 을 반복해서 호출하는 방식으로 적용한다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.code, null, \"touchstart\"), \" 이벤트가 치고 들어오면 언제든 \", React.createElement(_components.code, null, \"cancelAnimationFrame\"), \" 을 써서 중지할 수 있다\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"return new Promise((resolve, reject) => {\\n  this.moving = true;\\n  const tick = () => {\\n    pass = new Date().getTime() / 1000 - start;\\n\\n    if (pass < t) {\\n      this.scroll = this._moveTo(\\n        initScroll + easing[easingName](pass / t) * totalScrollLen\\n      );\\n      this.moveT = requestAnimationFrame(tick);\\n    } else {\\n      resolve();\\n      this._stop();\\n      this.scroll = this._moveTo(initScroll + totalScrollLen);\\n    }\\n  };\\n  tick();\\n});\\n\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"2.3. 월별 일수가 다른 것 처리\"), \"\\n\", React.createElement(_components.p, null, \"월을 표시하는 \", React.createElement(_components.code, null, \"IosSelector\"), \" 의 \", React.createElement(_components.code, null, \"onChange\"), \" 이벤트가 발생할 때마다 해당 년월에 선택하는한 일 범위를 계산해, 일을 표시하는 \", React.createElement(_components.code, null, \"IosSelector\"), \" 에게 전달한다.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"onChange: (selected) => {\\n  currentMonth = selected.value;\\n\\n  daySource = getDays(currentYear, currentMonth);\\n  // `daySelector`: 일을 표시하는 `IosSelector` 인스턴스\\n  daySelector.updateSource(daySource);\\n};\\n\")), \"\\n\", React.createElement(_components.h2, null, \"3. 다음\"), \"\\n\", React.createElement(_components.p, null, \"이제 다음으로 해야할 일은 아래와 같다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"취향에 맞는 리팩토링\"), \"\\n\", React.createElement(_components.li, null, \"vite 로 빌드 및 배포 환경 구성\"), \"\\n\", React.createElement(_components.li, null, \"storybook 으로 데모 페이지 작성 및 배포\"), \"\\n\", React.createElement(_components.li, null, \"npm 에 패키지 배포\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"이 글에서 모두 이야기하기에는 글이 길어질 것 같으므로, 나눠서 작성하도록 하겠다.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/Users/kangseong/workspace/private/ricalelog/posts/2022/221214-ios-style-picker-1/index.mdx\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nvar _templateObject, _templateObject2, _templateObject3;\nimport * as React from \"react\";\nimport {Link} from \"gatsby\";\nimport {GatsbyImage, getImage} from \"gatsby-plugin-image\";\nimport Layout from \"../../components/Layout\";\nimport Seo from \"../../components/Seo\";\nimport styled from \"../../themes\";\nimport MdxContent from \"../../components/MdxContent\";\nimport Comments from \"../../components/Comments\";\nconst PostDetailPage = _ref => {\n  let {data, children} = _ref;\n  const {title, date, tags, heroImage, heroImageAlt} = data.mdx.frontmatter;\n  const image = heroImage ? getImage(heroImage) : null;\n  return React.createElement(Layout, null, React.createElement(Header, null, React.createElement(\"h1\", null, title), React.createElement(WrittenDate, null, date), React.createElement(Tags, null, tags.map(tag => React.createElement(\"li\", {\n    key: tag\n  }, React.createElement(Link, {\n    to: \"/tags/\" + tag\n  }, tag))))), !!image && React.createElement(GatsbyImage, {\n    image: image,\n    alt: heroImageAlt !== null && heroImageAlt !== void 0 ? heroImageAlt : \"\"\n  }), React.createElement(MdxContent, null, children), React.createElement(Comments, null));\n};\nconst Header = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  margin: 60px 0 72px;\\n  padding: 0 24px;\\n\\n  & > h1 {\\n    font-size: 2.5rem;\\n    word-break: keep-all;\\n    margin: 0;\\n  }\\n\"])));\nconst WrittenDate = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  margin: 16px 0;\\n\"])));\nconst Tags = styled.ul(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  gap: \", \"px;\\n\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n\\n  > li {\\n    padding: \", \"px\\n      \", \"px;\\n    border-radius: 2px;\\n\\n    background-color: \", \";\\n    color: \", \";\\n\\n    > a {\\n      text-decoration: none;\\n    }\\n  }\\n\"])), p => p.theme.dimens.gutter, p => p.theme.dimens.spacing, p => p.theme.dimens.gutter, p => p.theme.colors.tag, p => p.theme.colors.onTag);\nconst query = \"3533977744\";\nexport const Head = _ref2 => {\n  var _image$images, _image$images$fallbac;\n  let {data} = _ref2;\n  const {frontmatter: {title, slug, tags, heroImage}, excerpt} = data.mdx;\n  const image = heroImage ? getImage(heroImage) : null;\n  return React.createElement(Seo, {\n    title: title,\n    description: excerpt,\n    path: \"posts/\" + slug,\n    thumbnail: image === null || image === void 0 ? void 0 : (_image$images = image.images) === null || _image$images === void 0 ? void 0 : (_image$images$fallbac = _image$images.fallback) === null || _image$images$fallbac === void 0 ? void 0 : _image$images$fallbac.src,\n    keywords: tags,\n    ogType: \"article\"\n  });\n};\nPostDetailPage\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostDetailPage, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","h2","p","a","div","strong","em","code","ol","li","h3","pre","ul","h4","_provideComponents","components","React","href","dangerouslySetInnerHTML","__html","className","_templateObject","_templateObject2","_templateObject3","wrapper","MDXLayout","PostDetailPage","_ref","data","children","title","date","tags","heroImage","heroImageAlt","mdx","frontmatter","image","getImage","Layout","Header","WrittenDate","Tags","map","tag","key","Link","to","GatsbyImage","alt","MdxContent","Comments","styled","_taggedTemplateLiteralLoose","theme","dimens","gutter","spacing","colors","onTag","Head","_ref2","_image$images","_image$images$fallbac","slug","excerpt","Seo","description","path","thumbnail","images","fallback","src","keywords","ogType","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}