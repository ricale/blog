"use strict";(self.webpackChunkricalelog=self.webpackChunkricalelog||[]).push([[4354],{1850:function(n,a,s){s.r(a),s.d(a,{Head:function(){return N},default:function(){return V}});var e=s(1151),t=s(7294);function c(n){const a=Object.assign({div:"div",h1:"h1",a:"a",p:"p",blockquote:"blockquote",h2:"h2",button:"button",code:"code",h3:"h3",em:"em",ul:"ul",li:"li"},(0,e.ah)(),n.components);return t.createElement(t.Fragment,null,t.createElement(a.div,{className:"md"},t.createElement(a.h1,{id:"1-개요",style:{position:"relative"}},t.createElement(a.a,{href:"#1-%EA%B0%9C%EC%9A%94","aria-label":"1 개요 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"1. 개요"),t.createElement(a.p,null,"에어브릿지Airbridge 는 모바일 앱의 마케팅 성과 분석을 위한 솔루션이다. 앱 안에 SDK 를 삽입하면 사용자가 어떤 광고를 통해 앱에 들어왔으며 어떤 액션까지 (요컨대 설치만 했는지, 가입까지 했는지, 결제까지 했는지) 도달했는지를 추적해준다. 마케터는 분석된 결과를 통해 어떤 광고의 효과가 더 좋은지 알 수 있으며 다음 광고 전략 수립에 참고할 수 있다."),t.createElement(a.p,null,"사용을 위해서는 에어브릿지가 제공하는 SDK 를 앱 내에 설치해줘야 한다. 문제는 우리 회사의 서비스가 React Native 하이브리드 앱(앱은 껍데기일 뿐 앱 내에 있는 웹뷰에서 동작하는 웹앱이 본체인 앱)인데 반해, 하이브리드 앱 설정을 위한 공식 문서는 안드로이드, iOS 만 있다는 것이었다."),t.createElement(a.p,null,"관련해서 에어브릿지 측에 문의하면 아래와 같은 취지의 답변을 받을 수 있다. (정확한 워딩은 더 친절했지만, 그대로 옮기지는 않겠다.)"),t.createElement(a.blockquote,null,"\n",t.createElement(a.p,null,"React Native 는 웹뷰와 관련해서 고객사마다 사용 방법이 다양해서 통일된 방법을 제공하지 못하고 있다. 그러니 안드로이드/iOS 의 하이브리드 앱 설정 문서를 참고해서 설정하시길 바란다."),"\n"),t.createElement(a.p,null,"즉, React Native SDK 와 웹뷰 내 웹앱의 웹 SDK 의 연결을 문서 없이 직접 해줘야 한다는 소리다. 그것도 안드로이드 자바 코드와 iOS Objective-C 코드를 직접 건드려서 말이다. 문제는 나는 그 둘에 대해 거의 모른다는 것이고, 사내의 다른 개발자들도 마찬가지라는 것이다."),t.createElement(a.p,null,"하지만 어째겠는가. 어떻게든 해내야 하지 않겠는가. 결국 꽤 많은 검색과 삽질을 했고, 겨우 연동에 성공했다. 이 글은 나같이 안드로이드나 iOS 개발을 전혀 모르는 사람을 위해, 그리고 혹시 같은 일을 반복할지도 모르는 미래의 자신을 위해 작성한다."),t.createElement(a.h1,{id:"2-적용",style:{position:"relative"}},t.createElement(a.a,{href:"#2-%EC%A0%81%EC%9A%A9","aria-label":"2 적용 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2. 적용"),t.createElement(a.h2,{id:"21-에어브릿지-react-native-sdk-적용",style:{position:"relative"}},t.createElement(a.a,{href:"#21-%EC%97%90%EC%96%B4%EB%B8%8C%EB%A6%BF%EC%A7%80-react-native-sdk-%EC%A0%81%EC%9A%A9","aria-label":"21 에어브릿지 react native sdk 적용 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.1. 에어브릿지 React Native SDK 적용"),t.createElement(a.p,null,"React Native SDK 적용은 ",t.createElement(a.a,{href:"https://developers.airbridge.io/docs/react-native-sdk"},"공식 문서에도 잘 정리되어있다"),". 기록을 위해 여기에도 간단히 정리해보자."),t.createElement(a.p,null,"먼저 설치를 하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">yarn</span> <span class="token function">add</span> airbridge-react-native-sdk</code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"iOS 라면 ",t.createElement(a.code,null,"pod install")," 을 잊지 말자"),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token builtin class-name">cd</span> ios\npod <span class="token function">install</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"그리고 안드로이드는 ",t.createElement(a.code,null,"MainApplication.java")," 에 아래처럼 추가해주자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"MainApplication.java"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// ...</span>\n\n<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">co<span class="token punctuation">.</span>ab180<span class="token punctuation">.</span>airbridge<span class="token punctuation">.</span>reactnative<span class="token punctuation">.</span></span><span class="token class-name">AirbridgeRN</span></span><span class="token punctuation">;</span></span>\n<span class="token comment">// ...</span>\n\n<span class="token annotation punctuation">@Override</span>\n<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="gatsby-highlight-code-line">    <span class="token class-name">AirbridgeRN</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"APP_NAME"</span><span class="token punctuation">,</span> <span class="token string">"APP_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token comment">// ...</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,t.createElement(a.code,null,'"APP_NAME"'),"과 ",t.createElement(a.code,null,'"APP_TOKEN"'),"은 에어브릿지 대시보드에서 확인할 수 있다."),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/blog/static/02ecdf1b9daecf5684f163948cd34fed/ea66f/screenshot-01.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 66%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAI74AACO+AH8Q0FAAAABsUlEQVR42o2SS0vdQBzF84VctlLvUkHrsgV115Ur937KSqHtrS9UhILovZpJ5v3InJ6JN6J4b+jAnwkh+c15TLWxs48f03Mo56GMg/ceKSXknN9N13UIIXAiQoxw/NY6xz1Aa4vId9XGzh6+/zxFQ5i0Dg+zGVopkQF0BcJJBJX9f1b1aXsPJ7/OILRDowzkfAZRoI9zNPPnMY2Aly2S0eisQe5Sf+AyF9Xk8wFOqFAoDU2FWggE/phoJVrbT3kepuPQ+2pgyXB6eQMTEiRti6aFJFxpA1PyCbHPqNgeVm9+RQTVhMA/BNqYWIpFS4WaQGsMHNV5luWLWgb+Rs1C4Tvgx62vVHhNYAdJVe39HRTz00+PsHUNX/ITNSKbx0JZHimo2t0/xNnV7Yvl0rChUkOFlpk6Koy0TN8sI4/a7YGnhD21Ci1h2noI0aCuxQvMlztX7iYPGJSNKvx2dIzL27/QPkIRIpVC08q+GM0ILKGOigPLyotiRoFrk938+/yqlJILcHTl5Zbz4oSyV+t9KTe5ZDgAl92v/AqWl571DK0+bH5J04vrNwpXAldnOLyI/wCzweGb/YVbUwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="screenshot 01"\n        title=""\n        src="/blog/static/02ecdf1b9daecf5684f163948cd34fed/5a190/screenshot-01.png"\n        srcset="/blog/static/02ecdf1b9daecf5684f163948cd34fed/772e8/screenshot-01.png 200w,\n/blog/static/02ecdf1b9daecf5684f163948cd34fed/e17e5/screenshot-01.png 400w,\n/blog/static/02ecdf1b9daecf5684f163948cd34fed/5a190/screenshot-01.png 800w,\n/blog/static/02ecdf1b9daecf5684f163948cd34fed/c1b63/screenshot-01.png 1200w,\n/blog/static/02ecdf1b9daecf5684f163948cd34fed/29007/screenshot-01.png 1600w,\n/blog/static/02ecdf1b9daecf5684f163948cd34fed/ea66f/screenshot-01.png 2828w"\n        sizes="(max-width: 800px) 100vw, 800px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),t.createElement(a.p,null,"iOS 는 아래처럼 ",t.createElement(a.code,null,"AppDelegate.m")," 에 추가해주자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"AppDelegate.m"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token comment">// ...</span>\n\n<span class="gatsby-highlight-code-line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>AirbridgeRN<span class="token operator">/</span>AirbridgeRN<span class="token punctuation">.</span>h<span class="token operator">></span></span></span></span>\n<span class="token comment">//...</span>\n\n<span class="token operator">-</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>application<span class="token punctuation">:</span><span class="token punctuation">(</span>UIApplication <span class="token operator">*</span><span class="token punctuation">)</span>application didFinishLaunchingWithOptions<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>launchOptions <span class="token punctuation">{</span>\n<span class="gatsby-highlight-code-line">    <span class="token punctuation">[</span>AirbridgeRN getInstance<span class="token punctuation">:</span><span class="token string">@"APP_TOKEN"</span> appName<span class="token punctuation">:</span><span class="token string">@"APP_NAME"</span> withLaunchOptions<span class="token punctuation">:</span>launchOptions<span class="token punctuation">]</span><span class="token punctuation">;</span></span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"이렇게하면 아래처럼 안드로이드/iOS 의 앱 설치 및 실행 이벤트는 확인할 수 있다."),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/blog/static/e3f706f417c31db18e0848a4fcb702be/65781/screenshot-02.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAI74AACO+AH8Q0FAAAAB5UlEQVR42o2T3YrUQBCF8zzeiSIrCqIo6o2oiL6T1976PCqiMrMrjuhe6YWCM0n6/yed46nOTNxlRrHh0EmROv1VdaW5evcp3i4+QrkA7TxijLOGYYCscRxn5ZxrPKUEYy20sehNQKcsYhrQXL71CK/eLdEZBxsilFLYbNoqYww/SjVZjHZmot2hISbmASEDmec3rz+c4PuPX1grA+Plg4i269FRbdthvdmg7xVCCPDeb/fpuZB4WtzHUitonr94icXqFN9+rtFblsyTRLtydyufeS9lRCKO0E3Ks5oLR/fwhpTKRfYwVELnJhJ5zlnKS5UmxKmCoYzVKKZ8ThJrrt1/hvcnK2iWq61DtgbJOZQY4FSPzNK81gjspzeaMYUcfE2WC1Ha1F1UDeWWjz+fIgwjgw4Dk7J3GGnomTxI32gYzSSvGXO2UocDqobL1Vf4XCqh7dpKJKaKFyJkhjHb9zB9B922iNbulbtTc3TnyR9DEgYmRZoImZScSOO5B5KJpOQk4yRE276dI7xy+zGWn75MhrwMz/5FXkgpBUZIOYOORBJ3lMxmvait2R7hpZsPsZgNg0zUvs78KdPYlIP9q4QXbzyYDQ0H9n+WzOFfe3idY3PMHjr+h1KynP4vCaUMfQjxIOFvhZnaqFc/6ugAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="screenshot 02"\n        title=""\n        src="/blog/static/e3f706f417c31db18e0848a4fcb702be/5a190/screenshot-02.png"\n        srcset="/blog/static/e3f706f417c31db18e0848a4fcb702be/772e8/screenshot-02.png 200w,\n/blog/static/e3f706f417c31db18e0848a4fcb702be/e17e5/screenshot-02.png 400w,\n/blog/static/e3f706f417c31db18e0848a4fcb702be/5a190/screenshot-02.png 800w,\n/blog/static/e3f706f417c31db18e0848a4fcb702be/c1b63/screenshot-02.png 1200w,\n/blog/static/e3f706f417c31db18e0848a4fcb702be/29007/screenshot-02.png 1600w,\n/blog/static/e3f706f417c31db18e0848a4fcb702be/65781/screenshot-02.png 2778w"\n        sizes="(max-width: 800px) 100vw, 800px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),t.createElement(a.h2,{id:"22-하이브리드-앱-설정-적용---안드로이드",style:{position:"relative"}},t.createElement(a.a,{href:"#22-%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%95%B1-%EC%84%A4%EC%A0%95-%EC%A0%81%EC%9A%A9---%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C","aria-label":"22 하이브리드 앱 설정 적용   안드로이드 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.2. 하이브리드 앱 설정 적용 - 안드로이드"),t.createElement(a.p,null,"일반적인 React Native 앱이라면 2.1. 설정만으로 충분하다. 하지만 하이브리드 앱이라면 안드로이드를 위한 추가적인 설정이 필요하다. 왜냐하면 웹뷰 내 웹앱에서 발생하는 이벤트를 웹앱의 이벤트가 아닌 네이티브앱의 이벤트로 변경해서 에어브릿지에 전달해야 하기 때문이다. (웹앱 내에는 이미 웹 SDK 가 설치 및 적용되어 있다고 가정한다.)"),t.createElement(a.p,null,"에어브릿지 공식 문서에는 React Native 하이브리드 앱 설정에 관한 문서는 없지만 안드로이드 하이브리드 앱 설정에 관한 문서는 존재한다. 해당 문서에는 웹뷰를 사용중인 액티비티에서 아래와 같이 코드를 작성하라고 되어 있다."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span>\n\n    <span class="token annotation punctuation">@Override</span>\n    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">initWebView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">void</span> <span class="token function">initWebView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        webView <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>webView<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        webView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setJavaScriptEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        webView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setDomStorageEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token class-name">Airbridge</span><span class="token punctuation">.</span><span class="token function">setJavascriptInterface</span><span class="token punctuation">(</span>webView<span class="token punctuation">,</span> <span class="token string">"WEB_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        webView<span class="token punctuation">.</span><span class="token function">setWebChromeClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebChromeClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        webView<span class="token punctuation">.</span><span class="token function">setWebViewClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebViewClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"http://dev.blog.airbridge.io/websdk-web-app/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"하지만 React Native 는 당연히 이런 코드를 삽입할 수 없다. 왜냐하면 React Native 에서 기본적으로 제공해주는 ",t.createElement(a.code,null,"MainActivity")," 에서는 ",t.createElement(a.code,null,"react-native-webview")," 라이브러리의 초기화에 관여할 수 없기 때문이다. 그렇다면 우리는 다른 방법을 찾아야 한다."),t.createElement(a.p,null,"다행히도 ",t.createElement(a.code,null,"react-native-webview")," 측은 이런 상황이 있을 수 있다는 것을 알고 있었던 것 같다. 그래서 자신들의 네이티브 컴포넌트를 래핑해서(정확히는 상속받아서) 사용할 수 있는 방법을 ",t.createElement(a.a,{href:"https://github.com/react-native-webview/react-native-webview/blob/master/docs/Custom-Android.md"},"정리해서 문서로 제공"),"하고 있다."),t.createElement(a.h3,{id:"221-react-native-webview-를-상속-받는-네이티브-컴포넌트-작성",style:{position:"relative"}},t.createElement(a.a,{href:"#221-react-native-webview-%EB%A5%BC-%EC%83%81%EC%86%8D-%EB%B0%9B%EB%8A%94-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%9E%91%EC%84%B1","aria-label":"221 react native webview 를 상속 받는 네이티브 컴포넌트 작성 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.2.1. ",t.createElement(a.code,null,"react-native-webview")," 를 상속 받는 네이티브 컴포넌트 작성"),t.createElement(a.p,null,"먼저 ",t.createElement(a.code,null,"react-native-webview")," 의 컴포넌트를 상속받을 안드로이드 네이티브 컴포넌트 ",t.createElement(a.code,null,"CustomWebViewManager")," 를 작성하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"android/app/src/main/java/.../CustomWebViewManager.java"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>packages<span class="token punctuation">.</span>your</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>webkit<span class="token punctuation">.</span></span><span class="token class-name">WebView</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>facebook<span class="token punctuation">.</span>react<span class="token punctuation">.</span>uimanager<span class="token punctuation">.</span></span><span class="token class-name">ThemedReactContext</span></span><span class="token punctuation">;</span>\n<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>reactnativecommunity<span class="token punctuation">.</span>webview<span class="token punctuation">.</span></span><span class="token class-name">RNCWebViewManager</span></span><span class="token punctuation">;</span></span>\n<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">co<span class="token punctuation">.</span>ab180<span class="token punctuation">.</span>airbridge<span class="token punctuation">.</span></span><span class="token class-name">Airbridge</span></span><span class="token punctuation">;</span></span>\n<span class="gatsby-highlight-code-line"><span class="token comment">// RNCWebViewManager 를 상속 받아서 CustomWebViewManager 를 만들자</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomWebViewManager</span> <span class="token keyword">extends</span> <span class="token class-name">RNCWebViewManager</span> <span class="token punctuation">{</span></span>  <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">REACT_CLASS</span> <span class="token operator">=</span> <span class="token string">"RCTCustomWebView"</span><span class="token punctuation">;</span>\n  <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">CustomWebViewClient</span> <span class="token keyword">extends</span> <span class="token class-name">RNCWebViewClient</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n  <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">CustomWebView</span> <span class="token keyword">extends</span> <span class="token class-name">RNCWebView</span> <span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token class-name">CustomWebView</span><span class="token punctuation">(</span><span class="token class-name">ThemedReactContext</span> reactContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">super</span><span class="token punctuation">(</span>reactContext<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="gatsby-highlight-code-line"></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 에어브릿지 문서의 안드로이드 하이브리드 앱 설정을 적용하기 위해서는</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// `createViewInstance` 메서드를 오버라이드해서 적용하는 것이 적절하다.</span></span><span class="gatsby-highlight-code-line">  <span class="token annotation punctuation">@Override</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">protected</span> <span class="token class-name">WebView</span> <span class="token function">createViewInstance</span><span class="token punctuation">(</span><span class="token class-name">ThemedReactContext</span> reactContext<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// 부모의 `createViewInstance` 를 사용해서 기본 웹뷰 인스턴스를 가져오자</span></span><span class="gatsby-highlight-code-line">    <span class="token class-name">RNCWebView</span> webView <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">RNCWebView</span><span class="token punctuation">)</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">createViewInstance</span><span class="token punctuation">(</span>reactContext<span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="gatsby-highlight-code-line">    <span class="token comment">// 에어브릿지에서 요구하는 설정 두 개를 활성화해주자.</span></span><span class="gatsby-highlight-code-line">    webView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setJavaScriptEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    webView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setDomStorageEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="gatsby-highlight-code-line">    <span class="token comment">// 안드로이드 네이티브와 웹뷰 내 웹앱을 연결하자.</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// 여기서 주의할 것은 두 번째 인자로 넣어주는 토큰이 WEB_TOKEN 이라는 것이다.</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// 2.1. 에서 사용했던 APP_TOKEN 과는 다르다.</span></span><span class="gatsby-highlight-code-line">    <span class="token class-name">Airbridge</span><span class="token punctuation">.</span><span class="token function">setJavascriptInterface</span><span class="token punctuation">(</span>webView<span class="token punctuation">,</span> <span class="token string">"WEB_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="gatsby-highlight-code-line">    <span class="token comment">// 아래 두 줄은 왜 사용하지 않냐면 `RNCWebViewManager` 에서 아래 두 줄에 해당하는 설정을 이미 해주고 있기 때문이다.</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// webView.setWebChromeClient(new WebChromeClient());</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// webView.setWebViewClient(new WebViewClient());</span></span>\n<span class="gatsby-highlight-code-line">    <span class="token comment">// 에어브릿지에서 필요한 파일을 로드하는 것으로 추정된다.</span></span><span class="gatsby-highlight-code-line">    webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"http://dev.blog.airbridge.io/websdk-web-app/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">return</span> webView<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span></span>\n  <span class="token annotation punctuation">@Override</span>\n  <span class="token keyword">protected</span> <span class="token class-name">RNCWebView</span> <span class="token function">createRNCWebViewInstance</span><span class="token punctuation">(</span><span class="token class-name">ThemedReactContext</span> reactContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CustomWebView</span><span class="token punctuation">(</span>reactContext<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token annotation punctuation">@Override</span>\n  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token constant">REACT_CLASS</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token annotation punctuation">@Override</span>\n  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addEventEmitters</span><span class="token punctuation">(</span><span class="token class-name">ThemedReactContext</span> reactContext<span class="token punctuation">,</span> <span class="token class-name">WebView</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    view<span class="token punctuation">.</span><span class="token function">setWebViewClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomWebViewClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"이걸로 끝이 아니다. React Native 에서 안드로이드 네이티브 컴포넌트를 작성할 때는 ",t.createElement(a.code,null,"*Package")," 파일도 항상 같이 작성해주어야 한다. ",t.createElement(a.code,null,"CustomWebViewPackage")," 를 아래처럼 작성하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"android/app/src/main/java/.../CustomWebViewPackage.java"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>packages<span class="token punctuation">.</span>your</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>facebook<span class="token punctuation">.</span>react<span class="token punctuation">.</span></span><span class="token class-name">ReactPackage</span></span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>facebook<span class="token punctuation">.</span>react<span class="token punctuation">.</span>bridge<span class="token punctuation">.</span></span><span class="token class-name">NativeModule</span></span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>facebook<span class="token punctuation">.</span>react<span class="token punctuation">.</span>bridge<span class="token punctuation">.</span></span><span class="token class-name">ReactApplicationContext</span></span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>facebook<span class="token punctuation">.</span>react<span class="token punctuation">.</span>uimanager<span class="token punctuation">.</span></span><span class="token class-name">ViewManager</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomWebViewPackage</span> <span class="token keyword">implements</span> <span class="token class-name">ReactPackage</span> <span class="token punctuation">{</span>\n    <span class="token annotation punctuation">@NonNull</span>\n    <span class="token annotation punctuation">@Override</span>\n    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NativeModule</span><span class="token punctuation">></span></span> <span class="token function">createNativeModules</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">ReactApplicationContext</span> reactContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token annotation punctuation">@Override</span>\n    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ViewManager</span><span class="token punctuation">></span></span> <span class="token function">createViewManagers</span><span class="token punctuation">(</span><span class="token class-name">ReactApplicationContext</span> reactContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomWebViewManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"마지막으로 ",t.createElement(a.code,null,"MainApplication")," 에 이 컴포넌트를 등록해주자. 바로 위에서 작성한 ",t.createElement(a.code,null,"CustomWebViewPackage")," 를 사용하면 된다."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"android/app/src/main/java/.../MainApplication.java"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="java"><pre class="language-java"><code class="language-java"><span class="token comment">// ...</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token keyword">implements</span> <span class="token class-name">ReactApplication</span> <span class="token punctuation">{</span>\n\n  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ReactNativeHost</span> mReactNativeHost <span class="token operator">=</span>\n      <span class="token keyword">new</span> <span class="token class-name">ReactNativeHost</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">// ...</span>\n\n        <span class="token annotation punctuation">@Override</span>\n        <span class="token keyword">protected</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ReactPackage</span><span class="token punctuation">></span></span> <span class="token function">getPackages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token comment">// ...</span>\n<span class="gatsby-highlight-code-line">          packages<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CustomWebViewPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>          <span class="token keyword">return</span> packages<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token comment">// ...</span>\n      <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.h3,{id:"222-작성한-네이티브-컴포넌트를-react-native-코드에-적용",style:{position:"relative"}},t.createElement(a.a,{href:"#222-%EC%9E%91%EC%84%B1%ED%95%9C-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-react-native-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9","aria-label":"222 작성한 네이티브 컴포넌트를 react native 코드에 적용 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.2.2. 작성한 네이티브 컴포넌트를 React Native 코드에 적용"),t.createElement(a.p,null,"이제 2.2.1. 에서 작성한 네이티브 컴포넌트를 React Native 코드에서도 쓸 수 있도록 해주자."),t.createElement(a.p,null,"방법은 간단하다. ",t.createElement(a.code,null,"react-native-webview")," 를 사용할 때 우리가 작성한 네이티브 컴포넌트를 설정으로 넣어주면 된다."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"WebView.android.jsx"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> forwardRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> requireNativeComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-native\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> WebView <span class="token keyword">as</span> RNWebView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-native-webview\'</span><span class="token punctuation">;</span>\n\n<span class="gatsby-highlight-code-line"><span class="token comment">// 2.2.1. 에서 작성한 네이티브 컴포넌트를 가져오자</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> RCTCustomWebView <span class="token operator">=</span> <span class="token function">requireNativeComponent</span><span class="token punctuation">(</span><span class="token string">\'RCTCustomWebView\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="token keyword">const</span> WebView <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RNWebView</span></span>\n      <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span>\n      <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span></span>\n<span class="gatsby-highlight-code-line">      <span class="token comment">// react-native-webview 가 사용할 네이티브 컴포넌트를 교체해주자</span></span><span class="gatsby-highlight-code-line">      <span class="token attr-name">nativeConfig</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">component</span><span class="token operator">:</span> RCTCustomWebView <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>    <span class="token punctuation">/></span></span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> WebView<span class="token punctuation">;</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"이제 안드로이드에서는 에어브릿지 하이브리드 앱 설정이 잘 적용된다."),t.createElement(a.h2,{id:"23-하이브리드-앱-설정-적용---ios",style:{position:"relative"}},t.createElement(a.a,{href:"#23-%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%95%B1-%EC%84%A4%EC%A0%95-%EC%A0%81%EC%9A%A9---ios","aria-label":"23 하이브리드 앱 설정 적용   ios permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.3. 하이브리드 앱 설정 적용 - iOS"),t.createElement(a.p,null,"일반적인 React Native 앱이라면 2.1. 설정만으로 충분하다. 하지만 하이브리드 앱이라면 iOS 를 위한 추가적인 설정이 필요하다. 왜냐하면 웹뷰 내 웹앱에서 발생하는 이벤트를 웹앱의 이벤트가 아닌 네이티브앱의 이벤트로 변경해서 에어브릿지에 전달해야 하기 때문이다. (웹앱 내에는 이미 웹 SDK 가 설치 및 적용되어 있다고 가정한다.)"),t.createElement(a.p,null,"에어브릿지 공식 문서에는 React Native 하이브리드 앱 설정에 관한 문서는 없지만 iOS 하이브리드 앱 설정에 관한 문서는 존재한다. 해당 문서에는 웹뷰를 사용중인 클래스에서 아래와 같이 코드를 작성하라고 되어 있다."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec">WKWebViewConfiguration<span class="token operator">*</span> configuration <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>WKWebViewConfiguration alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nWKUserContentController<span class="token operator">*</span> controller <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>WKUserContentController alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">[</span>AirBridge<span class="token punctuation">.</span>webInterface injectTo<span class="token punctuation">:</span>controller withWebToken<span class="token punctuation">:</span><span class="token string">@"WEB_TOKEN"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\nconfiguration<span class="token punctuation">.</span>userContentController <span class="token operator">=</span> controller<span class="token punctuation">;</span>\n\nWKWebView<span class="token operator">*</span> webview <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>WKWebView alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span>CGRectZero configuration<span class="token punctuation">:</span>configuration<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"하지만 React Native 는 당연히 이런 코드를 삽입할 수 없다. React Native 에서 기본적으로 제공해주는 ",t.createElement(a.code,null,"AppDelegate")," 클래스에서는 ",t.createElement(a.code,null,"react-native-webview")," 라이브러리의 초기화에 관여할 수 없기 때문이다. 그렇다면 우리는 다른 방법을 찾아야 한다."),t.createElement(a.p,null,"다행히도 ",t.createElement(a.code,null,"react-native-webview")," 측은 이런 상황이 있을 수 있다는 것을 알고 있었던 것 같다. 그래서 자신들의 네이티브 컴포넌트를 래핑해서(정확히는 상속받아서) 사용할 수 있는 방법을 ",t.createElement(a.a,{href:"https://github.com/react-native-webview/react-native-webview/blob/master/docs/Custom-iOS.md"},"정리해서 문서로 제공"),"하고 있다."),t.createElement(a.h3,{id:"231-patch-package",style:{position:"relative"}},t.createElement(a.a,{href:"#231-patch-package","aria-label":"231 patch package permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.3.1. ",t.createElement(a.code,null,"patch-package")),t.createElement(a.p,null,"여기까지 읽으면 iOS 도 안드로이드와 동일한 과정으로 진행하면 될 거라 생각하기 쉽다. 하지만 아쉽게도 아니다. 왜냐하면 우리는 ",t.createElement(a.code,null,"react-native-webview")," 라이브러리 중 ",t.createElement(a.code,null,"RNCWebView")," 클래스의 ",t.createElement(a.code,null,"setUpWkWebViewConfig")," 메서드를 오버라이딩 해야 하는데 이 메서드가 ",t.createElement(a.em,null,"비공개 멤버"),"이기 때문이다. ",t.createElement(a.em,null,"비공개 멤버는 오버라이딩이 불가능"),"하다."),t.createElement(a.p,null,"그렇다면 어떻게 해야 할까? 라이브러리를 직접 고쳐줘야 한다. 하지만 node_modules 에 있는 라이브러리를 직접 고쳐주면 git 으로 관리되지도 않고, node_modules 를 재설치하면 변경사항이 다 초기화 되어버린다. 그렇다고 라이브러리를 fork 뜨자니 배보다 배꼽이 더 커질 것 같고 관리도 어려워질 것 같다. 이렇게 고민하고 있을 때 해결책으로 ",t.createElement(a.a,{href:"https://github.com/ds300/patch-package"},t.createElement(a.code,null,"patch-package"))," 가 등장한다."),t.createElement(a.p,null,t.createElement(a.code,null,"pacth-package")," 는 node_modules 의 특정 모듈을 수정하고 그 수정사항을 git 으로 관리할 수 있게 해주는 라이브러리다."),t.createElement(a.p,null,"일단 설치하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">yarn</span> <span class="token function">add</span> patch-package postinstall-postinstall</code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"그리고 node_modules 에서 ",t.createElement(a.code,null,"react-native-webview")," 를 찾아서 아래처럼 ",t.createElement(a.code,null,"setUpWkWebViewConfig")," 를 공개 멤버로 추가해주자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"node_modules/react-native-webview/apple/RNCWebView.h"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token comment">// ...</span>\n<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>requestFocus<span class="token punctuation">;</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token operator">!</span>TARGET_OS_OSX</span></span>\n<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addPullToRefreshControl<span class="token punctuation">;</span>\n<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>pullToRefresh<span class="token punctuation">:</span><span class="token punctuation">(</span>UIRefreshControl <span class="token operator">*</span>_Nonnull<span class="token punctuation">)</span>refreshControl<span class="token punctuation">;</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>\n<span class="gatsby-highlight-code-line"><span class="token operator">-</span> <span class="token punctuation">(</span>WKWebViewConfiguration <span class="token operator">*</span>_Nonnull<span class="token punctuation">)</span>setUpWkWebViewConfig<span class="token punctuation">;</span></span>\n<span class="token keyword">@end</span>\n</code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"수정한 뒤에 해당 수정 내역을 별도의 파일로 만들도록, 아래처럼 명령어를 실행하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">npx patch-package react-native-webview</code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"그러면 아래와 비슷한 형식의 파일이 프로젝트 내에 자동으로 생성된다."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"patches/react-native-webview 11.23.1.patch"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="patch"><pre class="language-patch"><code class="language-patch">diff --git a/node_modules/react-native-webview/apple/RNCWebView.h b/node_modules/react-native-webview/apple/RNCWebView.h\nindex 90c9d62..e898b73 100644\n--- a/node_modules/react-native-webview/apple/RNCWebView.h\n+++ b/node_modules/react-native-webview/apple/RNCWebView.h\n@@ -114,5 +114,6 @@ shouldStartLoadForRequest:(NSMutableDictionary&lt;NSString *, id&gt; *_Nonnull)request\n - (void)addPullToRefreshControl;\n - (void)pullToRefresh:(UIRefreshControl *_Nonnull)refreshControl;\n #endif\n+- (WKWebViewConfiguration *_Nonnull)setUpWkWebViewConfig;\n\n @end</code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"이 파일을 git 에 추가해서 관리하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token comment"># 파일명은 라이브러리 버전이나 환경에 따라 다를 수 있다.</span>\n<span class="token function">git</span> <span class="token function">add</span> ./patches/react-native-webview+11.23.1.patch</code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"마지막으로 ",t.createElement(a.code,null,"package.json")," 에 ",t.createElement(a.code,null,"scirpts")," 를 하나 추가해주자. 이 스크립트는 ",t.createElement(a.code,null,"yarn"),"/",t.createElement(a.code,null,"yarn add")," 등 모듈 설치 명령어 직후에 ",t.createElement(a.code,null,"patch-package")," 가 자동으로 적용되게끔 해준다."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"package.json"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">"postinstall"</span><span class="token operator">:</span> <span class="token string">"patch-package"</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"이제 ",t.createElement(a.code,null,"setUpWkWebViewConfig")," 를 공개 멤버로 접근할 수 있다."),t.createElement(a.h3,{id:"232-react-native-webview-를-상속-받는-네이티브-컴포넌트-작성",style:{position:"relative"}},t.createElement(a.a,{href:"#232-react-native-webview-%EB%A5%BC-%EC%83%81%EC%86%8D-%EB%B0%9B%EB%8A%94-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%9E%91%EC%84%B1","aria-label":"232 react native webview 를 상속 받는 네이티브 컴포넌트 작성 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.3.2. ",t.createElement(a.code,null,"react-native-webview")," 를 상속 받는 네이티브 컴포넌트 작성"),t.createElement(a.p,null,"그러면 이제 남은 과정은 안드로이드와 거의 동일하다. ",t.createElement(a.code,null,"react-native-webview")," 의 컴포넌트를 상속받을 iOS 네이티브 컴포넌트 ",t.createElement(a.code,null,"RCTCustomWebView")," 를 작성하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"ios/MY_APP/RCTCustomWebView.h"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>RNCWebView<span class="token punctuation">.</span>h<span class="token operator">></span></span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>AirBridge<span class="token operator">/</span>AirBridge<span class="token punctuation">.</span>h<span class="token operator">></span></span></span>\n<span class="token comment">// 헤더 파일이 필요하긴 하지만 상속만 받으면 될 뿐, 내용은 없어도 된다.</span>\n<span class="token keyword">@interface</span> RCTCustomWebView <span class="token punctuation">:</span> RNCWebView\n<span class="token keyword">@end</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"ios/MY_APP/RCTCustomWebView.m"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">"RCTCustomWebView.h"</span></span>\n\n<span class="token keyword">@interface</span> <span class="token function">RCTCustomWebView</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token keyword">@end</span>\n\n<span class="token keyword">@implementation</span> RCTCustomWebView <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="gatsby-highlight-code-line"><span class="token comment">// 2.3.1 에서 공개 멤버로 변경한 `setUpWkWebViewConfig` 를 오버라이딩 하자</span></span><span class="gatsby-highlight-code-line"><span class="token operator">-</span> <span class="token punctuation">(</span>WKWebViewConfiguration <span class="token operator">*</span><span class="token punctuation">)</span>setUpWkWebViewConfig</span><span class="gatsby-highlight-code-line"><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 부모의 `setUpWkWebViewConfig` 를 사용해서 기본 웹뷰 설정 객체를 가져오자</span></span><span class="gatsby-highlight-code-line">  WKWebViewConfiguration <span class="token operator">*</span>wkWebViewConfig <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">super</span> setUpWkWebViewConfig<span class="token punctuation">]</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 에어브릿지에 해당 설정을 사용해서 웹뷰와 네이티브 앱을 연결해주자.</span></span><span class="gatsby-highlight-code-line">  <span class="token comment">// 여기서 주의할 것은 `withWebToken` 인자로 넣어주는 토큰이 WEB_TOKEN 이라는 것이다.</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">[</span>AirBridge<span class="token punctuation">.</span>webInterface injectTo<span class="token punctuation">:</span>wkWebViewConfig<span class="token punctuation">.</span>userContentController withWebToken<span class="token punctuation">:</span><span class="token string">@"WEB_TOKEN"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">return</span> wkWebViewConfig<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span></span>\n<span class="token keyword">@end</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.p,null,"React Native 에서 iOS 네이티브 컴포넌트를 작성할 때는 ",t.createElement(a.code,null,"*Manager")," 파일도 같이 작성해주어야 하는 모양이다. ",t.createElement(a.code,null,"RCTCustomWebViewManager")," 를 아래처럼 작성하자."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"ios/MY_APP/RCTCustomWebViewManager.h"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">"RNCWebViewManager.h"</span></span>\n\n<span class="token keyword">@interface</span> RCTCustomWebViewManager <span class="token punctuation">:</span> RNCWebViewManager\n<span class="token keyword">@end</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"ios/MY_APP/RCTCustomWebViewManager.m"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="objectivec"><pre class="language-objectivec"><code class="language-objectivec"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">"RCTCustomWebViewManager.h"</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token string">"RCTCustomWebView.h"</span></span>\n\n<span class="token keyword">@interface</span> <span class="token function">RCTCustomWebViewManager</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span>RNCWebViewDelegate<span class="token operator">></span>\n\n<span class="token keyword">@end</span>\n\n<span class="token keyword">@implementation</span> RCTCustomWebViewManager <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n<span class="token function">RCT_EXPORT_MODULE</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token operator">-</span> <span class="token punctuation">(</span>UIView <span class="token operator">*</span><span class="token punctuation">)</span>view\n<span class="token punctuation">{</span>\n  RCTCustomWebView <span class="token operator">*</span>webView <span class="token operator">=</span> <span class="token punctuation">[</span>RCTCustomWebView new<span class="token punctuation">]</span><span class="token punctuation">;</span>\n  webView<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> webView<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">@end</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.h3,{id:"233-작성한-네이티브-컴포넌트를-rn-코드에-적용",style:{position:"relative"}},t.createElement(a.a,{href:"#233-%EC%9E%91%EC%84%B1%ED%95%9C-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-rn-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9","aria-label":"233 작성한 네이티브 컴포넌트를 rn 코드에 적용 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"2.3.3. 작성한 네이티브 컴포넌트를 RN 코드에 적용"),t.createElement(a.p,null,"이제 2.3.2. 에서 작성한 네이티브 컴포넌트를 React Native 코드에서도 쓸 수 있도록 해주자."),t.createElement(a.p,null,"방법은 간단하다. ",t.createElement(a.code,null,"react-native-webview")," 를 사용할 때 우리가 작성한 컴포넌트를 설정으로 넣어주면 된다."),t.createElement(a.div,{className:"codeblock-container"},t.createElement(a.div,{className:"codeblock-title"},"WebView.ios.jsx"),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> forwardRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> requireNativeComponent<span class="token punctuation">,</span> NativeModules <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-native\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> WebView <span class="token keyword">as</span> RNWebView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-native-webview\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> RCTCustomWebViewManager <span class="token punctuation">}</span> <span class="token operator">=</span> NativeModules<span class="token punctuation">;</span>\n\n<span class="gatsby-highlight-code-line"><span class="token comment">// 2.3.2. 에서 작성한 네이티브 컴포넌트를 가져오자</span></span><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> RCTCustomWebView <span class="token operator">=</span> <span class="token function">requireNativeComponent</span><span class="token punctuation">(</span><span class="token string">\'RCTCustomWebView\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>\n<span class="token keyword">const</span> WebView <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RNWebView</span></span>\n      <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span>\n      <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span></span>\n<span class="gatsby-highlight-code-line">      <span class="token comment">// react-native-webview 가 사용할 네이티브 컴포넌트를 교체해주자</span></span><span class="gatsby-highlight-code-line">      <span class="token comment">// 안드로이드와 다른 점은 viewManager 도 같이 설정해주어야 한다는 점이다</span></span><span class="gatsby-highlight-code-line">      <span class="token attr-name">nativeConfig</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token literal-property property">component</span><span class="token operator">:</span> RCTCustomWebView<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">        <span class="token literal-property property">viewManager</span><span class="token operator">:</span> RCTCustomWebViewManager<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">}</span></span></span>    <span class="token punctuation">/></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> WebView<span class="token punctuation">;</span></code></pre></div>'}}),t.createElement(a.button,{className:"codeblock-copy-button"},"COPY")),t.createElement(a.h1,{id:"3-마무리",style:{position:"relative"}},t.createElement(a.a,{href:"#3-%EB%A7%88%EB%AC%B4%EB%A6%AC","aria-label":"3 마무리 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"3. 마무리"),t.createElement(a.p,null,"이제 웹뷰에 삽입된 웹앱에서 에어브릿지 API 가 실행되면 웹앱의 이벤트가 아니라 네이티브의 이벤트로 올라오는 걸 확인할 수 있다."),t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<figure class="gatsby-resp-image-figure" style="">\n    <span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/blog/static/339cb2fb16e59c8b1087c350026f081e/01744/screenshot-03.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAADhAAAA4QAGksAzQAAAB70lEQVR42nVTy27UQBD0b3HhECEI4hAhlBwQEeLxZxw5cuXGiR9AKEiLkoXwSLL22p6ZnmdRPbY3UYCRasfrcVdXV/c0+4cvsTo7R28FRjxijDuUUnB7LWchRBhr0Y8GxgU4SRAf0Nx99BSfvnxFO9hK2HUd2rbFZtPCOcfghJSukXOuCCT1XviNx2AzYwEfgeb9h4/4cbFBO1pYCZVEydq2q/vl1RX6vqcCqWfOCayd9utVKrSi5s3bdzg5/Y717w1GZhNm8YmlUc2yMj+MKe/+Jyr0cSpxQoQjhDY0dx4c4fPqDJtBvRAIs1v6IlTjteTgEaiuMIGjZ9H7aoNTohD/QvPw6DVW63NstSkkimaEZ2BSf8YBUaY9OMudZ/Udk5JwO4yEqY1RVML9w1f49usShpINA6I1DHbIVDZuu0ps6KEwkSWZ43NULxls2cSb2BGuf15gZEMMy01mIs1UIUOP5KY98L2QsCpk2e4f5VbC+09eTIRUOBp2umurdzkEKtwymApJKLTBsgI3zDaEWH10c2MWT5t7j5+XWWHRpniqU4+0ZPVu8TKQUKq/pg72pHDXmDITlmbv4JkqLLVk7fLcRR0VnTcdEZ1BvRlCnzwDdaQWdTdQqsK9g+O0KFRjlwH9H/jDG5Nve1fJPK/PH4sRkeLv4NyEAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="screenshot 03"\n        title="웹앱에만 연결해둔 &quot;Sign-in&quot;, &quot;Sign-out&quot; 이벤트가 들어오고 있다"\n        src="/blog/static/339cb2fb16e59c8b1087c350026f081e/5a190/screenshot-03.png"\n        srcset="/blog/static/339cb2fb16e59c8b1087c350026f081e/772e8/screenshot-03.png 200w,\n/blog/static/339cb2fb16e59c8b1087c350026f081e/e17e5/screenshot-03.png 400w,\n/blog/static/339cb2fb16e59c8b1087c350026f081e/5a190/screenshot-03.png 800w,\n/blog/static/339cb2fb16e59c8b1087c350026f081e/c1b63/screenshot-03.png 1200w,\n/blog/static/339cb2fb16e59c8b1087c350026f081e/29007/screenshot-03.png 1600w,\n/blog/static/339cb2fb16e59c8b1087c350026f081e/01744/screenshot-03.png 2830w"\n        sizes="(max-width: 800px) 100vw, 800px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>\n    <figcaption class="gatsby-resp-image-figcaption">웹앱에만 연결해둔 &quot;Sign-in&quot;, &quot;Sign-out&quot; 이벤트가 들어오고 있다</figcaption>\n  </figure>'}}),t.createElement(a.h1,{id:"4-참고",style:{position:"relative"}},t.createElement(a.a,{href:"#4-%EC%B0%B8%EA%B3%A0","aria-label":"4 참고 permalink",className:"anchor before"},t.createElement(a.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"4. 참고"),t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"https://github.com/react-native-webview/react-native-webview/blob/master/docs/Custom-Android.md"},"react-native-webview/docs/Custom-Android.md")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"https://github.com/react-native-webview/react-native-webview/blob/master/docs/Custom-iOS.md"},"react-native-webview/docs/Custom-iOS.md")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"https://developers.airbridge.io/docs/react-native-sdk"},"Aribridge React Native SDK")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"https://developers.airbridge.io/docs/android-sdk#%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%95%B1-%EC%84%A4%EC%A0%95"},"Airbridge Android SDK - 하이브리드 앱 설정")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"https://developers.airbridge.io/docs/ios-sdk#%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%95%B1-%EC%84%A4%EC%A0%95"},"Airbridge iOS SDK - 하이브리드 앱 설정")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"https://github.com/ds300/patch-package"},"patch-package")),"\n")),"\n",t.createElement(a.div,{className:"toc"},t.createElement(a.p,null,"목차"),t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#1-%EA%B0%9C%EC%9A%94"},"1. 개요")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#2-%EC%A0%81%EC%9A%A9"},"2. 적용"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#21-%EC%97%90%EC%96%B4%EB%B8%8C%EB%A6%BF%EC%A7%80-react-native-sdk-%EC%A0%81%EC%9A%A9"},"2.1. 에어브릿지 React Native SDK 적용")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#22-%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%95%B1-%EC%84%A4%EC%A0%95-%EC%A0%81%EC%9A%A9---%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C"},"2.2. 하이브리드 앱 설정 적용 - 안드로이드"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#221-react-native-webview-%EB%A5%BC-%EC%83%81%EC%86%8D-%EB%B0%9B%EB%8A%94-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%9E%91%EC%84%B1"},"2.2.1. ",t.createElement(a.code,null,"react-native-webview")," 를 상속 받는 네이티브 컴포넌트 작성")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#222-%EC%9E%91%EC%84%B1%ED%95%9C-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-react-native-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9"},"2.2.2. 작성한 네이티브 컴포넌트를 React Native 코드에 적용")),"\n"),"\n"),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#23-%ED%95%98%EC%9D%B4%EB%B8%8C%EB%A6%AC%EB%93%9C-%EC%95%B1-%EC%84%A4%EC%A0%95-%EC%A0%81%EC%9A%A9---ios"},"2.3. 하이브리드 앱 설정 적용 - iOS"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#231-patch-package"},"2.3.1. ",t.createElement(a.code,null,"patch-package"))),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#232-react-native-webview-%EB%A5%BC-%EC%83%81%EC%86%8D-%EB%B0%9B%EB%8A%94-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%9E%91%EC%84%B1"},"2.3.2. ",t.createElement(a.code,null,"react-native-webview")," 를 상속 받는 네이티브 컴포넌트 작성")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#233-%EC%9E%91%EC%84%B1%ED%95%9C-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-rn-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9"},"2.3.3. 작성한 네이티브 컴포넌트를 RN 코드에 적용")),"\n"),"\n"),"\n"),"\n"),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#3-%EB%A7%88%EB%AC%B4%EB%A6%AC"},"3. 마무리")),"\n",t.createElement(a.li,null,t.createElement(a.a,{href:"#4-%EC%B0%B8%EA%B3%A0"},"4. 참고")),"\n")))}var p,o,l,i=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,e.ah)(),n.components);return a?t.createElement(a,n,t.createElement(c,n)):c(n)},r=s(1880),u=s(1883),k=s(3723),d=s(6758),m=s(3904),g=s(891),h=s(3234),b=s(5777),E=s(7178),v=s(2889),w=s(5924),C=s(7466);function y(n){let{data:a,children:s}=n;const e=t.useRef(),{frontmatter:c,sameSeriesPosts:p}=a.mdx,{title:o,slug:l,date:i,tags:r,series:k,heroImage:m,heroImageAlt:g}=c;return t.useEffect((()=>{var n;const a=null===(n=e.current)||void 0===n?void 0:n.querySelectorAll(".md h1, .md h2, .md h3, .md h4, .md h5, .md h6"),s=new IntersectionObserver((()=>(0,w.Z)(e,a)),{rootMargin:"0px 0px -90% 0px",threshold:[0,1]});return null==a||a.forEach((n=>s.observe(n))),()=>s.disconnect()}),[]),t.createElement(d.Z,null,t.createElement(f,null,t.createElement("h1",null,t.createElement(u.Link,{to:"/posts/"+l},o)),t.createElement(A,null,i),t.createElement(v.Z,{tags:r})),t.createElement(E.Z,{name:k,data:p,current:l}),t.createElement(C.Z,{data:m,alt:g}),t.createElement(B,{ref:e},s),t.createElement(b.Z,null))}const f=g.ZP.div(p||(p=(0,r.Z)(["\n  margin: 60px 0 72px;\n  padding: 0 24px;\n\n  & > h1 {\n    font-size: 2.5rem;\n    word-break: keep-all;\n    margin: 0;\n\n    > a {\n      color: ",";\n    }\n  }\n"])),(n=>n.theme.colors.onBackground)),A=g.ZP.div(o||(o=(0,r.Z)(["\n  margin: 16px 0;\n"]))),B=(0,g.ZP)(h.Z)(l||(l=(0,r.Z)(["\n  margin-bottom: 60px;\n"]))),N=n=>{var a,s;let{data:e}=n;const{frontmatter:{title:c,slug:p,tags:o,heroImage:l,previewContent:i},excerpt:r}=e.mdx,u=l?(0,k.c)(l):null;return t.createElement(m.Z,{title:c,description:null!=i?i:r,path:"posts/"+p,thumbnail:null==u||null===(a=u.images)||void 0===a||null===(s=a.fallback)||void 0===s?void 0:s.src,keywords:o,ogType:"article"})};function V(n){return t.createElement(y,n,t.createElement(i,n))}}}]);
//# sourceMappingURL=component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-ricalelog-posts-2023-230311-airbridge-react-native-webview-index-mdx-ffd93b8262b71590e0a4.js.map