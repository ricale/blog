"use strict";(self.webpackChunkricalelog=self.webpackChunkricalelog||[]).push([[9992],{872:function(n,e,a){a.r(e),a.d(e,{Head:function(){return A},default:function(){return S}});var s=a(1151),t=a(7294);function p(n){const e=Object.assign({p:"p",a:"a",h1:"h1",h2:"h2",div:"div",code:"code",ul:"ul",li:"li",h3:"h3"},(0,s.ah)(),n.components);return t.createElement(t.Fragment,null,t.createElement(e.p,null,"(이전 글을 읽지 않았더라도 본문을 읽는 데에는 지장이 없다.)"),"\n",t.createElement(e.p,null,t.createElement(e.a,{href:"https://ricale.kr/blog/posts/221214-ios-style-picker-1/"},"이전 글"),"에서는 iOS 스타일 Date Picker 를 순수 자바스크립트로 구현한 오픈소스 코드 조각에 대해 코드 리뷰를 했다. 이후 (글로 정리하지는 않았지만) 약간의 리팩토링을 거쳐 해당 오픈소스를 React 컴포넌트로 구현했다."),"\n",t.createElement(e.p,null,"그러면 이제는 구현한 것을 라이브러리로 만들어 NPM에 올려보자."),"\n",t.createElement(e.h1,null,"1. 빌드 환경 구성"),"\n",t.createElement(e.p,null,"빌드 환경 구성에는 원래 Webpack 을 즐겨 사용했으나, 이번에는 ",t.createElement(e.a,{href:"https://vitejs.dev/"},"Vite")," 를 사용해보자."),"\n",t.createElement(e.h2,null,"1.1. Vite 설치 및 적용"),"\n",t.createElement(e.p,null,"아래 명령어를 사용하면 yarn 이 자동으로 Vite 프로젝트를 만들어준다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">yarn</span> create vite ios-style-picker <span class="token parameter variable">--template</span> react-ts</code></pre></div>'}}),"\n",t.createElement(e.p,null,"프로젝트는 대강 아래의 형태로 구성된다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">ios-style-picker\n|- public/\n|- src/\n|- .gitignore\n|- index.html\n|- package.json\n|- tsconfig.json\n|- tsconfig.node.json\n|- vite.config.ts</code></pre></div>'}}),"\n",t.createElement(e.p,null,"여기서 Vite 설정은 ",t.createElement(e.code,null,"vite.config.ts")," 에 작성한다. 생성된 기본 설정은 아래와 같다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vite"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> react <span class="token keyword">from</span> <span class="token string">"@vitejs/plugin-react"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",t.createElement(e.p,null,"라이브러리 빌드를 위해서는 아래 설정들을 추가해야한다."),"\n",t.createElement(e.ul,null,"\n",t.createElement(e.li,null,"웹앱이 아니라 라이브러리를 빌드하도록 설정을 추가한다."),"\n",t.createElement(e.li,null,t.createElement(e.code,null,"*.d.ts")," 파일을 생성하게끔 설정을 추가한다."),"\n",t.createElement(e.li,null,"react 등 외부 디펜던시에 대한 설정을 추가한다."),"\n"),"\n",t.createElement(e.h3,null,"1.1.1. ",t.createElement(e.code,null,"build.lib")),"\n",t.createElement(e.p,null,t.createElement(e.code,null,"build.lib")," 설정은 라이브러리 빌드를 위해 Vite 에서 제공하는 설정이다. 이 설정도 추가해주자."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// ...</span>\n<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">"path"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  build<span class="token operator">:</span> <span class="token punctuation">{</span>\n    lib<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token comment">// 빌드 타겟</span>\n      entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src/index.ts"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token comment">// `\'umd\'` 모듈이 전역 변수로 모듈을 내보낼때 쓰는 이름.</span>\n      <span class="token comment">// Vite 가 기본적으로 `\'es\'`, `\'umd\'` 두 형식으로 모듈을 만들어주므로</span>\n      <span class="token comment">// 설정해주어야 한다.</span>\n      name<span class="token operator">:</span> <span class="token string">"IosStylePicker"</span><span class="token punctuation">,</span>\n      <span class="token comment">// 빌드 결과 생성되는 소스코드의 파일명 형식</span>\n      <span class="token function-variable function">fileName</span><span class="token operator">:</span> <span class="token punctuation">(</span>format<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ios-style-picker.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>format<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",t.createElement(e.h3,null,"1.1.2. ",t.createElement(e.a,{href:"https://github.com/qmhc/vite-plugin-dts"},"vite-plugin-dts")),"\n",t.createElement(e.p,null,"라이브러리 사용자에게 타입을 제공해야 하므로, ",t.createElement(e.code,null,"*.d.ts")," 파일을 만들어주는 플러그인을 설치하자."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">--dev</span> vite-plugin-dts</code></pre></div>'}}),"\n",t.createElement(e.p,null,"설치한 플러그인을 설정 파일에 추가해주자."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">//...</span>\n<span class="token keyword">import</span> dts <span class="token keyword">from</span> <span class="token string">"vite-plugin-dts"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//&lt;- 여기에 추가해준다.</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",t.createElement(e.h3,null,"1.1.3. ",t.createElement(e.code,null,"build.rollupOptions")),"\n",t.createElement(e.p,null,t.createElement(e.code,null,"build.rollupOptions")," 설정은 Vite 내부적으로 사용되는 번들러 ",t.createElement(e.a,{href:"https://rollupjs.org/guide/en/"},"Rollup")," 의 설정을 직접 지정할 수 있는 설정이다."),"\n",t.createElement(e.p,null,"여기서는 React 를 외부 라이브러리로 지정하기 위해 (빌드 결과에 React 코드를 포함시키지 않기 위해) 사용한다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">"path"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  build<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token comment">// ...</span>\n    rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token comment">// 외부 라이브러리로 사용할 라이브러리들 이름.</span>\n      external<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token string">"react-dom"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token comment">// 외부 라이브러리에 접근할 때 사용할 전역변수명.</span>\n      <span class="token comment">// `\'umd\'` 빌드 시 사용된다.</span>\n      output<span class="token operator">:</span> <span class="token punctuation">{</span>\n        globals<span class="token operator">:</span> <span class="token punctuation">{</span>\n          react<span class="token operator">:</span> <span class="token string">"React"</span><span class="token punctuation">,</span>\n          <span class="token string-property property">"react-dom"</span><span class="token operator">:</span> <span class="token string">"ReactDOM"</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",t.createElement(e.h2,null,"1.2. ",t.createElement(e.code,null,"package.json")),"\n",t.createElement(e.p,null,t.createElement(e.code,null,"package.json")," 도 수정해보자."),"\n",t.createElement(e.h3,null,"1.2.1. Entry Point"),"\n",t.createElement(e.p,null,"엔트리 포인트 관련 설정은 Vite 공식 문서에서 ",t.createElement(e.a,{href:"https://vitejs.dev/guide/build.html#library-mode"},"권장하는 설정"),"이 있다. 아래와 같다. 우리도 그대로 넣어주자."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"files"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"dist"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"main"</span><span class="token operator">:</span> <span class="token string">"./dist/ios-style-picker.umd.cjs"</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"module"</span><span class="token operator">:</span> <span class="token string">"./dist/ios-style-picker.es.js"</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">"."</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token string-property property">"import"</span><span class="token operator">:</span> <span class="token string">"./dist/ios-style-picker.es.js"</span><span class="token punctuation">,</span>\n      <span class="token string-property property">"require"</span><span class="token operator">:</span> <span class="token string">"./dist/ios-style-picker.umd.cjs"</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(e.p,null,t.createElement(e.code,null,"module"),", ",t.createElement(e.code,null,"exports")," 속성은 ",t.createElement(e.a,{href:"https://docs.npmjs.com/cli/v7/configuring-npm/package-json"},"NPM 공식 문서"),"에는 없는 속성이다. 속성 이름과 지정된 값을 보면 직관적으로 어떤 값일지 추정이 가능하지만, 왜 문서에 없는 값들을 쓰고 있는지는 ",t.createElement(e.a,{href:"https://stackoverflow.com/questions/42708484/what-is-the-module-package-json-field-for"},"이 스택오버플로우 글"),"을 참고하자."),"\n",t.createElement(e.h3,null,"1.2.2. ",t.createElement(e.code,null,"types")),"\n",t.createElement(e.p,null,"타입스크립트 타입 엔트리 포인트 정보다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token string-property property">"types"</span><span class="token operator">:</span> <span class="token string">"dist/index.d.ts"</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(e.h3,null,"1.2.3. ",t.createElement(e.code,null,"peerDependencies")),"\n",t.createElement(e.p,null,"이 라이브러리를 사용하기 위해서는 react 와 react-dom 을 반드시 별도로 설치해주어야 한다. 그런 디펜던시는 ",t.createElement(e.code,null,"peerDependencies")," 에 따로 명시해주자."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token string-property property">"peerDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">"react"</span><span class="token operator">:</span> <span class="token string">">=17.0.0"</span><span class="token punctuation">,</span>\n    <span class="token string-property property">"react-dom"</span><span class="token operator">:</span> <span class="token string">">=17.0.0"</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(e.h3,null,"1.2.4. 기타 정보"),"\n",t.createElement(e.p,null,"NPM 패지키로 올리려는 만큼, 패키지와 관련된 세부 내용도 작성해주는 것이 좋다. 필드 이름과 값 모두 직관적이므로 따로 설명을 적진 않겠다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"ios-style-picker"</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"0.0.3"</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"author"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"ricale"</span><span class="token punctuation">,</span>\n    <span class="token string-property property">"email"</span><span class="token operator">:</span> <span class="token string">"kim.kangseong@gmail.com"</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"repository"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"git"</span><span class="token punctuation">,</span>\n    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"git+https://github.com/ricale/ios-style-picker.git"</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"bugs"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"https://github.com/ricale/ios-style-picker/issues"</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">"React date picker"</span><span class="token punctuation">,</span>\n    <span class="token string">"React datepicker"</span><span class="token punctuation">,</span>\n    <span class="token string">"iOS style datepicker"</span><span class="token punctuation">,</span>\n    <span class="token string">"iOS style date picker"</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string-property property">"homepage"</span><span class="token operator">:</span> <span class="token string">"https://github.com/ricale/ios-style-picker#readme"</span><span class="token punctuation">,</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(e.h1,null,"3. 빌드 및 배포"),"\n",t.createElement(e.h2,null,"3.1. 빌드"),"\n",t.createElement(e.p,null,"아래 명령어를 실행하면"),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">yarn</span> build</code></pre></div>'}}),"\n",t.createElement(e.p,null,t.createElement(e.code,null,"dist/")," 디렉토리에 빌드 결과 소스파일이 추가된다."),"\n",t.createElement(e.p,null,t.createElement(e.code,null,"dist/")," 디렉토리는 기본적으로 ",t.createElement(e.code,null,".gitignore"),"에 포함되어있다. 하지만 우리는 빌드 결과를 프로젝트에 포함시켜야 하므로, ",t.createElement(e.code,null,".gitignore")," 에서 해당 내용을 삭제하거나 Vite 설정을 수정해 빌드 결과 소스파일이 저장될 위치를 변경해주어야 한다. (나는 전자를 선택했다.)"),"\n",t.createElement(e.h2,null,"3.2. 배포 전 테스트"),"\n",t.createElement(e.p,null,"NPM 에 배포하기 전에 ",t.createElement(e.a,{href:"https://docs.npmjs.com/creating-and-publishing-unscoped-public-packages#testing-your-package"},"로컬에서 설치를 테스트해볼 수 있다"),"고 한다."),"\n",t.createElement(e.p,null,"테스트용 프로젝트를 하나 만들고, 아래 형식의 명령어로 구현중인 라이브러리를 추가해서 사용해보면 된다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> path/to/my-package</code></pre></div>'}}),"\n",t.createElement(e.p,null,"하지만 나의 경우에는 테스트용 프로젝트에 설치 후 사용 시 ",t.createElement(e.a,{href:"https://reactjs.org/warnings/invalid-hook-call-warning.html"},"Invalid Hook Call")," 에러가 발생해서 사용해볼 수가 없었다. 아마 react 를 (라이브러리의 ",t.createElement(e.code,null,"devDependencies")," 와 테스트 프로젝트의 ",t.createElement(e.code,null,"dependencies")," 로부터) 중복 참조해서 생기는 일 같은데 끝내 해결하지 못했다."),"\n",t.createElement(e.p,null,"(",t.createElement(e.a,{href:"https://stackoverflow.com/questions/65259040/react-antd-rollup-component-library-error-invalid-hook-call-hooks-can-onl/65259365#65259365"},"이 글"),"에서는 ",t.createElement(e.code,null,"npm link")," 명령어를 사용하면 임시로 해결 가능하다고 하는데 어디까지나 임시일 뿐이고 그다지 매끄럽지도 않다.)"),"\n",t.createElement(e.p,null,"하지만 이 테스트에 통과하지 못해도 상관 없다. NPM 배포 후에 배포된 패키지를 설치해보면 문제 없이 동작하는 걸 확인할 수 있다. 그러니 이 테스트 결과에 너무 목메이지 말자."),"\n",t.createElement(e.h2,null,"3.3. 배포"),"\n",t.createElement(e.p,null,"아래 명령어로 로그인 후 배포하자."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> adduser <span class="token comment"># 회원가입 혹은 로그인</span>\n$ <span class="token function">npm</span> publish <span class="token comment"># 현재 디렉토리의 패키지를 배포</span></code></pre></div>'}}),"\n",t.createElement(e.p,null,"이제 배포가 완료되었다. 배포된 패키지는 ",t.createElement(e.code,null,"https://www.npmjs.com/package/패키지이름")," 에서 확인할 수 있다. (이 패키지는 ",t.createElement(e.a,{href:"https://www.npmjs.com/package/ios-style-picker"},"https://www.npmjs.com/package/ios-style-picker")," 에서 확인할 수 있다.) 만약 README.md 까지 작성해뒀다면 접속했을 때 아래 같은 형식으로 보일 것이다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/blog/static/aa84deef49def01c477781e8d7754d1d/41045/1.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhElEQVR42p1SXY/UMAzs//9tvPGwLycOKCdYbdM2adJ8Zxhnt70VnIREpJFS2xmPxx2sdRjffuL72xU3HVBaQyP+9wwlGmzqgm2+INoJQS3QWiGXhKA93OwQTECrDWaJWCaPnBpczFDWI5aKuu9I84yWMwZrJnx7+YRf42f8+HKBnRRK5KMQkF0mEorPjFV4VxD2iuBLJ9xzJWFjnpNZi5oSBh8ibtOCeTHECh9Dl/730O2M1lqQYqRSTsHG9WGRWDXIJTGxU/ZxjyyWpPe+c7TuK05vJa+17mQC+S6lvBNqbXC7Tb3YOUdyTxUVxpizc3taljRXSvVay1G3bUOmf30px4PyCEgnIesx3j8iFOXX67U33OzWSc1mWM+lFCY9OxSS/OschDLmuuquLARaFDIXlZAjR/aU//X1lQXrqfBZ0Z+4E0b6lu7jbxl2JaGj/0KYSSCmih9itEBGkthh+jOkoeSl7u65pafu/BMGSY7jeC7g8O8j1IctQqzU3GNHo+Mv+A16ql0xpOUEJAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="1"\n        title=""\n        src="/blog/static/aa84deef49def01c477781e8d7754d1d/5a190/1.png"\n        srcset="/blog/static/aa84deef49def01c477781e8d7754d1d/772e8/1.png 200w,\n/blog/static/aa84deef49def01c477781e8d7754d1d/e17e5/1.png 400w,\n/blog/static/aa84deef49def01c477781e8d7754d1d/5a190/1.png 800w,\n/blog/static/aa84deef49def01c477781e8d7754d1d/c1b63/1.png 1200w,\n/blog/static/aa84deef49def01c477781e8d7754d1d/29007/1.png 1600w,\n/blog/static/aa84deef49def01c477781e8d7754d1d/41045/1.png 2434w"\n        sizes="(max-width: 800px) 100vw, 800px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",t.createElement(e.h2,null,"3.4. 업데이트"),"\n",t.createElement(e.p,null,"업데이트를 하고 싶다면? ",t.createElement(e.code,null,"package.json")," 에서 version 값을 올려준 뒤"),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"0.0.4"</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(e.p,null,"다시 빌드 및 배포를 실행하면 된다."),"\n",t.createElement(e.div,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">yarn</span> build <span class="token comment"># 빌드</span>\n$ <span class="token function">npm</span> publish <span class="token comment"># 배포</span></code></pre></div>'}}),"\n",t.createElement(e.h1,null,"4. 다음"),"\n",t.createElement(e.p,null,"내가 만든 iOS 스타일 Date Picker 를 NPM 에 올렸다. 이제 다음으로 해야할 일은 아래와 같다."),"\n",t.createElement(e.ul,null,"\n",t.createElement(e.li,null,"리팩토링한 내용 정리"),"\n",t.createElement(e.li,null,"Storybook 으로 데모 페이지 간단 구현 및 배포"),"\n",t.createElement(e.li,null,"i18n 구현 (현재는 한국어만 지원)"),"\n",t.createElement(e.li,null,"몇몇 상황에서 애니메이션을 더 매끄럽게 처리","\n",t.createElement(e.ul,null,"\n",t.createElement(e.li,null,t.createElement(e.code,null,'variant="infinite"')," 일 때"),"\n"),"\n"),"\n"),"\n",t.createElement(e.h1,null,"5. 참고"),"\n",t.createElement(e.ul,null,"\n",t.createElement(e.li,null,t.createElement(e.a,{href:"https://vitejs.dev/guide/build.html#library-mode"},"Building for Production - Library Mode")),"\n",t.createElement(e.li,null,t.createElement(e.a,{href:"https://stackoverflow.com/questions/42708484/what-is-the-module-package-json-field-for"},'What is the "module" package.json field for?')),"\n",t.createElement(e.li,null,t.createElement(e.a,{href:"https://stackoverflow.com/questions/65259040/react-antd-rollup-component-library-error-invalid-hook-call-hooks-can-onl/65259365#65259365"},'React + Antd + Rollup Component Library "Error: Invalid hook call. Hooks can only be called inside of the body of a function component"')),"\n"))}var o,l,c,r,i,u=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,s.ah)(),n.components);return e?t.createElement(e,n,t.createElement(p,n)):p(n)},d=a(1880),g=a(3723),m=a(1858),k=a(3904),h=a(891),y=a(5534),f=a(5777),b=a(7178),E=a(6706);const v=n=>{let{data:e,children:a}=n;const{frontmatter:s,sameSeriesPosts:p}=e.mdx,{title:o,slug:l,date:c,tags:r,series:i,heroImage:u,heroImageAlt:d}=s,k=u?(0,g.c)(u):null;return t.createElement(m.Z,null,t.createElement(x,null,t.createElement("h1",null,o),t.createElement(j,null,c),t.createElement(E.Z,{tags:r})),t.createElement(b.Z,{name:i,data:p,current:l}),!!k&&t.createElement(w,{image:k,alt:null!=d?d:""}),t.createElement(Z,null,a),t.createElement(f.Z,null))},x=h.ZP.div(o||(o=(0,d.Z)(["\n  margin: 60px 0 72px;\n  padding: 0 24px;\n\n  & > h1 {\n    font-size: 2.5rem;\n    word-break: keep-all;\n    margin: 0;\n  }\n"]))),w=(0,h.ZP)(g.G)(l||(l=(0,d.Z)(["\n  margin-bottom: 16px;\n"]))),j=h.ZP.div(c||(c=(0,d.Z)(["\n  margin: 16px 0;\n"]))),Z=(h.ZP.ul(r||(r=(0,d.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: ","px;\n\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  > li {\n    padding: ","px\n      ","px;\n    border-radius: 2px;\n\n    background-color: ",";\n    color: ",";\n\n    > a {\n      text-decoration: none;\n    }\n  }\n"])),(n=>n.theme.dimens.gutter),(n=>n.theme.dimens.spacing),(n=>n.theme.dimens.gutter),(n=>n.theme.colors.tag),(n=>n.theme.colors.onTag)),(0,h.ZP)(y.Z)(i||(i=(0,d.Z)(["\n  margin-bottom: 60px;\n"])))),A=n=>{var e,a;let{data:s}=n;const{frontmatter:{title:p,slug:o,tags:l,heroImage:c,previewContent:r},excerpt:i}=s.mdx,u=c?(0,g.c)(c):null;return t.createElement(k.Z,{title:p,description:null!=r?r:i,path:"posts/"+o,thumbnail:null==u||null===(e=u.images)||void 0===e||null===(a=e.fallback)||void 0===a?void 0:a.src,keywords:l,ogType:"article"})};function S(n){return t.createElement(v,n,t.createElement(u,n))}},5777:function(n,e,a){var s=a(7294);e.Z=function(){const n=(0,s.useRef)(null);return(0,s.useEffect)((()=>{var e;const a=document.createElement("script");Object.entries({src:"https://utteranc.es/client.js",repo:"ricale/blog","issue-term":"pathname",label:"utterances",theme:"github-dark",crossOrigin:"anonymous",async:"true"}).forEach((n=>{let[e,s]=n;a.setAttribute(e,s)})),null===(e=n.current)||void 0===e||e.appendChild(a)}),[]),s.createElement("div",{id:"comments",ref:n})}},5534:function(n,e,a){var s,t=a(1880);const p=a(891).ZP.div(s||(s=(0,t.Z)(["\n  font-size: 16px;\n  line-height: 1.5;\n\n  p {\n    margin-top: 0;\n    margin-bottom: 16px;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-top: 24px;\n    margin-bottom: 16px;\n    line-height: 1.25;\n    font-weight: 600;\n  }\n\n  h1 {\n    padding-bottom: 0.3em;\n    border-bottom: 1px solid #21262d;\n    font-size: 2em;\n  }\n\n  h2 {\n    padding-bottom: 0.3em;\n    border-bottom: 1px solid #21262d;\n    font-size: 1.5em;\n  }\n\n  h3 {\n    font-size: 1.25em;\n  }\n\n  h4 {\n    font-size: 1em;\n  }\n\n  h5 {\n    font-size: 0.875em;\n  }\n\n  ul,\n  ol,\n  .gatsby-resp-image-wrapper {\n    margin-bottom: 16px;\n  }\n\n  table {\n    width: max-content;\n    max-width: 100%;\n    margin-bottom: 16px;\n    border-collapse: collapse;\n    tr {\n      border-top: 1px solid #21262d;\n    }\n    td,\n    th {\n      padding: 6px 13px;\n      border: 1px solid #30363d;\n    }\n  }\n\n  hr {\n    height: 0.25em;\n    margin: 24px 0;\n    border: 0;\n\n    background-color: #30363d;\n  }\n\n  li > ul,\n  li > ol {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  blockquote {\n    position: relative;\n\n    margin-left: 0;\n    margin-right: 0;\n    margin-bottom: 16px;\n    padding: 16px 32px;\n    border-left: 1px solid ",";\n    border-left-width: 10px;\n\n    background-color: ",";\n\n    > :first-child {\n      margin-top: 0;\n    }\n    > :last-child {\n      margin-bottom: 0;\n    }\n    > ul,\n    > ol {\n      padding-left: 20px;\n    }\n  }\n\n  blockquote:before {\n    content: '\"';\n\n    position: absolute;\n    top: -10px;\n    left: 5px;\n\n    font-size: 3em;\n    color: ",";\n  }\n  blockquote:after {\n    content: '\"';\n\n    position: absolute;\n    bottom: -30px;\n    right: 5px;\n\n    font-size: 3em;\n    color: ",";\n  }\n\n  code {\n    padding: 0.2em 0.4em;\n    border-radius: 2px;\n\n    font-size: 0.85em;\n\n    background-color: ",";\n    color: ",";\n    white-space: break-spaces;\n  }\n\n  pre {\n    margin-bottom: 16px;\n\n    overflow-x: auto;\n  }\n\n  pre > code {\n    padding: unset;\n    border-radius: unset;\n    background-color: unset;\n    color: unset;\n  }\n"])),(n=>n.theme.colors.blockquoteBorder),(n=>n.theme.colors.blockquote),(n=>n.theme.colors.blockquoteBorder),(n=>n.theme.colors.blockquoteBorder),(n=>n.theme.colors.code),(n=>n.theme.colors.onCode));e.Z=p},7178:function(n,e,a){var s,t,p,o,l,c=a(1880),r=a(7294),i=a(1883),u=a(891);const d=u.ZP.div(s||(s=(0,c.Z)(["\n  margin-bottom: 16px;\n  align-items: center;\n\n  background-color: #111111;\n"]))),g=u.ZP.div(t||(t=(0,c.Z)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px;\n  cursor: pointer;\n\n  > h2 {\n    margin: 0;\n    font-size: 1rem;\n  }\n\n  > span {\n    user-select: none;\n    transform: rotate(","deg);\n  }\n"])),(n=>n.collapsed?0:180)),m=u.ZP.ol(p||(p=(0,c.Z)(["\n  margin: 0 16px;\n  padding-bottom: 16px;\n"]))),k=u.ZP.li(o||(o=(0,c.Z)(["\n  ","\n"])),(n=>n.active&&(0,u.iv)(l||(l=(0,c.Z)(["\n      & > a {\n        font-weight: bold;\n        font-style: italic;\n        text-decoration: underline;\n      }\n    "])))));e.Z=function(n){let{name:e,data:a,current:s}=n;const[t,p]=r.useState(!0);return a?r.createElement(d,null,r.createElement(g,{collapsed:t,onClick:()=>p((n=>!n))},r.createElement("h2",null,"시리즈 ",r.createElement(i.rU,{to:"/series/"+e+"/"},'"'+e+'"')),r.createElement("span",null,"▲")),!t&&r.createElement(m,null,a.map((n=>{let{frontmatter:{slug:e,title:a}}=n;return r.createElement(k,{active:e===s,key:e},r.createElement(i.rU,{to:"/posts/"+e},a))})))):null}},1597:function(n,e,a){var s,t=a(1880),p=a(7294),o=a(1883);const l=(0,a(891).ZP)(o.rU)(s||(s=(0,t.Z)(["\n  display: inline-block;\n  padding: ","px ","px;\n  border-radius: 2px;\n\n  background-color: ",";\n  color: ",";\n  text-decoration: none;\n"])),(n=>n.theme.dimens.spacing),(n=>n.theme.dimens.gutter),(n=>n.theme.colors.tag),(n=>n.theme.colors.onTag));e.Z=function(n){let{value:e}=n;return p.createElement(l,{to:"/tags/"+e},e)}},6706:function(n,e,a){var s,t=a(1880),p=a(7294),o=a(891),l=a(1597);const c=o.ZP.ul(s||(s=(0,t.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: ","px;\n\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"])),(n=>n.theme.dimens.gutter));e.Z=function(n){let{tags:e,...a}=n;const s="string"==typeof e[0]?e.map((n=>({fieldValue:n,totalCount:void 0}))):e;return p.createElement(c,a,s.map((n=>p.createElement("li",{key:n.fieldValue},p.createElement(l.Z,{value:n.fieldValue})))))}},1151:function(n,e,a){a.d(e,{ah:function(){return p}});var s=a(7294);const t=s.createContext({});function p(n){const e=s.useContext(t);return s.useMemo((()=>"function"==typeof n?n(e):{...e,...n}),[e,n])}}}]);
//# sourceMappingURL=component---src-pages-posts-mdx-frontmatter-slug-tsx-content-file-path-users-kangseong-workspace-private-ricalelog-posts-2022-221225-ios-style-picker-2-index-mdx-8d68b0fc74bed67530dd.js.map