{"version":3,"file":"component---src-templates-series-detail-page-template-tsx-4fec1dab53545092a455.js","mappings":"qJAoBA,MAAMA,EAAYC,EAAAA,GAAAA,IAAU,sIAStBC,EAAWD,EAAAA,GAAAA,EAAQ,sBAEnBE,EAAWF,EAAAA,GAAAA,IAAU,gOAerBG,EAAOH,EAAAA,GAAAA,EAAQ,wEAKrB,IA3CA,SAAwB,GAAiD,IAAjD,MAAEI,EAAK,SAAEC,EAAQ,KAAEC,GAA2B,EACpE,OACEC,EAAAA,cAACR,EAAS,OACLM,GAAYE,EAAAA,cAACN,EAAQ,KAAEI,GAC1BE,EAAAA,cAACL,EAAQ,KACPK,EAAAA,cAAAA,KAAAA,KAAKH,KACFE,GAAQC,EAAAA,cAACJ,EAAI,SAAMG,EAAI,MAIlC,C,oFC6BA,MAAMP,EAAYC,EAAAA,GAAAA,IAAU,sBAEtBQ,EAAgBR,EAAAA,GAAAA,IAAU,kKAW1BS,EAAsBT,EAAAA,GAAAA,OAAa,wKAUnCU,EAAWV,EAAAA,GAAAA,GAAS,orBA2C1B,IAlGA,SAAwB,GAAwC,IAAtCW,KAAMC,GAA6B,EAC3D,MAAOC,EAAYC,GAAiBP,EAAAA,UAAe,GAC7CI,GAAOI,EAAAA,EAAAA,GAAIH,GAAQI,MACvB,CAACC,EAAGC,IACFD,EAAEE,KAAKC,YAAYC,aAAaC,cAC9BJ,EAAEC,KAAKC,YAAYC,eAChBR,EAAa,GAAK,KAG3B,OACEN,EAAAA,cAACR,EAAS,KACRQ,EAAAA,cAACC,EAAa,KACZD,EAAAA,cAAAA,OAAAA,KAAAA,OACAA,EAAAA,cAACE,EAAmB,CAACc,QAAS,IAAMT,GAAeU,IAAQA,KAAI,QACrDX,EAAa,OAAS,UAGlCN,EAAAA,cAACG,EAAQ,KACNC,EAAKc,KAAIC,IAAAA,IAAGP,MAAM,YAAEC,IAAe,SAClCb,EAAAA,cAAAA,KAAAA,CACEoB,IAAKP,EAAYQ,KACjBL,QAAS,KAAMM,EAAAA,EAAAA,UAAS,UAAUT,EAAYQ,OAE9CrB,EAAAA,cAAAA,OAAAA,CAAMuB,UAAU,QAAQV,EAAYW,MACpCxB,EAAAA,cAAAA,OAAAA,CAAMuB,UAAU,SAASV,EAAYhB,OAClC,KAKf,C,2ICjBA,MA6Ca4B,EAAON,IAMd,YANe,YACnBO,EAAW,KACXtB,GAID,EACC,MAAM,OAAEuB,GAAWD,GACb,WAAEE,EAAU,MAAEC,GAAUzB,EAAK0B,OAC7BC,GAAYvB,EAAAA,EAAAA,GAAIqB,GAAOpB,MAAK,CAACC,EAAGC,IACpCA,EAAEC,KAAKC,YAAYC,aAAaC,cAC9BL,EAAEE,KAAKC,YAAYC,gBAErB,GACIkB,EAAQD,EAAUnB,KAAKC,YAAYoB,WACrCC,EAAAA,EAAAA,GAASH,EAAUnB,KAAKC,YAAYoB,WACpC,KAEJ,OACEjC,EAAAA,cAACmC,EAAAA,EAAG,CACFtC,MAAK,QAAU8B,EAAM,IACrBS,YAAgBR,EAAU,cAC1BS,KAAI,UAAYV,EAChBW,UAAWN,SAAa,QAAR,EAALA,EAAOO,cAAM,OAAU,QAAV,EAAbC,EAAeC,gBAAQ,WAAlB,EAALC,EAAyBC,KACpC,EAIN,UAzEiCC,IAM3B,IAN4B,YAChClB,EAAW,KACXtB,GAID,EACC,MAAM,OAAEuB,GAAWD,GACb,WAAEE,EAAU,MAAEC,GAAUzB,EAAK0B,OAEnC,OACE9B,EAAAA,cAAC6C,EAAAA,EAAM,CAACC,iBAAkB,KACxB9C,EAAAA,cAAC+C,EAAAA,EAAc,CAAClD,MAAO8B,EAAQ7B,SAAS,MAAMC,KAAM6B,IACpD5B,EAAAA,cAACgD,EAAAA,EAAc,CAAC5C,KAAMyB,IACf,C","sources":["webpack://ricalelog/./src/components/ListPageHeader.tsx","webpack://ricalelog/./src/components/SimplePostList.tsx","webpack://ricalelog/./src/templates/SeriesDetailPageTemplate.tsx"],"sourcesContent":["import * as React from \"react\";\nimport styled from \"../themes\";\n\ntype ListPageHeaderProps = {\n  title: string;\n  subtitle?: string;\n  note?: string | number;\n};\nfunction ListPageHeader({ title, subtitle, note }: ListPageHeaderProps) {\n  return (\n    <Container>\n      {!!subtitle && <Subtitle>{subtitle}</Subtitle>}\n      <TitleRow>\n        <h1>{title}</h1>\n        {!!note && <Note>{`(${note})`}</Note>}\n      </TitleRow>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  margin: 40px 0 45px;\n  padding-left: 40px;\n\n  @media (max-width: 414px) {\n    padding-left: 20px;\n  }\n`;\n\nconst Subtitle = styled.p``;\n\nconst TitleRow = styled.div`\n  display: flex;\n  align-items: flex-end;\n  gap: 8px;\n\n  & > h1 {\n    word-break: keep-all;\n  }\n\n  @media (max-width: 414px) {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n`;\n\nconst Note = styled.p`\n  margin-bottom: 8px;\n  font-size: 0.9375rem;\n`;\n\nexport default ListPageHeader;\n","import * as React from \"react\";\nimport { navigate } from \"gatsby\";\nimport styled from \"../themes\";\nimport { PostFrontmatter } from \"../types\";\n\ntype SimplePostListProps = {\n  data: {\n    node: {\n      frontmatter: Pick<PostFrontmatter, \"title\" | \"slug\" | \"date\"> & {\n        originalDate: string;\n      };\n    };\n  }[];\n};\n\nfunction SimplePostList({ data: source }: SimplePostListProps) {\n  const [orderByAsc, setOrderByAsc] = React.useState(false);\n  const data = [...source].sort(\n    (a, b) =>\n      a.node.frontmatter.originalDate.localeCompare(\n        b.node.frontmatter.originalDate\n      ) * (orderByAsc ? 1 : -1)\n  );\n\n  return (\n    <Container>\n      <SortingAction>\n        <span>정렬:</span>\n        <SortingToggleButton onClick={() => setOrderByAsc((st) => !st)}>\n          {`작성일 ${orderByAsc ? \"오름차순\" : \"내림차순\"}`}\n        </SortingToggleButton>\n      </SortingAction>\n      <PostList>\n        {data.map(({ node: { frontmatter } }) => (\n          <li\n            key={frontmatter.slug}\n            onClick={() => navigate(`/posts/${frontmatter.slug}`)}\n          >\n            <span className=\"date\">{frontmatter.date}</span>\n            <span className=\"title\">{frontmatter.title}</span>\n          </li>\n        ))}\n      </PostList>\n    </Container>\n  );\n}\n\nconst Container = styled.div``;\n\nconst SortingAction = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 2px;\n\n  > span {\n    font-size: 0.875rem;\n    color: #ffffff;\n  }\n`;\nconst SortingToggleButton = styled.button`\n  border: 0;\n  text-decoration: underline;\n\n  font-size: 0.875rem;\n  color: #ffffff;\n  background-color: transparent;\n  cursor: pointer;\n`;\n\nconst PostList = styled.ol`\n  margin-top: 8px;\n  padding-left: 0px;\n  list-style: none;\n  cursor: pointer;\n\n  li {\n    display: flex;\n    align-items: center;\n\n    padding: 2px;\n    margin-bottom: 4px;\n    :hover {\n      background-color: #666666;\n    }\n\n    > .date {\n      margin-right: 8px;\n      font-family: monospace;\n      font-size: 0.875rem;\n    }\n    > .title {\n      color: skyblue;\n    }\n  }\n\n  @media (max-width: 414px) {\n    li {\n      flex-direction: column;\n      align-items: flex-start;\n\n      margin-bottom: 12px;\n      > .date {\n        order: 2;\n        font-size: 0.75rem;\n      }\n      > .title {\n        order: 1;\n      }\n    }\n  }\n`;\n\nexport default SimplePostList;\n","import * as React from \"react\";\nimport { graphql, HeadProps, PageProps } from \"gatsby\";\nimport { getImage } from \"gatsby-plugin-image\";\n\nimport Layout from \"../components/Layout\";\nimport ListPageHeader from \"../components/ListPageHeader\";\nimport SimplePostList from \"../components/SimplePostList\";\nimport { PostFrontmatter } from \"../types\";\nimport Seo from \"../components/Seo\";\n\ntype SeriesDetailPageTemplateData = {\n  allMdx: {\n    totalCount: number;\n    edges: {\n      node: {\n        frontmatter: Pick<\n          PostFrontmatter,\n          \"title\" | \"slug\" | \"date\" | \"heroImage\"\n        > & {\n          originalDate: string;\n        };\n      };\n    }[];\n  };\n};\ntype SeriesDetailPageTemplateContext = {\n  series: string;\n};\nconst SeriesDetailPageTemplate = ({\n  pageContext,\n  data,\n}: PageProps<\n  SeriesDetailPageTemplateData,\n  SeriesDetailPageTemplateContext\n>) => {\n  const { series } = pageContext;\n  const { totalCount, edges } = data.allMdx;\n\n  return (\n    <Layout minContentHeight={500}>\n      <ListPageHeader title={series} subtitle=\"시리즈\" note={totalCount} />\n      <SimplePostList data={edges} />\n    </Layout>\n  );\n};\n\nexport const pageQuery = graphql`\n  query ($series: String) {\n    allMdx(\n      limit: 2000\n      sort: { frontmatter: { date: DESC } }\n      filter: { frontmatter: { series: { in: [$series] }, date: { ne: \"\" } } }\n    ) {\n      totalCount\n      edges {\n        node {\n          frontmatter {\n            title\n            slug\n            date(formatString: \"YYYY.MM.DD.\")\n            originalDate: date\n            heroImage {\n              childImageSharp {\n                gatsbyImageData\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const Head = ({\n  pageContext,\n  data,\n}: HeadProps<\n  SeriesDetailPageTemplateData,\n  SeriesDetailPageTemplateContext\n>) => {\n  const { series } = pageContext;\n  const { totalCount, edges } = data.allMdx;\n  const firstPost = [...edges].sort((a, b) =>\n    b.node.frontmatter.originalDate.localeCompare(\n      a.node.frontmatter.originalDate\n    )\n  )[0];\n  const image = firstPost.node.frontmatter.heroImage\n    ? getImage(firstPost.node.frontmatter.heroImage)\n    : null;\n\n  return (\n    <Seo\n      title={`시리즈 \"${series}\"`}\n      description={`${totalCount}개의 글이 있습니다.`}\n      path={`series/${series}`}\n      thumbnail={image?.images?.fallback?.src}\n    />\n  );\n};\n\nexport default SeriesDetailPageTemplate;\n"],"names":["Container","styled","Subtitle","TitleRow","Note","title","subtitle","note","React","SortingAction","SortingToggleButton","PostList","data","source","orderByAsc","setOrderByAsc","_toConsumableArray","sort","a","b","node","frontmatter","originalDate","localeCompare","onClick","st","map","_ref2","key","slug","navigate","className","date","Head","pageContext","series","totalCount","edges","allMdx","firstPost","image","heroImage","getImage","Seo","description","path","thumbnail","images","_image$images","fallback","_image$images$fallbac","src","_ref","Layout","minContentHeight","ListPageHeader","SimplePostList"],"sourceRoot":""}